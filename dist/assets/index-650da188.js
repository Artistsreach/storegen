function nP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var O1={exports:{}},yu={},V1={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),oP=Symbol.for("react.portal"),iP=Symbol.for("react.fragment"),sP=Symbol.for("react.strict_mode"),aP=Symbol.for("react.profiler"),lP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),uP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),fP=Symbol.for("react.memo"),hP=Symbol.for("react.lazy"),zg=Symbol.iterator;function pP(t){return t===null||typeof t!="object"?null:(t=zg&&t[zg]||t["@@iterator"],typeof t=="function"?t:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B1=Object.assign,z1={};function ds(t,e,n){this.props=t,this.context=e,this.refs=z1,this.updater=n||U1}ds.prototype.isReactComponent={};ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G1(){}G1.prototype=ds.prototype;function Np(t,e,n){this.props=t,this.context=e,this.refs=z1,this.updater=n||U1}var Ip=Np.prototype=new G1;Ip.constructor=Np;B1(Ip,ds.prototype);Ip.isPureReactComponent=!0;var Gg=Array.isArray,W1=Object.prototype.hasOwnProperty,Rp={current:null},H1={key:!0,ref:!0,__self:!0,__source:!0};function q1(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)W1.call(e,r)&&!H1.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:qa,type:t,key:i,ref:s,props:o,_owner:Rp.current}}function mP(t,e){return{$$typeof:qa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===qa}function gP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wg=/\/+/g;function wd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gP(""+t.key):e.toString(36)}function rc(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qa:case oP:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+wd(s,0):r,Gg(o)?(n="",t!=null&&(n=t.replace(Wg,"$&/")+"/"),rc(o,e,n,"",function(c){return c})):o!=null&&(Mp(o)&&(o=mP(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Wg,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Gg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wd(i,a);s+=rc(i,e,n,l,o)}else if(l=pP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wd(i,a++),s+=rc(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ml(t,e,n){if(t==null)return t;var r=[],o=0;return rc(t,r,"","",function(i){return e.call(n,i,o++)}),r}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},oc={transition:null},yP={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:oc,ReactCurrentOwner:Rp};function K1(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:ml,forEach:function(t,e,n){ml(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ml(t,function(){e++}),e},toArray:function(t){return ml(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ds;me.Fragment=iP;me.Profiler=aP;me.PureComponent=Np;me.StrictMode=sP;me.Suspense=dP;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yP;me.act=K1;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B1({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Rp.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W1.call(e,l)&&!H1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qa,type:t.type,key:o,ref:i,props:r,_owner:s}};me.createContext=function(t){return t={$$typeof:cP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lP,_context:t},t.Consumer=t};me.createElement=q1;me.createFactory=function(t){var e=q1.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:uP,render:t}};me.isValidElement=Mp;me.lazy=function(t){return{$$typeof:hP,_payload:{_status:-1,_result:t},_init:vP}};me.memo=function(t,e){return{$$typeof:fP,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=oc.transition;oc.transition={};try{t()}finally{oc.transition=e}};me.unstable_act=K1;me.useCallback=function(t,e){return _t.current.useCallback(t,e)};me.useContext=function(t){return _t.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};me.useEffect=function(t,e){return _t.current.useEffect(t,e)};me.useId=function(){return _t.current.useId()};me.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return _t.current.useMemo(t,e)};me.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};me.useRef=function(t){return _t.current.useRef(t)};me.useState=function(t){return _t.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return _t.current.useTransition()};me.version="18.3.1";V1.exports=me;var g=V1.exports;const k=F1(g),xu=nP({__proto__:null,default:k},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=g,wP=Symbol.for("react.element"),CP=Symbol.for("react.fragment"),SP=Object.prototype.hasOwnProperty,EP=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bP={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)SP.call(e,r)&&!bP.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:wP,type:t,key:i,ref:s,props:o,_owner:EP.current}}yu.Fragment=CP;yu.jsx=Y1;yu.jsxs=Y1;O1.exports=yu;var f=O1.exports,$f={},J1={exports:{}},Xt={},X1={exports:{}},Q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,M){var V=L.length;L.push(M);e:for(;0<V;){var z=V-1>>>1,H=L[z];if(0<o(H,M))L[z]=M,L[V]=H,V=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var M=L[0],V=L.pop();if(V!==M){L[0]=V;e:for(var z=0,H=L.length,ie=H>>>1;z<ie;){var de=2*(z+1)-1,ye=L[de],ce=de+1,X=L[ce];if(0>o(ye,V))ce<H&&0>o(X,ye)?(L[z]=X,L[ce]=V,z=ce):(L[z]=ye,L[de]=V,z=de);else if(ce<H&&0>o(X,V))L[z]=X,L[ce]=V,z=ce;else break e}}return M}function o(L,M){var V=L.sortIndex-M.sortIndex;return V!==0?V:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,p=3,v=!1,x=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=L)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function b(L){if(y=!1,E(L),!x)if(n(l)!==null)x=!0,F(T);else{var M=n(c);M!==null&&K(b,M.startTime-L)}}function T(L,M){x=!1,y&&(y=!1,C(_),_=-1),v=!0;var V=p;try{for(E(M),d=n(l);d!==null&&(!(d.expirationTime>M)||L&&!R());){var z=d.callback;if(typeof z=="function"){d.callback=null,p=d.priorityLevel;var H=z(d.expirationTime<=M);M=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),E(M)}else r(l);d=n(l)}if(d!==null)var ie=!0;else{var de=n(c);de!==null&&K(b,de.startTime-M),ie=!1}return ie}finally{d=null,p=V,v=!1}}var A=!1,P=null,_=-1,N=5,I=-1;function R(){return!(t.unstable_now()-I<N)}function D(){if(P!==null){var L=t.unstable_now();I=L;var M=!0;try{M=P(!0,L)}finally{M?U():(A=!1,P=null)}}else A=!1}var U;if(typeof w=="function")U=function(){w(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=D,U=function(){O.postMessage(null)}}else U=function(){S(D,0)};function F(L){P=L,A||(A=!0,U())}function K(L,M){_=S(function(){L(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,F(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var V=p;p=M;try{return L()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=p;p=L;try{return M()}finally{p=V}},t.unstable_scheduleCallback=function(L,M,V){var z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,L={id:u++,callback:M,priorityLevel:L,startTime:V,expirationTime:H,sortIndex:-1},V>z?(L.sortIndex=V,e(c,L),n(l)===null&&L===n(c)&&(y?(C(_),_=-1):y=!0,K(b,V-z))):(L.sortIndex=H,e(l,L),x||v||(x=!0,F(T))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var M=p;return function(){var V=p;p=M;try{return L.apply(this,arguments)}finally{p=V}}}})(Q1);X1.exports=Q1;var TP=X1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P=g,Yt=TP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z1=new Set,va={};function Xo(t,e){Hi(t,e),Hi(t+"Capture",e)}function Hi(t,e){for(va[t]=e,t=0;t<e.length;t++)Z1.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,PP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hg={},qg={};function AP(t){return Df.call(qg,t)?!0:Df.call(Hg,t)?!1:PP.test(t)?qg[t]=!0:(Hg[t]=!0,!1)}function kP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NP(t,e,n,r){if(e===null||typeof e>"u"||kP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $p=/[\-:]([a-z])/g;function Dp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($p,Dp);at[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($p,Dp);at[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($p,Dp);at[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lp(t,e,n,r){var o=at.hasOwnProperty(e)?at[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NP(e,n,o,r)&&(n=null),r||o===null?AP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=_P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),yi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),nw=Symbol.for("react.offscreen"),Kg=Symbol.iterator;function ks(t){return t===null||typeof t!="object"?null:(t=Kg&&t[Kg]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Cd;function zs(t){if(Cd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cd=e&&e[1]||""}return`
`+Cd+t}var Sd=!1;function Ed(t,e){if(!t||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zs(t):""}function IP(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=Ed(t.type,!1),t;case 11:return t=Ed(t.type.render,!1),t;case 1:return t=Ed(t.type,!0),t;default:return""}}function Of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case yi:return"Portal";case Lf:return"Profiler";case jp:return"StrictMode";case jf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tw:return(t.displayName||"Context")+".Consumer";case ew:return(t._context.displayName||"Context")+".Provider";case Fp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Op:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}function RP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Of(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MP(t){var e=rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vl(t){t._valueTracker||(t._valueTracker=MP(t))}function ow(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iw(t,e){e=e.checked,e!=null&&Lp(t,"checked",e,!1)}function Uf(t,e){iw(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||Tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gs=Array.isArray;function Li(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Gs(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function sw(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yl,lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$P=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){$P.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function uw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var DP=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(t,e){if(e){if(DP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=null;function Vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kf=null,ji=null,Fi=null;function Zg(t){if(t=Ja(t)){if(typeof Kf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=bu(e),Kf(t.stateNode,t.type,e))}}function dw(t){ji?Fi?Fi.push(t):Fi=[t]:ji=t}function fw(){if(ji){var t=ji,e=Fi;if(Fi=ji=null,Zg(t),e)for(t=0;t<e.length;t++)Zg(e[t])}}function hw(t,e){return t(e)}function pw(){}var bd=!1;function mw(t,e,n){if(bd)return t(e,n);bd=!0;try{return hw(t,e,n)}finally{bd=!1,(ji!==null||Fi!==null)&&(pw(),fw())}}function xa(t,e){var n=t.stateNode;if(n===null)return null;var r=bu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Yf=!1;if(or)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Yf=!1}function LP(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Xs=!1,_c=null,Pc=!1,Jf=null,jP={onError:function(t){Xs=!0,_c=t}};function FP(t,e,n,r,o,i,s,a,l){Xs=!1,_c=null,LP.apply(jP,arguments)}function OP(t,e,n,r,o,i,s,a,l){if(FP.apply(this,arguments),Xs){if(Xs){var c=_c;Xs=!1,_c=null}else throw Error(B(198));Pc||(Pc=!0,Jf=c)}}function Qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ev(t){if(Qo(t)!==t)throw Error(B(188))}function VP(t){var e=t.alternate;if(!e){if(e=Qo(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ev(o),t;if(i===r)return ev(o),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function vw(t){return t=VP(t),t!==null?yw(t):null}function yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yw(t);if(e!==null)return e;t=t.sibling}return null}var xw=Yt.unstable_scheduleCallback,tv=Yt.unstable_cancelCallback,UP=Yt.unstable_shouldYield,BP=Yt.unstable_requestPaint,He=Yt.unstable_now,zP=Yt.unstable_getCurrentPriorityLevel,Up=Yt.unstable_ImmediatePriority,ww=Yt.unstable_UserBlockingPriority,Ac=Yt.unstable_NormalPriority,GP=Yt.unstable_LowPriority,Cw=Yt.unstable_IdlePriority,wu=null,Mn=null;function WP(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(wu,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:KP,HP=Math.log,qP=Math.LN2;function KP(t){return t>>>=0,t===0?32:31-(HP(t)/qP|0)|0}var xl=64,wl=4194304;function Ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Ws(a):(i&=s,i!==0&&(r=Ws(i)))}else s=n&~o,s!==0?r=Ws(s):i!==0&&(r=Ws(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wn(e),o=1<<n,r|=t[n],e&=~o;return r}function YP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-wn(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=YP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sw(){var t=xl;return xl<<=1,!(xl&4194240)&&(xl=64),t}function Td(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function XP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-wn(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Bp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var be=0;function Ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bw,zp,Tw,_w,Pw,Qf=!1,Cl=[],Fr=null,Or=null,Vr=null,wa=new Map,Ca=new Map,Rr=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nv(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Is(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Ja(e),e!==null&&zp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function ZP(t,e,n,r,o){switch(e){case"focusin":return Fr=Is(Fr,t,e,n,r,o),!0;case"dragenter":return Or=Is(Or,t,e,n,r,o),!0;case"mouseover":return Vr=Is(Vr,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return wa.set(i,Is(wa.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ca.set(i,Is(Ca.get(i)||null,t,e,n,r,o)),!0}return!1}function Aw(t){var e=Ao(t.target);if(e!==null){var n=Qo(e);if(n!==null){if(e=n.tag,e===13){if(e=gw(n),e!==null){t.blockedOn=e,Pw(t.priority,function(){Tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qf=r,n.target.dispatchEvent(r),qf=null}else return e=Ja(n),e!==null&&zp(e),t.blockedOn=n,!1;e.shift()}return!0}function rv(t,e,n){ic(t)&&n.delete(e)}function eA(){Qf=!1,Fr!==null&&ic(Fr)&&(Fr=null),Or!==null&&ic(Or)&&(Or=null),Vr!==null&&ic(Vr)&&(Vr=null),wa.forEach(rv),Ca.forEach(rv)}function Rs(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,eA)))}function Sa(t){function e(o){return Rs(o,t)}if(0<Cl.length){Rs(Cl[0],t);for(var n=1;n<Cl.length;n++){var r=Cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&Rs(Fr,t),Or!==null&&Rs(Or,t),Vr!==null&&Rs(Vr,t),wa.forEach(e),Ca.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)Aw(n),n.blockedOn===null&&Rr.shift()}var Oi=pr.ReactCurrentBatchConfig,Nc=!0;function tA(t,e,n,r){var o=be,i=Oi.transition;Oi.transition=null;try{be=1,Gp(t,e,n,r)}finally{be=o,Oi.transition=i}}function nA(t,e,n,r){var o=be,i=Oi.transition;Oi.transition=null;try{be=4,Gp(t,e,n,r)}finally{be=o,Oi.transition=i}}function Gp(t,e,n,r){if(Nc){var o=Zf(t,e,n,r);if(o===null)Dd(t,e,r,Ic,n),nv(t,r);else if(ZP(o,t,e,n,r))r.stopPropagation();else if(nv(t,r),e&4&&-1<QP.indexOf(t)){for(;o!==null;){var i=Ja(o);if(i!==null&&bw(i),i=Zf(t,e,n,r),i===null&&Dd(t,e,r,Ic,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Dd(t,e,r,null,n)}}var Ic=null;function Zf(t,e,n,r){if(Ic=null,t=Vp(r),t=Ao(t),t!==null)if(e=Qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ic=t,null}function kw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zP()){case Up:return 1;case ww:return 4;case Ac:case GP:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var Dr=null,Wp=null,sc=null;function Nw(){if(sc)return sc;var t,e=Wp,n=e.length,r,o="value"in Dr?Dr.value:Dr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return sc=o.slice(t,1<r?1-r:void 0)}function ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function ov(){return!1}function Qt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sl:ov,this.isPropagationStopped=ov,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hp=Qt(fs),Ya=Be({},fs,{view:0,detail:0}),rA=Qt(Ya),_d,Pd,Ms,Cu=Be({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(_d=t.screenX-Ms.screenX,Pd=t.screenY-Ms.screenY):Pd=_d=0,Ms=t),_d)},movementY:function(t){return"movementY"in t?t.movementY:Pd}}),iv=Qt(Cu),oA=Be({},Cu,{dataTransfer:0}),iA=Qt(oA),sA=Be({},Ya,{relatedTarget:0}),Ad=Qt(sA),aA=Be({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),lA=Qt(aA),cA=Be({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uA=Qt(cA),dA=Be({},fs,{data:0}),sv=Qt(dA),fA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pA[t])?!!e[t]:!1}function qp(){return mA}var gA=Be({},Ya,{key:function(t){if(t.key){var e=fA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(t){return t.type==="keypress"?ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vA=Qt(gA),yA=Be({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),av=Qt(yA),xA=Be({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),wA=Qt(xA),CA=Be({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),SA=Qt(CA),EA=Be({},Cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bA=Qt(EA),TA=[9,13,27,32],Kp=or&&"CompositionEvent"in window,Qs=null;or&&"documentMode"in document&&(Qs=document.documentMode);var _A=or&&"TextEvent"in window&&!Qs,Iw=or&&(!Kp||Qs&&8<Qs&&11>=Qs),lv=String.fromCharCode(32),cv=!1;function Rw(t,e){switch(t){case"keyup":return TA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function PA(t,e){switch(t){case"compositionend":return Mw(e);case"keypress":return e.which!==32?null:(cv=!0,lv);case"textInput":return t=e.data,t===lv&&cv?null:t;default:return null}}function AA(t,e){if(wi)return t==="compositionend"||!Kp&&Rw(t,e)?(t=Nw(),sc=Wp=Dr=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iw&&e.locale!=="ko"?null:e.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kA[t.type]:e==="textarea"}function $w(t,e,n,r){dw(r),e=Rc(e,"onChange"),0<e.length&&(n=new Hp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zs=null,Ea=null;function NA(t){Ww(t,0)}function Su(t){var e=Ei(t);if(ow(e))return t}function IA(t,e){if(t==="change")return e}var Dw=!1;if(or){var kd;if(or){var Nd="oninput"in document;if(!Nd){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),Nd=typeof dv.oninput=="function"}kd=Nd}else kd=!1;Dw=kd&&(!document.documentMode||9<document.documentMode)}function fv(){Zs&&(Zs.detachEvent("onpropertychange",Lw),Ea=Zs=null)}function Lw(t){if(t.propertyName==="value"&&Su(Ea)){var e=[];$w(e,Ea,t,Vp(t)),mw(NA,e)}}function RA(t,e,n){t==="focusin"?(fv(),Zs=e,Ea=n,Zs.attachEvent("onpropertychange",Lw)):t==="focusout"&&fv()}function MA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Ea)}function $A(t,e){if(t==="click")return Su(e)}function DA(t,e){if(t==="input"||t==="change")return Su(e)}function LA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:LA;function ba(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Df.call(e,o)||!En(t[o],e[o]))return!1}return!0}function hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pv(t,e){var n=hv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hv(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=Tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tc(t.document)}return e}function Yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jA(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&Yp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=pv(n,i);var s=pv(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FA=or&&"documentMode"in document&&11>=document.documentMode,Ci=null,eh=null,ea=null,th=!1;function mv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;th||Ci==null||Ci!==Tc(r)||(r=Ci,"selectionStart"in r&&Yp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ea&&ba(ea,r)||(ea=r,r=Rc(eh,"onSelect"),0<r.length&&(e=new Hp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ci)))}function El(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Id={},Ow={};or&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Eu(t){if(Id[t])return Id[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ow)return Id[t]=e[n];return t}var Vw=Eu("animationend"),Uw=Eu("animationiteration"),Bw=Eu("animationstart"),zw=Eu("transitionend"),Gw=new Map,gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){Gw.set(t,e),Xo(e,[t])}for(var Rd=0;Rd<gv.length;Rd++){var Md=gv[Rd],OA=Md.toLowerCase(),VA=Md[0].toUpperCase()+Md.slice(1);io(OA,"on"+VA)}io(Vw,"onAnimationEnd");io(Uw,"onAnimationIteration");io(Bw,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(zw,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function vv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OP(r,e,void 0,t),t.currentTarget=null}function Ww(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;vv(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;vv(o,a,c),i=l}}}if(Pc)throw t=Jf,Pc=!1,Jf=null,t}function Re(t,e){var n=e[sh];n===void 0&&(n=e[sh]=new Set);var r=t+"__bubble";n.has(r)||(Hw(e,t,2,!1),n.add(r))}function $d(t,e,n){var r=0;e&&(r|=4),Hw(n,t,r,e)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Ta(t){if(!t[bl]){t[bl]=!0,Z1.forEach(function(n){n!=="selectionchange"&&(UA.has(n)||$d(n,!1,t),$d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bl]||(e[bl]=!0,$d("selectionchange",!1,e))}}function Hw(t,e,n,r){switch(kw(e)){case 1:var o=tA;break;case 4:o=nA;break;default:o=Gp}n=o.bind(null,e,n,t),o=void 0,!Yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Dd(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Ao(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}mw(function(){var c=i,u=Vp(n),d=[];e:{var p=Gw.get(t);if(p!==void 0){var v=Hp,x=t;switch(t){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":v=vA;break;case"focusin":x="focus",v=Ad;break;case"focusout":x="blur",v=Ad;break;case"beforeblur":case"afterblur":v=Ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wA;break;case Vw:case Uw:case Bw:v=lA;break;case zw:v=SA;break;case"scroll":v=rA;break;case"wheel":v=bA;break;case"copy":case"cut":case"paste":v=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=av}var y=(e&4)!==0,S=!y&&t==="scroll",C=y?p!==null?p+"Capture":null:p;y=[];for(var w=c,E;w!==null;){E=w;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,C!==null&&(b=xa(w,C),b!=null&&y.push(_a(w,b,E)))),S)break;w=w.return}0<y.length&&(p=new v(p,x,null,n,u),d.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==qf&&(x=n.relatedTarget||n.fromElement)&&(Ao(x)||x[ir]))break e;if((v||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?Ao(x):null,x!==null&&(S=Qo(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(y=iv,b="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=av,b="onPointerLeave",C="onPointerEnter",w="pointer"),S=v==null?p:Ei(v),E=x==null?p:Ei(x),p=new y(b,w+"leave",v,n,u),p.target=S,p.relatedTarget=E,b=null,Ao(u)===c&&(y=new y(C,w+"enter",x,n,u),y.target=E,y.relatedTarget=S,b=y),S=b,v&&x)t:{for(y=v,C=x,w=0,E=y;E;E=ai(E))w++;for(E=0,b=C;b;b=ai(b))E++;for(;0<w-E;)y=ai(y),w--;for(;0<E-w;)C=ai(C),E--;for(;w--;){if(y===C||C!==null&&y===C.alternate)break t;y=ai(y),C=ai(C)}y=null}else y=null;v!==null&&yv(d,p,v,y,!1),x!==null&&S!==null&&yv(d,S,x,y,!0)}}e:{if(p=c?Ei(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var T=IA;else if(uv(p))if(Dw)T=DA;else{T=MA;var A=RA}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=$A);if(T&&(T=T(t,c))){$w(d,T,n,u);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Bf(p,"number",p.value)}switch(A=c?Ei(c):window,t){case"focusin":(uv(A)||A.contentEditable==="true")&&(Ci=A,eh=c,ea=null);break;case"focusout":ea=eh=Ci=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,mv(d,n,u);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":mv(d,n,u)}var P;if(Kp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else wi?Rw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Iw&&n.locale!=="ko"&&(wi||_!=="onCompositionStart"?_==="onCompositionEnd"&&wi&&(P=Nw()):(Dr=u,Wp="value"in Dr?Dr.value:Dr.textContent,wi=!0)),A=Rc(c,_),0<A.length&&(_=new sv(_,t,null,n,u),d.push({event:_,listeners:A}),P?_.data=P:(P=Mw(n),P!==null&&(_.data=P)))),(P=_A?PA(t,n):AA(t,n))&&(c=Rc(c,"onBeforeInput"),0<c.length&&(u=new sv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}Ww(d,e)})}function _a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rc(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=xa(t,n),i!=null&&r.unshift(_a(t,i,o)),i=xa(t,e),i!=null&&r.push(_a(t,i,o))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yv(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=xa(n,i),l!=null&&s.unshift(_a(n,l,a))):o||(l=xa(n,i),l!=null&&s.push(_a(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var BA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(BA,`
`).replace(zA,"")}function Tl(t,e,n){if(e=xv(e),xv(t)!==e&&n)throw Error(B(425))}function Mc(){}var nh=null,rh=null;function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(HA)}:ih;function HA(t){setTimeout(function(){throw t})}function Ld(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Sa(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Rn="__reactFiber$"+hs,Pa="__reactProps$"+hs,ir="__reactContainer$"+hs,sh="__reactEvents$"+hs,qA="__reactListeners$"+hs,KA="__reactHandles$"+hs;function Ao(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cv(t);t!==null;){if(n=t[Rn])return n;t=Cv(t)}return e}t=n,n=t.parentNode}return null}function Ja(t){return t=t[Rn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function bu(t){return t[Pa]||null}var ah=[],bi=-1;function so(t){return{current:t}}function $e(t){0>bi||(t.current=ah[bi],ah[bi]=null,bi--)}function ke(t,e){bi++,ah[bi]=t.current,t.current=e}var Qr={},vt=so(Qr),Dt=so(!1),Fo=Qr;function qi(t,e){var n=t.type.contextTypes;if(!n)return Qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Lt(t){return t=t.childContextTypes,t!=null}function $c(){$e(Dt),$e(vt)}function Sv(t,e,n){if(vt.current!==Qr)throw Error(B(168));ke(vt,e),ke(Dt,n)}function qw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(B(108,RP(t)||"Unknown",o));return Be({},n,r)}function Dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,Fo=vt.current,ke(vt,t),ke(Dt,Dt.current),!0}function Ev(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=qw(t,e,Fo),r.__reactInternalMemoizedMergedChildContext=t,$e(Dt),$e(vt),ke(vt,t)):$e(Dt),ke(Dt,n)}var Jn=null,Tu=!1,jd=!1;function Kw(t){Jn===null?Jn=[t]:Jn.push(t)}function YA(t){Tu=!0,Kw(t)}function ao(){if(!jd&&Jn!==null){jd=!0;var t=0,e=be;try{var n=Jn;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,Tu=!1}catch(o){throw Jn!==null&&(Jn=Jn.slice(t+1)),xw(Up,ao),o}finally{be=e,jd=!1}}return null}var Ti=[],_i=0,Lc=null,jc=0,rn=[],on=0,Oo=null,Xn=1,Qn="";function xo(t,e){Ti[_i++]=jc,Ti[_i++]=Lc,Lc=t,jc=e}function Yw(t,e,n){rn[on++]=Xn,rn[on++]=Qn,rn[on++]=Oo,Oo=t;var r=Xn;t=Qn;var o=32-wn(r)-1;r&=~(1<<o),n+=1;var i=32-wn(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xn=1<<32-wn(e)+o|n<<o|r,Qn=i+t}else Xn=1<<i|n<<o|r,Qn=t}function Jp(t){t.return!==null&&(xo(t,1),Yw(t,1,0))}function Xp(t){for(;t===Lc;)Lc=Ti[--_i],Ti[_i]=null,jc=Ti[--_i],Ti[_i]=null;for(;t===Oo;)Oo=rn[--on],rn[on]=null,Qn=rn[--on],rn[on]=null,Xn=rn[--on],rn[on]=null}var Ht=null,Wt=null,Le=!1,yn=null;function Jw(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,Wt=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oo!==null?{id:Xn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,Wt=null,!0):!1;default:return!1}}function lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ch(t){if(Le){var e=Wt;if(e){var n=e;if(!bv(t,e)){if(lh(t))throw Error(B(418));e=Ur(n.nextSibling);var r=Ht;e&&bv(t,e)?Jw(r,n):(t.flags=t.flags&-4097|2,Le=!1,Ht=t)}}else{if(lh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,Ht=t}}}function Tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function _l(t){if(t!==Ht)return!1;if(!Le)return Tv(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oh(t.type,t.memoizedProps)),e&&(e=Wt)){if(lh(t))throw Xw(),Error(B(418));for(;e;)Jw(t,e),e=Ur(e.nextSibling)}if(Tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Ht?Ur(t.stateNode.nextSibling):null;return!0}function Xw(){for(var t=Wt;t;)t=Ur(t.nextSibling)}function Ki(){Wt=Ht=null,Le=!1}function Qp(t){yn===null?yn=[t]:yn.push(t)}var JA=pr.ReactCurrentBatchConfig;function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Pl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _v(t){var e=t._init;return e(t._payload)}function Qw(t){function e(C,w){if(t){var E=C.deletions;E===null?(C.deletions=[w],C.flags|=16):E.push(w)}}function n(C,w){if(!t)return null;for(;w!==null;)e(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function o(C,w){return C=Wr(C,w),C.index=0,C.sibling=null,C}function i(C,w,E){return C.index=E,t?(E=C.alternate,E!==null?(E=E.index,E<w?(C.flags|=2,w):E):(C.flags|=2,w)):(C.flags|=1048576,w)}function s(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,w,E,b){return w===null||w.tag!==6?(w=Gd(E,C.mode,b),w.return=C,w):(w=o(w,E),w.return=C,w)}function l(C,w,E,b){var T=E.type;return T===xi?u(C,w,E.props.children,b,E.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ar&&_v(T)===w.type)?(b=o(w,E.props),b.ref=$s(C,w,E),b.return=C,b):(b=pc(E.type,E.key,E.props,null,C.mode,b),b.ref=$s(C,w,E),b.return=C,b)}function c(C,w,E,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Wd(E,C.mode,b),w.return=C,w):(w=o(w,E.children||[]),w.return=C,w)}function u(C,w,E,b,T){return w===null||w.tag!==7?(w=Do(E,C.mode,b,T),w.return=C,w):(w=o(w,E),w.return=C,w)}function d(C,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Gd(""+w,C.mode,E),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gl:return E=pc(w.type,w.key,w.props,null,C.mode,E),E.ref=$s(C,null,w),E.return=C,E;case yi:return w=Wd(w,C.mode,E),w.return=C,w;case Ar:var b=w._init;return d(C,b(w._payload),E)}if(Gs(w)||ks(w))return w=Do(w,C.mode,E,null),w.return=C,w;Pl(C,w)}return null}function p(C,w,E,b){var T=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(C,w,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gl:return E.key===T?l(C,w,E,b):null;case yi:return E.key===T?c(C,w,E,b):null;case Ar:return T=E._init,p(C,w,T(E._payload),b)}if(Gs(E)||ks(E))return T!==null?null:u(C,w,E,b,null);Pl(C,E)}return null}function v(C,w,E,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return C=C.get(E)||null,a(w,C,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gl:return C=C.get(b.key===null?E:b.key)||null,l(w,C,b,T);case yi:return C=C.get(b.key===null?E:b.key)||null,c(w,C,b,T);case Ar:var A=b._init;return v(C,w,E,A(b._payload),T)}if(Gs(b)||ks(b))return C=C.get(E)||null,u(w,C,b,T,null);Pl(w,b)}return null}function x(C,w,E,b){for(var T=null,A=null,P=w,_=w=0,N=null;P!==null&&_<E.length;_++){P.index>_?(N=P,P=null):N=P.sibling;var I=p(C,P,E[_],b);if(I===null){P===null&&(P=N);break}t&&P&&I.alternate===null&&e(C,P),w=i(I,w,_),A===null?T=I:A.sibling=I,A=I,P=N}if(_===E.length)return n(C,P),Le&&xo(C,_),T;if(P===null){for(;_<E.length;_++)P=d(C,E[_],b),P!==null&&(w=i(P,w,_),A===null?T=P:A.sibling=P,A=P);return Le&&xo(C,_),T}for(P=r(C,P);_<E.length;_++)N=v(P,C,_,E[_],b),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?_:N.key),w=i(N,w,_),A===null?T=N:A.sibling=N,A=N);return t&&P.forEach(function(R){return e(C,R)}),Le&&xo(C,_),T}function y(C,w,E,b){var T=ks(E);if(typeof T!="function")throw Error(B(150));if(E=T.call(E),E==null)throw Error(B(151));for(var A=T=null,P=w,_=w=0,N=null,I=E.next();P!==null&&!I.done;_++,I=E.next()){P.index>_?(N=P,P=null):N=P.sibling;var R=p(C,P,I.value,b);if(R===null){P===null&&(P=N);break}t&&P&&R.alternate===null&&e(C,P),w=i(R,w,_),A===null?T=R:A.sibling=R,A=R,P=N}if(I.done)return n(C,P),Le&&xo(C,_),T;if(P===null){for(;!I.done;_++,I=E.next())I=d(C,I.value,b),I!==null&&(w=i(I,w,_),A===null?T=I:A.sibling=I,A=I);return Le&&xo(C,_),T}for(P=r(C,P);!I.done;_++,I=E.next())I=v(P,C,_,I.value,b),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?_:I.key),w=i(I,w,_),A===null?T=I:A.sibling=I,A=I);return t&&P.forEach(function(D){return e(C,D)}),Le&&xo(C,_),T}function S(C,w,E,b){if(typeof E=="object"&&E!==null&&E.type===xi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case gl:e:{for(var T=E.key,A=w;A!==null;){if(A.key===T){if(T=E.type,T===xi){if(A.tag===7){n(C,A.sibling),w=o(A,E.props.children),w.return=C,C=w;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ar&&_v(T)===A.type){n(C,A.sibling),w=o(A,E.props),w.ref=$s(C,A,E),w.return=C,C=w;break e}n(C,A);break}else e(C,A);A=A.sibling}E.type===xi?(w=Do(E.props.children,C.mode,b,E.key),w.return=C,C=w):(b=pc(E.type,E.key,E.props,null,C.mode,b),b.ref=$s(C,w,E),b.return=C,C=b)}return s(C);case yi:e:{for(A=E.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(C,w.sibling),w=o(w,E.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else e(C,w);w=w.sibling}w=Wd(E,C.mode,b),w.return=C,C=w}return s(C);case Ar:return A=E._init,S(C,w,A(E._payload),b)}if(Gs(E))return x(C,w,E,b);if(ks(E))return y(C,w,E,b);Pl(C,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(C,w.sibling),w=o(w,E),w.return=C,C=w):(n(C,w),w=Gd(E,C.mode,b),w.return=C,C=w),s(C)):n(C,w)}return S}var Yi=Qw(!0),Zw=Qw(!1),Fc=so(null),Oc=null,Pi=null,Zp=null;function em(){Zp=Pi=Oc=null}function tm(t){var e=Fc.current;$e(Fc),t._currentValue=e}function uh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){Oc=t,Zp=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(Zp!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(Oc===null)throw Error(B(308));Pi=t,Oc.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var ko=null;function nm(t){ko===null?ko=[t]:ko.push(t)}function eC(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,nm(e)):(n.next=o.next,o.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kr=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,sr(t,n)}return o=r.interleaved,o===null?(e.next=e,nm(r)):(e.next=o.next,o.next=e),r.interleaved=e,sr(t,n)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bp(t,n)}}function Pv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vc(t,e,n,r){var o=t.updateQueue;kr=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(p=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(v,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(v,d,p):x,p==null)break e;d=Be({},d,p);break e;case 2:kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=d):u=u.next=v,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Uo|=s,t.lanes=s,t.memoizedState=d}}function Av(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var Xa={},$n=so(Xa),Aa=so(Xa),ka=so(Xa);function No(t){if(t===Xa)throw Error(B(174));return t}function om(t,e){switch(ke(ka,e),ke(Aa,t),ke($n,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gf(e,t)}$e($n),ke($n,e)}function Ji(){$e($n),$e(Aa),$e(ka)}function nC(t){No(ka.current);var e=No($n.current),n=Gf(e,t.type);e!==n&&(ke(Aa,t),ke($n,n))}function im(t){Aa.current===t&&($e($n),$e(Aa))}var Oe=so(0);function Uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fd=[];function sm(){for(var t=0;t<Fd.length;t++)Fd[t]._workInProgressVersionPrimary=null;Fd.length=0}var cc=pr.ReactCurrentDispatcher,Od=pr.ReactCurrentBatchConfig,Vo=0,Ue=null,Xe=null,tt=null,Bc=!1,ta=!1,Na=0,XA=0;function dt(){throw Error(B(321))}function am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function lm(t,e,n,r,o,i){if(Vo=i,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?tk:nk,t=n(r,o),ta){i=0;do{if(ta=!1,Na=0,25<=i)throw Error(B(301));i+=1,tt=Xe=null,e.updateQueue=null,cc.current=rk,t=n(r,o)}while(ta)}if(cc.current=zc,e=Xe!==null&&Xe.next!==null,Vo=0,tt=Xe=Ue=null,Bc=!1,e)throw Error(B(300));return t}function cm(){var t=Na!==0;return Na=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ue.memoizedState=tt=t:tt=tt.next=t,tt}function un(){if(Xe===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=tt===null?Ue.memoizedState:tt.next;if(e!==null)tt=e,Xe=t;else{if(t===null)throw Error(B(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?Ue.memoizedState=tt=t:tt=tt.next=t}return tt}function Ia(t,e){return typeof e=="function"?e(t):e}function Vd(t){var e=un(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Xe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Vo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ue.lanes|=u,Uo|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,En(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,Ue.lanes|=i,Uo|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ud(t){var e=un(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);En(i,e.memoizedState)||(It=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rC(){}function oC(t,e){var n=Ue,r=un(),o=e(),i=!En(r.memoizedState,o);if(i&&(r.memoizedState=o,It=!0),r=r.queue,um(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Ra(9,sC.bind(null,n,r,o,e),void 0,null),rt===null)throw Error(B(349));Vo&30||iC(n,e,o)}return o}function iC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&cC(t)}function aC(t,e,n){return n(function(){lC(e)&&cC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function cC(t){var e=sr(t,1);e!==null&&Cn(e,t,1,-1)}function kv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},e.queue=t,t=t.dispatch=ek.bind(null,Ue,t),[e.memoizedState,t]}function Ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return un().memoizedState}function uc(t,e,n,r){var o=In();Ue.flags|=t,o.memoizedState=Ra(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var o=un();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var s=Xe.memoizedState;if(i=s.destroy,r!==null&&am(r,s.deps)){o.memoizedState=Ra(e,n,i,r);return}}Ue.flags|=t,o.memoizedState=Ra(1|e,n,i,r)}function Nv(t,e){return uc(8390656,8,t,e)}function um(t,e){return _u(2048,8,t,e)}function dC(t,e){return _u(4,2,t,e)}function fC(t,e){return _u(4,4,t,e)}function hC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,hC.bind(null,e,t),n)}function dm(){}function mC(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vC(t,e,n){return Vo&21?(En(n,e)||(n=Sw(),Ue.lanes|=n,Uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function QA(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=Od.transition;Od.transition={};try{t(!1),e()}finally{be=n,Od.transition=r}}function yC(){return un().memoizedState}function ZA(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xC(t))wC(e,n);else if(n=eC(t,e,n,r),n!==null){var o=bt();Cn(n,t,r,o),CC(n,e,r)}}function ek(t,e,n){var r=Gr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xC(t))wC(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,En(a,s)){var l=e.interleaved;l===null?(o.next=o,nm(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=eC(t,e,o,r),n!==null&&(o=bt(),Cn(n,t,r,o),CC(n,e,r))}}function xC(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function wC(t,e){ta=Bc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bp(t,n)}}var zc={readContext:cn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},tk={readContext:cn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:Nv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,hC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZA.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:kv,useDebugValue:dm,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=kv(!1),e=t[0];return t=QA.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,o=In();if(Le){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),rt===null)throw Error(B(349));Vo&30||iC(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Nv(aC.bind(null,r,i,t),[t]),r.flags|=2048,Ra(9,sC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=In(),e=rt.identifierPrefix;if(Le){var n=Qn,r=Xn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nk={readContext:cn,useCallback:mC,useContext:cn,useEffect:um,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Vd,useRef:uC,useState:function(){return Vd(Ia)},useDebugValue:dm,useDeferredValue:function(t){var e=un();return vC(e,Xe.memoizedState,t)},useTransition:function(){var t=Vd(Ia)[0],e=un().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:oC,useId:yC,unstable_isNewReconciler:!1},rk={readContext:cn,useCallback:mC,useContext:cn,useEffect:um,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Ud,useRef:uC,useState:function(){return Ud(Ia)},useDebugValue:dm,useDeferredValue:function(t){var e=un();return Xe===null?e.memoizedState=t:vC(e,Xe.memoizedState,t)},useTransition:function(){var t=Ud(Ia)[0],e=un().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:oC,useId:yC,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pu={isMounted:function(t){return(t=t._reactInternals)?Qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),o=Gr(t),i=er(r,o);i.payload=e,n!=null&&(i.callback=n),e=Br(t,i,o),e!==null&&(Cn(e,t,o,r),lc(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),o=Gr(t),i=er(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Br(t,i,o),e!==null&&(Cn(e,t,o,r),lc(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=Gr(t),o=er(n,r);o.tag=2,e!=null&&(o.callback=e),e=Br(t,o,r),e!==null&&(Cn(e,t,r,n),lc(e,t,r))}};function Iv(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!ba(n,r)||!ba(o,i):!0}function SC(t,e,n){var r=!1,o=Qr,i=e.contextType;return typeof i=="object"&&i!==null?i=cn(i):(o=Lt(e)?Fo:vt.current,r=e.contextTypes,i=(r=r!=null)?qi(t,o):Qr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pu.enqueueReplaceState(e,e.state,null)}function fh(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},rm(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=cn(i):(i=Lt(e)?Fo:vt.current,o.context=qi(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dh(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Pu.enqueueReplaceState(o,o.state,null),Vc(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,e){try{var n="",r=e;do n+=IP(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Bd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ok=typeof WeakMap=="function"?WeakMap:Map;function EC(t,e,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wc||(Wc=!0,Eh=r),hh(t,e)},n}function bC(t,e,n){n=er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){hh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hh(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Mv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ok;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=yk.bind(null,t,e,n),e.then(t,t))}function $v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dv(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=er(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var ik=pr.ReactCurrentOwner,It=!1;function Et(t,e,n,r){e.child=t===null?Zw(e,null,n,r):Yi(e,t.child,n,r)}function Lv(t,e,n,r,o){n=n.render;var i=e.ref;return Vi(e,o),r=lm(t,e,n,r,i,o),n=cm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ar(t,e,o)):(Le&&n&&Jp(e),e.flags|=1,Et(t,e,r,o),e.child)}function jv(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!xm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TC(t,e,i,r,o)):(t=pc(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(s,r)&&t.ref===e.ref)return ar(t,e,o)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function TC(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(ba(i,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,ar(t,e,o)}return ph(t,e,n,r,o)}function _C(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(ki,Bt),Bt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(ki,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(ki,Bt),Bt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(ki,Bt),Bt|=r;return Et(t,e,o,n),e.child}function PC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ph(t,e,n,r,o){var i=Lt(n)?Fo:vt.current;return i=qi(e,i),Vi(e,o),n=lm(t,e,n,r,i,o),r=cm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ar(t,e,o)):(Le&&r&&Jp(e),e.flags|=1,Et(t,e,n,o),e.child)}function Fv(t,e,n,r,o){if(Lt(n)){var i=!0;Dc(e)}else i=!1;if(Vi(e,o),e.stateNode===null)dc(t,e),SC(e,n,r),fh(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=cn(c):(c=Lt(n)?Fo:vt.current,c=qi(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Rv(e,s,r,c),kr=!1;var p=e.memoizedState;s.state=p,Vc(e,r,s,o),l=e.memoizedState,a!==r||p!==l||Dt.current||kr?(typeof u=="function"&&(dh(e,n,u,r),l=e.memoizedState),(a=kr||Iv(e,n,a,r,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,tC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mn(e.type,a),s.props=c,d=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Lt(n)?Fo:vt.current,l=qi(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Rv(e,s,r,l),kr=!1,p=e.memoizedState,s.state=p,Vc(e,r,s,o);var x=e.memoizedState;a!==d||p!==x||Dt.current||kr?(typeof v=="function"&&(dh(e,n,v,r),x=e.memoizedState),(c=kr||Iv(e,n,c,r,p,x,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return mh(t,e,n,r,i,o)}function mh(t,e,n,r,o,i){PC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Ev(e,n,!1),ar(t,e,i);r=e.stateNode,ik.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Yi(e,t.child,null,i),e.child=Yi(e,null,a,i)):Et(t,e,a,i),e.memoizedState=r.state,o&&Ev(e,n,!0),e.child}function AC(t){var e=t.stateNode;e.pendingContext?Sv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sv(t,e.context,!1),om(t,e.containerInfo)}function Ov(t,e,n,r,o){return Ki(),Qp(o),e.flags|=256,Et(t,e,n,r),e.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function kC(t,e,n){var r=e.pendingProps,o=Oe.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ke(Oe,o&1),t===null)return ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Nu(s,r,0,null),t=Do(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vh(n),e.memoizedState=gh,t):fm(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return sk(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Do(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?vh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=gh,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fm(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&Qp(r),Yi(e,t.child,null,n),t=fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sk(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Bd(Error(B(422))),Al(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Nu({mode:"visible",children:r.children},o,0,null),i=Do(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yi(e,t.child,null,s),e.child.memoizedState=vh(s),e.memoizedState=gh,i);if(!(e.mode&1))return Al(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Bd(i,r,void 0),Al(t,e,s,r)}if(a=(s&t.childLanes)!==0,It||a){if(r=rt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,sr(t,o),Cn(r,t,o,-1))}return ym(),r=Bd(Error(B(421))),Al(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=xk.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Wt=Ur(o.nextSibling),Ht=e,Le=!0,yn=null,t!==null&&(rn[on++]=Xn,rn[on++]=Qn,rn[on++]=Oo,Xn=t.id,Qn=t.overflow,Oo=e),e=fm(e,r.children),e.flags|=4096,e)}function Vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uh(t.return,e,n)}function zd(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function NC(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Et(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vv(t,n,e);else if(t.tag===19)Vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Uc(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),zd(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Uc(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}zd(e,!0,n,null,i);break;case"together":zd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ak(t,e,n){switch(e.tag){case 3:AC(e),Ki();break;case 5:nC(e);break;case 1:Lt(e.type)&&Dc(e);break;case 4:om(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ke(Fc,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?kC(t,e,n):(ke(Oe,Oe.current&1),t=ar(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NC(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,_C(t,e,n)}return ar(t,e,n)}var IC,yh,RC,MC;IC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yh=function(){};RC=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,No($n.current);var i=null;switch(n){case"input":o=Vf(t,o),r=Vf(t,r),i=[];break;case"select":o=Be({},o,{value:void 0}),r=Be({},r,{value:void 0}),i=[];break;case"textarea":o=zf(t,o),r=zf(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}Wf(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(va.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(va.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};MC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ds(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lk(t,e,n){var r=e.pendingProps;switch(Xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Lt(e.type)&&$c(),ft(e),null;case 3:return r=e.stateNode,Ji(),$e(Dt),$e(vt),sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_l(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(_h(yn),yn=null))),yh(t,e),ft(e),null;case 5:im(e);var o=No(ka.current);if(n=e.type,t!==null&&e.stateNode!=null)RC(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ft(e),null}if(t=No($n.current),_l(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Rn]=e,r[Pa]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(o=0;o<Hs.length;o++)Re(Hs[o],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Yg(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Xg(r,i),Re("invalid",r)}Wf(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Tl(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Tl(r.textContent,a,t),o=["children",""+a]):va.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Re("scroll",r)}switch(n){case"input":vl(r),Jg(r,i,!0);break;case"textarea":vl(r),Qg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mc)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Rn]=e,t[Pa]=r,IC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Hf(n,r),n){case"dialog":Re("cancel",t),Re("close",t),o=r;break;case"iframe":case"object":case"embed":Re("load",t),o=r;break;case"video":case"audio":for(o=0;o<Hs.length;o++)Re(Hs[o],t);o=r;break;case"source":Re("error",t),o=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),o=r;break;case"details":Re("toggle",t),o=r;break;case"input":Yg(t,r),o=Vf(t,r),Re("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Be({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Xg(t,r),o=zf(t,r),Re("invalid",t);break;default:o=r}Wf(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ya(t,l):typeof l=="number"&&ya(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(va.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",t):l!=null&&Lp(t,i,l,s))}switch(n){case"input":vl(t),Jg(t,r,!1);break;case"textarea":vl(t),Qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Li(t,!!r.multiple,i,!1):r.defaultValue!=null&&Li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)MC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=No(ka.current),No($n.current),_l(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rn]=e,(i=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:Tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=e,e.stateNode=r}return ft(e),null;case 13:if($e(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&Wt!==null&&e.mode&1&&!(e.flags&128))Xw(),Ki(),e.flags|=98560,i=!1;else if(i=_l(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Rn]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else yn!==null&&(_h(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Qe===0&&(Qe=3):ym())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Ji(),yh(t,e),t===null&&Ta(e.stateNode.containerInfo),ft(e),null;case 10:return tm(e.type._context),ft(e),null;case 17:return Lt(e.type)&&$c(),ft(e),null;case 19:if($e(Oe),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ds(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Uc(t),s!==null){for(e.flags|=128,Ds(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>Qi&&(e.flags|=128,r=!0,Ds(i,!1),e.lanes=4194304)}else{if(!r)if(t=Uc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Le)return ft(e),null}else 2*He()-i.renderingStartTime>Qi&&n!==1073741824&&(e.flags|=128,r=!0,Ds(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Oe.current,ke(Oe,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function ck(t,e){switch(Xp(e),e.tag){case 1:return Lt(e.type)&&$c(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ji(),$e(Dt),$e(vt),sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return im(e),null;case 13:if($e(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Oe),null;case 4:return Ji(),null;case 10:return tm(e.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var kl=!1,mt=!1,uk=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function xh(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Uv=!1;function dk(t,e){if(nh=Nc,t=Fw(),Yp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var v;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===t)break t;if(p===n&&++c===o&&(a=s),p===i&&++u===r&&(l=s),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:t,selectionRange:n},Nc=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,S=x.memoizedState,C=e.stateNode,w=C.getSnapshotBeforeUpdate(e.elementType===e.type?y:mn(e.type,y),S);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){ze(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return x=Uv,Uv=!1,x}function na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&xh(e,n,i)}o=o.next}while(o!==r)}}function Au(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $C(t){var e=t.alternate;e!==null&&(t.alternate=null,$C(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[Pa],delete e[sh],delete e[qA],delete e[KA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DC(t){return t.tag===5||t.tag===3||t.tag===4}function Bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(Ch(t,e,n),t=t.sibling;t!==null;)Ch(t,e,n),t=t.sibling}function Sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sh(t,e,n),t=t.sibling;t!==null;)Sh(t,e,n),t=t.sibling}var it=null,gn=!1;function Cr(t,e,n){for(n=n.child;n!==null;)LC(t,e,n),n=n.sibling}function LC(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(wu,n)}catch{}switch(n.tag){case 5:mt||Ai(n,e);case 6:var r=it,o=gn;it=null,Cr(t,e,n),it=r,gn=o,it!==null&&(gn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(gn?(t=it,n=n.stateNode,t.nodeType===8?Ld(t.parentNode,n):t.nodeType===1&&Ld(t,n),Sa(t)):Ld(it,n.stateNode));break;case 4:r=it,o=gn,it=n.stateNode.containerInfo,gn=!0,Cr(t,e,n),it=r,gn=o;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&xh(n,e,s),o=o.next}while(o!==r)}Cr(t,e,n);break;case 1:if(!mt&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,Cr(t,e,n),mt=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function zv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uk),e.forEach(function(r){var o=wk.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,gn=!1;break e;case 3:it=a.stateNode.containerInfo,gn=!0;break e;case 4:it=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(it===null)throw Error(B(160));LC(i,s,o),it=null,gn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ze(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jC(e,t),e=e.sibling}function jC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),kn(t),r&4){try{na(3,t,t.return),Au(3,t)}catch(y){ze(t,t.return,y)}try{na(5,t,t.return)}catch(y){ze(t,t.return,y)}}break;case 1:hn(e,t),kn(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(hn(e,t),kn(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var o=t.stateNode;try{ya(o,"")}catch(y){ze(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iw(o,i),Hf(a,s);var c=Hf(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?uw(o,d):u==="dangerouslySetInnerHTML"?lw(o,d):u==="children"?ya(o,d):Lp(o,u,d,c)}switch(a){case"input":Uf(o,i);break;case"textarea":sw(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Li(o,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Li(o,!!i.multiple,i.defaultValue,!0):Li(o,!!i.multiple,i.multiple?[]:"",!1))}o[Pa]=i}catch(y){ze(t,t.return,y)}}break;case 6:if(hn(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(B(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(y){ze(t,t.return,y)}}break;case 3:if(hn(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(y){ze(t,t.return,y)}break;case 4:hn(e,t),kn(t);break;case 13:hn(e,t),kn(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(mm=He())),r&4&&zv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(c=mt)||u,hn(e,t),mt=c):hn(e,t),kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(d=J=u;J!==null;){switch(p=J,v=p.child,p.tag){case 0:case 11:case 14:case 15:na(4,p,p.return);break;case 1:Ai(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){ze(r,n,y)}}break;case 5:Ai(p,p.return);break;case 22:if(p.memoizedState!==null){Wv(d);continue}}v!==null?(v.return=p,J=v):Wv(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cw("display",s))}catch(y){ze(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ze(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hn(e,t),kn(t),r&4&&zv(t);break;case 21:break;default:hn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DC(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ya(o,""),r.flags&=-33);var i=Bv(t);Sh(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Bv(t);Ch(t,a,s);break;default:throw Error(B(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fk(t,e,n){J=t,FC(t)}function FC(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var o=J,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||kl;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||mt;a=kl;var c=mt;if(kl=s,(mt=l)&&!c)for(J=o;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?Hv(o):l!==null?(l.return=s,J=l):Hv(o);for(;i!==null;)J=i,FC(i),i=i.sibling;J=o,kl=a,mt=c}Gv(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,J=i):Gv(t)}}function Gv(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||Au(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Av(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Av(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Sa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}mt||e.flags&512&&wh(e)}catch(p){ze(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Wv(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Hv(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Au(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ze(e,o,l)}}var i=e.return;try{wh(e)}catch(l){ze(e,i,l)}break;case 5:var s=e.return;try{wh(e)}catch(l){ze(e,s,l)}}}catch(l){ze(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var hk=Math.ceil,Gc=pr.ReactCurrentDispatcher,hm=pr.ReactCurrentOwner,an=pr.ReactCurrentBatchConfig,xe=0,rt=null,Je=null,st=0,Bt=0,ki=so(0),Qe=0,Ma=null,Uo=0,ku=0,pm=0,ra=null,kt=null,mm=0,Qi=1/0,qn=null,Wc=!1,Eh=null,zr=null,Nl=!1,Lr=null,Hc=0,oa=0,bh=null,fc=-1,hc=0;function bt(){return xe&6?He():fc!==-1?fc:fc=He()}function Gr(t){return t.mode&1?xe&2&&st!==0?st&-st:JA.transition!==null?(hc===0&&(hc=Sw()),hc):(t=be,t!==0||(t=window.event,t=t===void 0?16:kw(t.type)),t):1}function Cn(t,e,n,r){if(50<oa)throw oa=0,bh=null,Error(B(185));Ka(t,n,r),(!(xe&2)||t!==rt)&&(t===rt&&(!(xe&2)&&(ku|=n),Qe===4&&Mr(t,st)),jt(t,r),n===1&&xe===0&&!(e.mode&1)&&(Qi=He()+500,Tu&&ao()))}function jt(t,e){var n=t.callbackNode;JP(t,e);var r=kc(t,t===rt?st:0);if(r===0)n!==null&&tv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tv(n),e===1)t.tag===0?YA(qv.bind(null,t)):Kw(qv.bind(null,t)),WA(function(){!(xe&6)&&ao()}),n=null;else{switch(Ew(r)){case 1:n=Up;break;case 4:n=ww;break;case 16:n=Ac;break;case 536870912:n=Cw;break;default:n=Ac}n=HC(n,OC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OC(t,e){if(fc=-1,hc=0,xe&6)throw Error(B(327));var n=t.callbackNode;if(Ui()&&t.callbackNode!==n)return null;var r=kc(t,t===rt?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qc(t,r);else{e=r;var o=xe;xe|=2;var i=UC();(rt!==t||st!==e)&&(qn=null,Qi=He()+500,$o(t,e));do try{gk();break}catch(a){VC(t,a)}while(1);em(),Gc.current=i,xe=o,Je!==null?e=0:(rt=null,st=0,e=Qe)}if(e!==0){if(e===2&&(o=Xf(t),o!==0&&(r=o,e=Th(t,o))),e===1)throw n=Ma,$o(t,0),Mr(t,r),jt(t,He()),n;if(e===6)Mr(t,r);else{if(o=t.current.alternate,!(r&30)&&!pk(o)&&(e=qc(t,r),e===2&&(i=Xf(t),i!==0&&(r=i,e=Th(t,i))),e===1))throw n=Ma,$o(t,0),Mr(t,r),jt(t,He()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:wo(t,kt,qn);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=mm+500-He(),10<e)){if(kc(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ih(wo.bind(null,t,kt,qn),e);break}wo(t,kt,qn);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-wn(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hk(r/1960))-r,10<r){t.timeoutHandle=ih(wo.bind(null,t,kt,qn),r);break}wo(t,kt,qn);break;case 5:wo(t,kt,qn);break;default:throw Error(B(329))}}}return jt(t,He()),t.callbackNode===n?OC.bind(null,t):null}function Th(t,e){var n=ra;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=qc(t,e),t!==2&&(e=kt,kt=n,e!==null&&_h(e)),t}function _h(t){kt===null?kt=t:kt.push.apply(kt,t)}function pk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!En(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~pm,e&=~ku,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),r=1<<n;t[n]=-1,e&=~r}}function qv(t){if(xe&6)throw Error(B(327));Ui();var e=kc(t,0);if(!(e&1))return jt(t,He()),null;var n=qc(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=Th(t,r))}if(n===1)throw n=Ma,$o(t,0),Mr(t,e),jt(t,He()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wo(t,kt,qn),jt(t,He()),null}function gm(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Qi=He()+500,Tu&&ao())}}function Bo(t){Lr!==null&&Lr.tag===0&&!(xe&6)&&Ui();var e=xe;xe|=1;var n=an.transition,r=be;try{if(an.transition=null,be=1,t)return t()}finally{be=r,an.transition=n,xe=e,!(xe&6)&&ao()}}function vm(){Bt=ki.current,$e(ki)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GA(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$c();break;case 3:Ji(),$e(Dt),$e(vt),sm();break;case 5:im(r);break;case 4:Ji();break;case 13:$e(Oe);break;case 19:$e(Oe);break;case 10:tm(r.type._context);break;case 22:case 23:vm()}n=n.return}if(rt=t,Je=t=Wr(t.current,null),st=Bt=e,Qe=0,Ma=null,pm=ku=Uo=0,kt=ra=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}ko=null}return t}function VC(t,e){do{var n=Je;try{if(em(),cc.current=zc,Bc){for(var r=Ue.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Bc=!1}if(Vo=0,tt=Xe=Ue=null,ta=!1,Na=0,hm.current=null,n===null||n.return===null){Qe=1,Ma=e,Je=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=$v(s);if(v!==null){v.flags&=-257,Dv(v,s,a,i,e),v.mode&1&&Mv(i,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(l),e.updateQueue=y}else x.add(l);break e}else{if(!(e&1)){Mv(i,c,e),ym();break e}l=Error(B(426))}}else if(Le&&a.mode&1){var S=$v(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Dv(S,s,a,i,e),Qp(Xi(l,a));break e}}i=l=Xi(l,a),Qe!==4&&(Qe=2),ra===null?ra=[i]:ra.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var C=EC(i,l,e);Pv(i,C);break e;case 1:a=l;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(zr===null||!zr.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=bC(i,a,e);Pv(i,b);break e}}i=i.return}while(i!==null)}zC(n)}catch(T){e=T,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function UC(){var t=Gc.current;return Gc.current=zc,t===null?zc:t}function ym(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),rt===null||!(Uo&268435455)&&!(ku&268435455)||Mr(rt,st)}function qc(t,e){var n=xe;xe|=2;var r=UC();(rt!==t||st!==e)&&(qn=null,$o(t,e));do try{mk();break}catch(o){VC(t,o)}while(1);if(em(),xe=n,Gc.current=r,Je!==null)throw Error(B(261));return rt=null,st=0,Qe}function mk(){for(;Je!==null;)BC(Je)}function gk(){for(;Je!==null&&!UP();)BC(Je)}function BC(t){var e=WC(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?zC(t):Je=e,hm.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ck(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Je=null;return}}else if(n=lk(n,e,Bt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);Qe===0&&(Qe=5)}function wo(t,e,n){var r=be,o=an.transition;try{an.transition=null,be=1,vk(t,e,n,r)}finally{an.transition=o,be=r}return null}function vk(t,e,n,r){do Ui();while(Lr!==null);if(xe&6)throw Error(B(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XP(t,i),t===rt&&(Je=rt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nl||(Nl=!0,HC(Ac,function(){return Ui(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=an.transition,an.transition=null;var s=be;be=1;var a=xe;xe|=4,hm.current=null,dk(t,n),jC(n,t),jA(rh),Nc=!!nh,rh=nh=null,t.current=n,fk(n),BP(),xe=a,be=s,an.transition=i}else t.current=n;if(Nl&&(Nl=!1,Lr=t,Hc=o),i=t.pendingLanes,i===0&&(zr=null),WP(n.stateNode),jt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wc)throw Wc=!1,t=Eh,Eh=null,t;return Hc&1&&t.tag!==0&&Ui(),i=t.pendingLanes,i&1?t===bh?oa++:(oa=0,bh=t):oa=0,ao(),null}function Ui(){if(Lr!==null){var t=Ew(Hc),e=an.transition,n=be;try{if(an.transition=null,be=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,Hc=0,xe&6)throw Error(B(331));var o=xe;for(xe|=4,J=t.current;J!==null;){var i=J,s=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:na(8,u,i)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var p=u.sibling,v=u.return;if($C(u),u===c){J=null;break}if(p!==null){p.return=v,J=p;break}J=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}J=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,J=s;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:na(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,J=C;break e}J=i.return}}var w=t.current;for(J=w;J!==null;){s=J;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,J=E;else e:for(s=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Au(9,a)}}catch(T){ze(a,a.return,T)}if(a===s){J=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,J=b;break e}J=a.return}}if(xe=o,ao(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(wu,t)}catch{}r=!0}return r}finally{be=n,an.transition=e}}return!1}function Kv(t,e,n){e=Xi(n,e),e=EC(t,e,1),t=Br(t,e,1),e=bt(),t!==null&&(Ka(t,1,e),jt(t,e))}function ze(t,e,n){if(t.tag===3)Kv(t,t,n);else for(;e!==null;){if(e.tag===3){Kv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=Xi(n,t),t=bC(e,t,1),e=Br(e,t,1),t=bt(),e!==null&&(Ka(e,1,t),jt(e,t));break}}e=e.return}}function yk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(st&n)===n&&(Qe===4||Qe===3&&(st&130023424)===st&&500>He()-mm?$o(t,0):pm|=n),jt(t,e)}function GC(t,e){e===0&&(t.mode&1?(e=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):e=1);var n=bt();t=sr(t,e),t!==null&&(Ka(t,e,n),jt(t,n))}function xk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GC(t,n)}function wk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),GC(t,n)}var WC;WC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,ak(t,e,n);It=!!(t.flags&131072)}else It=!1,Le&&e.flags&1048576&&Yw(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dc(t,e),t=e.pendingProps;var o=qi(e,vt.current);Vi(e,n),o=lm(null,e,r,t,o,n);var i=cm();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(i=!0,Dc(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rm(e),o.updater=Pu,e.stateNode=o,o._reactInternals=e,fh(e,r,t,n),e=mh(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&Jp(e),Et(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dc(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Sk(r),t=mn(r,t),o){case 0:e=ph(null,e,r,t,n);break e;case 1:e=Fv(null,e,r,t,n);break e;case 11:e=Lv(null,e,r,t,n);break e;case 14:e=jv(null,e,r,mn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:mn(r,o),ph(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:mn(r,o),Fv(t,e,r,o,n);case 3:e:{if(AC(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,o=i.element,tC(t,e),Vc(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Xi(Error(B(423)),e),e=Ov(t,e,r,n,o);break e}else if(r!==o){o=Xi(Error(B(424)),e),e=Ov(t,e,r,n,o);break e}else for(Wt=Ur(e.stateNode.containerInfo.firstChild),Ht=e,Le=!0,yn=null,n=Zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ki(),r===o){e=ar(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&ch(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,oh(r,o)?s=null:i!==null&&oh(r,i)&&(e.flags|=32),PC(t,e),Et(t,e,s,n),e.child;case 6:return t===null&&ch(e),null;case 13:return kC(t,e,n);case 4:return om(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yi(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:mn(r,o),Lv(t,e,r,o,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ke(Fc,r._currentValue),r._currentValue=s,i!==null)if(En(i.value,s)){if(i.children===o.children&&!Dt.current){e=ar(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=er(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),uh(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Et(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Vi(e,n),o=cn(o),r=r(o),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,o=mn(r,e.pendingProps),o=mn(r.type,o),jv(t,e,r,o,n);case 15:return TC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:mn(r,o),dc(t,e),e.tag=1,Lt(r)?(t=!0,Dc(e)):t=!1,Vi(e,n),SC(e,r,o),fh(e,r,o,n),mh(null,e,r,!0,t,n);case 19:return NC(t,e,n);case 22:return _C(t,e,n)}throw Error(B(156,e.tag))};function HC(t,e){return xw(t,e)}function Ck(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new Ck(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sk(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fp)return 11;if(t===Op)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pc(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")xm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case xi:return Do(n.children,o,i,e);case jp:s=8,o|=8;break;case Lf:return t=sn(12,n,e,o|2),t.elementType=Lf,t.lanes=i,t;case jf:return t=sn(13,n,e,o),t.elementType=jf,t.lanes=i,t;case Ff:return t=sn(19,n,e,o),t.elementType=Ff,t.lanes=i,t;case nw:return Nu(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ew:s=10;break e;case tw:s=9;break e;case Fp:s=11;break e;case Op:s=14;break e;case Ar:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=sn(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Do(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function Nu(t,e,n,r){return t=sn(22,t,r,e),t.elementType=nw,t.lanes=n,t.stateNode={isHidden:!1},t}function Gd(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Wd(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ek(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wm(t,e,n,r,o,i,s,a,l){return t=new Ek(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=sn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(i),t}function bk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qC(t){if(!t)return Qr;t=t._reactInternals;e:{if(Qo(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Lt(n))return qw(t,n,e)}return e}function KC(t,e,n,r,o,i,s,a,l){return t=wm(n,r,!0,t,o,i,s,a,l),t.context=qC(null),n=t.current,r=bt(),o=Gr(n),i=er(r,o),i.callback=e??null,Br(n,i,o),t.current.lanes=o,Ka(t,o,r),jt(t,r),t}function Iu(t,e,n,r){var o=e.current,i=bt(),s=Gr(o);return n=qC(n),e.context===null?e.context=n:e.pendingContext=n,e=er(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(o,e,s),t!==null&&(Cn(t,o,s,i),lc(t,o,s)),s}function Kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cm(t,e){Yv(t,e),(t=t.alternate)&&Yv(t,e)}function Tk(){return null}var YC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}Ru.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Iu(t,e,null,null)};Ru.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bo(function(){Iu(null,t,null,null)}),e[ir]=null}};function Ru(t){this._internalRoot=t}Ru.prototype.unstable_scheduleHydration=function(t){if(t){var e=_w();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&Aw(t)}};function Em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function _k(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Kc(s);i.call(c)}}var s=KC(e,r,t,0,null,!1,!1,"",Jv);return t._reactRootContainer=s,t[ir]=s.current,Ta(t.nodeType===8?t.parentNode:t),Bo(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Kc(l);a.call(c)}}var l=wm(t,0,!1,null,null,!1,!1,"",Jv);return t._reactRootContainer=l,t[ir]=l.current,Ta(t.nodeType===8?t.parentNode:t),Bo(function(){Iu(e,l,n,r)}),l}function $u(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Kc(s);a.call(l)}}Iu(e,s,t,o)}else s=_k(n,e,t,o,r);return Kc(s)}bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ws(e.pendingLanes);n!==0&&(Bp(e,n|1),jt(e,He()),!(xe&6)&&(Qi=He()+500,ao()))}break;case 13:Bo(function(){var r=sr(t,1);if(r!==null){var o=bt();Cn(r,t,1,o)}}),Cm(t,1)}};zp=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=bt();Cn(e,t,134217728,n)}Cm(t,134217728)}};Tw=function(t){if(t.tag===13){var e=Gr(t),n=sr(t,e);if(n!==null){var r=bt();Cn(n,t,e,r)}Cm(t,e)}};_w=function(){return be};Pw=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Kf=function(t,e,n){switch(e){case"input":if(Uf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bu(r);if(!o)throw Error(B(90));ow(r),Uf(r,o)}}}break;case"textarea":sw(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};hw=gm;pw=Bo;var Pk={usingClientEntryPoint:!1,Events:[Ja,Ei,bu,dw,fw,gm]},Ls={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{wu=Il.inject(Ak),Mn=Il}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pk;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(e))throw Error(B(200));return bk(t,e,null,n)};Xt.createRoot=function(t,e){if(!Em(t))throw Error(B(299));var n=!1,r="",o=YC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=wm(t,1,!1,null,null,n,!1,r,o),t[ir]=e.current,Ta(t.nodeType===8?t.parentNode:t),new Sm(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=vw(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return Bo(t)};Xt.hydrate=function(t,e,n){if(!Mu(e))throw Error(B(200));return $u(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!Em(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=YC;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=KC(e,null,t,1,n??null,o,!1,i,s),t[ir]=e.current,Ta(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ru(e)};Xt.render=function(t,e,n){if(!Mu(e))throw Error(B(200));return $u(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!Mu(t))throw Error(B(40));return t._reactRootContainer?(Bo(function(){$u(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};Xt.unstable_batchedUpdates=gm;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return $u(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function JC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JC)}catch(t){console.error(t)}}JC(),J1.exports=Xt;var mr=J1.exports;const XC=F1(mr);var Xv=mr;$f.createRoot=Xv.createRoot,$f.hydrateRoot=Xv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}var jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jr||(jr={}));const Qv="popstate";function kk(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Ph("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Yc(o)}return Ik(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nk(){return Math.random().toString(36).substr(2,8)}function Zv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ph(t,e,n,r){return n===void 0&&(n=null),$a({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ps(e):e,{state:n,key:e&&e.key||r||Nk()})}function Yc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ik(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=jr.Pop,l=null,c=u();c==null&&(c=0,s.replaceState($a({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=jr.Pop;let S=u(),C=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:C})}function p(S,C){a=jr.Push;let w=Ph(y.location,S,C);n&&n(w,S),c=u()+1;let E=Zv(w,c),b=y.createHref(w);try{s.pushState(E,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function v(S,C){a=jr.Replace;let w=Ph(y.location,S,C);n&&n(w,S),c=u();let E=Zv(w,c),b=y.createHref(w);s.replaceState(E,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function x(S){let C=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof S=="string"?S:Yc(S);return w=w.replace(/ $/,"%20"),qe(C,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,C)}let y={get action(){return a},get location(){return t(o,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,d),l=S,()=>{o.removeEventListener(Qv,d),l=null}},createHref(S){return e(o,S)},createURL:x,encodeLocation(S){let C=x(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:v,go(S){return s.go(S)}};return y}var ey;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ey||(ey={}));function Rk(t,e,n){return n===void 0&&(n="/"),Mk(t,e,n,!1)}function Mk(t,e,n,r){let o=typeof e=="string"?ps(e):e,i=bm(o.pathname||"/",n);if(i==null)return null;let s=ZC(t);$k(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Wk(i);a=zk(s[l],c,r)}return a}function ZC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Uk(c,i.index),routesMeta:u})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of eS(i.path))o(i,s,l)}),e}function eS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=eS(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $k(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Bk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dk=/^:[\w-]+$/,Lk=3,jk=2,Fk=1,Ok=10,Vk=-2,ty=t=>t==="*";function Uk(t,e){let n=t.split("/"),r=n.length;return n.some(ty)&&(r+=Vk),e&&(r+=jk),n.filter(o=>!ty(o)).reduce((o,i)=>o+(Dk.test(i)?Lk:i===""?Fk:Ok),r)}function Bk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function zk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=ny({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=ny({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:Hr([i,d.pathname]),pathnameBase:Yk(Hr([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Hr([i,d.pathnameBase]))}return s}function ny(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gk(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:v}=u;if(p==="*"){let y=a[d]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[d];return v&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function Gk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),QC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Wk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return QC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Hk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ps(t):t;return{pathname:n?n.startsWith("/")?n:qk(n,e):e,search:Jk(r),hash:Xk(o)}}function qk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tm(t,e){let n=Kk(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _m(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=ps(t):(o=$a({},t),qe(!o.pathname||!o.pathname.includes("?"),Hd("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Hd("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Hd("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;o.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=Hk(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),Yk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Qk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tS=["post","put","patch","delete"];new Set(tS);const Zk=["get",...tS];new Set(Zk);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}const Pm=g.createContext(null),eN=g.createContext(null),lo=g.createContext(null),Du=g.createContext(null),gr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),nS=g.createContext(null);function tN(t,e){let{relative:n}=e===void 0?{}:e;ms()||qe(!1);let{basename:r,navigator:o}=g.useContext(lo),{hash:i,pathname:s,search:a}=iS(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Hr([r,s])),o.createHref({pathname:l,search:a,hash:i})}function ms(){return g.useContext(Du)!=null}function gs(){return ms()||qe(!1),g.useContext(Du).location}function rS(t){g.useContext(lo).static||g.useLayoutEffect(t)}function Gn(){let{isDataRoute:t}=g.useContext(gr);return t?pN():nN()}function nN(){ms()||qe(!1);let t=g.useContext(Pm),{basename:e,future:n,navigator:r}=g.useContext(lo),{matches:o}=g.useContext(gr),{pathname:i}=gs(),s=JSON.stringify(Tm(o,n.v7_relativeSplatPath)),a=g.useRef(!1);return rS(()=>{a.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=_m(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,i,t])}function oS(){let{matches:t}=g.useContext(gr),e=t[t.length-1];return e?e.params:{}}function iS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(lo),{matches:o}=g.useContext(gr),{pathname:i}=gs(),s=JSON.stringify(Tm(o,r.v7_relativeSplatPath));return g.useMemo(()=>_m(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function rN(t,e){return oN(t,e)}function oN(t,e,n,r){ms()||qe(!1);let{navigator:o,static:i}=g.useContext(lo),{matches:s}=g.useContext(gr),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=gs(),d;if(e){var p;let C=typeof e=="string"?ps(e):e;c==="/"||(p=C.pathname)!=null&&p.startsWith(c)||qe(!1),d=C}else d=u;let v=d.pathname||"/",x=v;if(c!=="/"){let C=c.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:Rk(t,{pathname:x}),S=cN(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Hr([c,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Hr([c,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&S?g.createElement(Du.Provider,{value:{location:Da({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jr.Pop}},S):S}function iN(){let t=hN(),e=Qk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:o},n):null,i)}const sN=g.createElement(iN,null);class aN extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(gr.Provider,{value:this.props.routeContext},g.createElement(nS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lN(t){let{routeContext:e,match:n,children:r}=t,o=g.useContext(Pm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(gr.Provider,{value:e},r)}function cN(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||qe(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:v}=n,x=d.route.loader&&p[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,p)=>{let v,x=!1,y=null,S=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||sN,l&&(c<0&&p===0?(mN("route-fallback",!1),x=!0,S=null):c===p&&(x=!0,S=d.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,p+1)),w=()=>{let E;return v?E=y:x?E=S:d.route.Component?E=g.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,g.createElement(lN,{match:d,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?g.createElement(aN,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var sS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sS||{}),Jc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jc||{});function uN(t){let e=g.useContext(Pm);return e||qe(!1),e}function dN(t){let e=g.useContext(eN);return e||qe(!1),e}function fN(t){let e=g.useContext(gr);return e||qe(!1),e}function aS(t){let e=fN(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function hN(){var t;let e=g.useContext(nS),n=dN(Jc.UseRouteError),r=aS(Jc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pN(){let{router:t}=uN(sS.UseNavigateStable),e=aS(Jc.UseNavigateStable),n=g.useRef(!1);return rS(()=>{n.current=!0}),g.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Da({fromRouteId:e},i)))},[t,e])}const ry={};function mN(t,e,n){!e&&!ry[t]&&(ry[t]=!0)}function gN(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function qd(t){let{to:e,replace:n,state:r,relative:o}=t;ms()||qe(!1);let{future:i,static:s}=g.useContext(lo),{matches:a}=g.useContext(gr),{pathname:l}=gs(),c=Gn(),u=_m(e,Tm(a,i.v7_relativeSplatPath),l,o==="path"),d=JSON.stringify(u);return g.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:o}),[c,d,o,n,r]),null}function Co(t){qe(!1)}function vN(t){let{basename:e="/",children:n=null,location:r,navigationType:o=jr.Pop,navigator:i,static:s=!1,future:a}=t;ms()&&qe(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:s,future:Da({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=ps(r));let{pathname:u="/",search:d="",hash:p="",state:v=null,key:x="default"}=r,y=g.useMemo(()=>{let S=bm(u,l);return S==null?null:{location:{pathname:S,search:d,hash:p,state:v,key:x},navigationType:o}},[l,u,d,p,v,x,o]);return y==null?null:g.createElement(lo.Provider,{value:c},g.createElement(Du.Provider,{children:n,value:y}))}function yN(t){let{children:e,location:n}=t;return rN(Ah(e),n)}new Promise(()=>{});function Ah(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,o)=>{if(!g.isValidElement(r))return;let i=[...e,o];if(r.type===g.Fragment){n.push.apply(n,Ah(r.props.children,i));return}r.type!==Co&&qe(!1),!r.props.index||!r.props.children||qe(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ah(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}function xN(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function wN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CN(t,e){return t.button===0&&(!e||e==="_self")&&!wN(t)}const SN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EN="6";try{window.__reactRouterVersion=EN}catch{}const bN="startTransition",oy=xu[bN];function TN(t){let{basename:e,children:n,future:r,window:o}=t,i=g.useRef();i.current==null&&(i.current=kk({window:o,v5Compat:!0}));let s=i.current,[a,l]=g.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=g.useCallback(d=>{c&&oy?oy(()=>l(d)):l(d)},[l,c]);return g.useLayoutEffect(()=>s.listen(u),[s,u]),g.useEffect(()=>gN(r),[r]),g.createElement(vN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const _N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zo=g.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,p=xN(e,SN),{basename:v}=g.useContext(lo),x,y=!1;if(typeof c=="string"&&PN.test(c)&&(x=c,_N))try{let E=new URL(window.location.href),b=c.startsWith("//")?new URL(E.protocol+c):new URL(c),T=bm(b.pathname,v);b.origin===E.origin&&T!=null?c=T+b.search+b.hash:y=!0}catch{}let S=tN(c,{relative:o}),C=AN(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o,viewTransition:d});function w(E){r&&r(E),E.defaultPrevented||C(E)}return g.createElement("a",kh({},p,{href:x||S,onClick:y||i?r:w,ref:n,target:l}))});var iy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iy||(iy={}));var sy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function AN(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=e===void 0?{}:e,l=Gn(),c=gs(),u=iS(t,{relative:s});return g.useCallback(d=>{if(CN(d,n)){d.preventDefault();let p=r!==void 0?r:Yc(c)===Yc(u);l(t,{replace:p,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,u,r,o,n,t,i,s,a])}function lS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=lS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cS(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=lS(t))&&(r&&(r+=" "),r+=e);return r}function kN(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=uS(e))&&(r&&(r+=" "),r+=n);return r}function uS(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=uS(t[r]))&&(n&&(n+=" "),n+=e);return n}var Am="-";function NN(t){var e=RN(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,o=r===void 0?{}:r;function i(a){var l=a.split(Am);return l[0]===""&&l.length!==1&&l.shift(),dS(l,e)||IN(a)}function s(a,l){var c=n[a]||[];return l&&o[a]?[].concat(c,o[a]):c}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function dS(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),o=r?dS(t.slice(1),r):void 0;if(o)return o;if(e.validators.length!==0){var i=t.join(Am);return(s=e.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:s.classGroupId}}var ay=/^\[(.+)\]$/;function IN(t){if(ay.test(t)){var e=ay.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function RN(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},o=$N(Object.entries(t.classGroups),n);return o.forEach(function(i){var s=i[0],a=i[1];Nh(a,r,s,e)}),r}function Nh(t,e,n,r){t.forEach(function(o){if(typeof o=="string"){var i=o===""?e:ly(e,o);i.classGroupId=n;return}if(typeof o=="function"){if(MN(o)){Nh(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(s){var a=s[0],l=s[1];Nh(l,ly(e,a),n,r)})})}function ly(t,e){var n=t;return e.split(Am).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function MN(t){return t.isThemeGetter}function $N(t,e){return e?t.map(function(n){var r=n[0],o=n[1],i=o.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,i]}):t}function DN(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function o(i,s){n.set(i,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return o(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):o(s,a)}}}var fS="!";function LN(t){var e=t.separator||":",n=e.length===1,r=e[0],o=e.length;return function(s){for(var a=[],l=0,c=0,u,d=0;d<s.length;d++){var p=s[d];if(l===0){if(p===r&&(n||s.slice(d,d+o)===e)){a.push(s.slice(c,d)),c=d+o;continue}if(p==="/"){u=d;continue}}p==="["?l++:p==="]"&&l--}var v=a.length===0?s:s.substring(c),x=v.startsWith(fS),y=x?v.substring(1):v,S=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:S}}}function jN(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var o=r[0]==="[";o?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function FN(t){return{cache:DN(t.cacheSize),splitModifiers:LN(t),...NN(t)}}var ON=/\s+/;function VN(t,e){var n=e.splitModifiers,r=e.getClassGroupId,o=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(ON).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,p=r(d?u.substring(0,d):u),v=!!d;if(!p){if(!d)return{isTailwindClass:!1,originalClassName:s};if(p=r(u),!p)return{isTailwindClass:!1,originalClassName:s};v=!1}var x=jN(l).join(":"),y=c?x+fS:x;return{isTailwindClass:!0,modifierId:y,classGroupId:p,originalClassName:s,hasPostfixModifier:v}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return i.has(u)?!1:(i.add(u),o(l,c).forEach(function(d){return i.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function UN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,o,i,s=a;function a(c){var u=e[0],d=e.slice(1),p=d.reduce(function(v,x){return x(v)},u());return r=FN(p),o=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){var u=o(c);if(u)return u;var d=VN(c,r);return i(c,d),d}return function(){return s(kN.apply(null,arguments))}}function Ie(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var hS=/^\[(?:([a-z-]+):)?(.+)\]$/i,BN=/^\d+\/\d+$/,zN=new Set(["px","full","screen"]),GN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function pn(t){return Io(t)||zN.has(t)||BN.test(t)||Ih(t)}function Ih(t){return Zo(t,"length",QN)}function qN(t){return Zo(t,"size",pS)}function KN(t){return Zo(t,"position",pS)}function YN(t){return Zo(t,"url",ZN)}function Rl(t){return Zo(t,"number",Io)}function Io(t){return!Number.isNaN(Number(t))}function JN(t){return t.endsWith("%")&&Io(t.slice(0,-1))}function js(t){return cy(t)||Zo(t,"number",cy)}function ge(t){return hS.test(t)}function Fs(){return!0}function Sr(t){return GN.test(t)}function XN(t){return Zo(t,"",eI)}function Zo(t,e,n){var r=hS.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function QN(t){return WN.test(t)}function pS(){return!1}function ZN(t){return t.startsWith("url(")}function cy(t){return Number.isInteger(Number(t))}function eI(t){return HN.test(t)}function tI(){var t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),o=Ie("borderColor"),i=Ie("borderRadius"),s=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),c=Ie("grayscale"),u=Ie("hueRotate"),d=Ie("invert"),p=Ie("gap"),v=Ie("gradientColorStops"),x=Ie("gradientColorStopPositions"),y=Ie("inset"),S=Ie("margin"),C=Ie("opacity"),w=Ie("padding"),E=Ie("saturate"),b=Ie("scale"),T=Ie("sepia"),A=Ie("skew"),P=Ie("space"),_=Ie("translate"),N=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",ge,e]},D=function(){return[ge,e]},U=function(){return["",pn]},$=function(){return["auto",Io,ge]},O=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},K=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},M=function(){return["","0",ge]},V=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[Io,Rl]},H=function(){return[Io,ge]};return{cacheSize:500,theme:{colors:[Fs],spacing:[pn],blur:["none","",Sr,ge],brightness:z(),borderColor:[t],borderRadius:["none","","full",Sr,ge],borderSpacing:D(),borderWidth:U(),contrast:z(),grayscale:M(),hueRotate:H(),invert:M(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[JN,Ih],inset:R(),margin:R(),opacity:z(),padding:D(),saturate:z(),scale:z(),sepia:M(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[Sr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(O(),[ge])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",js]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",js]}],"grid-cols":[{"grid-cols":[Fs]}],"col-start-end":[{col:["auto",{span:["full",js]},ge]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Fs]}],"row-start-end":[{row:["auto",{span:[js]},ge]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,e]}],"min-w":[{"min-w":["min","max","fit",ge,pn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Sr]},Sr,ge]}],h:[{h:[ge,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,pn]}],"max-h":[{"max-h":[ge,e,"min","max","fit"]}],"font-size":[{text:["base",Sr,Ih]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rl]}],"font-family":[{font:[Fs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Io,Rl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,pn]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",pn]}],"underline-offset":[{"underline-offset":["auto",ge,pn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(O(),[KN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[ge,pn]}],"outline-w":[{outline:[pn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[pn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sr,XN]}],"shadow-color":[{shadow:[Fs]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sr,ge]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[js,ge]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pn,Rl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var nI=UN(tI);let Ml;const rI=new Uint8Array(16);function oI(){if(!Ml&&(Ml=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ml))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ml(rI)}const ot=[];for(let t=0;t<256;++t)ot.push((t+256).toString(16).slice(1));function iI(t,e=0){return ot[t[e+0]]+ot[t[e+1]]+ot[t[e+2]]+ot[t[e+3]]+"-"+ot[t[e+4]]+ot[t[e+5]]+"-"+ot[t[e+6]]+ot[t[e+7]]+"-"+ot[t[e+8]]+ot[t[e+9]]+"-"+ot[t[e+10]]+ot[t[e+11]]+ot[t[e+12]]+ot[t[e+13]]+ot[t[e+14]]+ot[t[e+15]]}const sI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uy={randomUUID:sI};function aI(t,e,n){if(uy.randomUUID&&!e&&!t)return uy.randomUUID();t=t||{};const r=t.random||(t.rng||oI)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=r[o];return e}return iI(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lI,cI;function uI(){return{geminiUrl:lI,vertexUrl:cI}}function dI(t,e,n){var r,o,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=uI();return t.vertexai?(o=s.vertexUrl)!==null&&o!==void 0?o:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa{}function se(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];m(u,e.slice(i+1),n[c])}else for(const c of l)m(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];m(l[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function h(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in t){const i=t[o];return Array.isArray(i)?i.map(s=>h(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mS(t,e){const n=je(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function gS(t,e){return Array.isArray(e)?e.map(n=>Xc(t,n)):[Xc(t,e)]}function Xc(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function fI(t,e){const n=Xc(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function hI(t,e){const n=Xc(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function dy(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function vS(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>dy(t,n)):[dy(t,e)]}function Rh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function fy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rt(t,e){if(e==null)throw new Error("ContentUnion is required");return Rh(e)?e:{role:"user",parts:vS(t,e)}}function yS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rt(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rt(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rt(t,n)):[Rt(t,e)]}function co(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(fy(e)||hy(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(t,e)]}const n=[],r=[],o=Rh(e[0]);for(const i of e){const s=Rh(i);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(fy(i)||hy(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return o||n.push({role:"user",parts:vS(t,r)}),n}function xS(t,e){return e}function wS(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Lu(t,e){return e}function ju(t,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function pI(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function uo(t,e){if(typeof e!="string")throw new Error("name must be a string");return pI(t,e,"cachedContents")}function CS(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function fo(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function mI(t){return t!=null&&typeof t=="object"&&"name"in t}function gI(t){return t!=null&&typeof t=="object"&&"video"in t}function vI(t){return t!=null&&typeof t=="object"&&"uri"in t}function SS(t,e){var n;let r;if(mI(e)&&(r=e.name),!(vI(e)&&(r=e.uri,r===void 0))&&!(gI(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function ES(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function bS(t,e){for(const n of["models","tunedModels","publisherModels"])if(yI(e,n))return e[n];return[]}function yI(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xI(t,e){const n={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(e,["data"]);r!=null&&m(n,["data"],r);const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function wI(t,e){const n={};if(h(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=h(e,["thought"]);r!=null&&m(n,["thought"],r);const o=h(e,["inlineData"]);o!=null&&m(n,["inlineData"],xI(t,o));const i=h(e,["codeExecutionResult"]);i!=null&&m(n,["codeExecutionResult"],i);const s=h(e,["executableCode"]);s!=null&&m(n,["executableCode"],s);const a=h(e,["fileData"]);a!=null&&m(n,["fileData"],a);const l=h(e,["functionCall"]);l!=null&&m(n,["functionCall"],l);const c=h(e,["functionResponse"]);c!=null&&m(n,["functionResponse"],c);const u=h(e,["text"]);return u!=null&&m(n,["text"],u),n}function py(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wI(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function CI(){return{}}function SI(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["dynamicThreshold"]);return o!=null&&m(n,["dynamicThreshold"],o),n}function EI(t,e){const n={},r=h(e,["dynamicRetrievalConfig"]);return r!=null&&m(n,["dynamicRetrievalConfig"],SI(t,r)),n}function bI(t,e){const n={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");h(e,["googleSearch"])!=null&&m(n,["googleSearch"],CI());const o=h(e,["googleSearchRetrieval"]);if(o!=null&&m(n,["googleSearchRetrieval"],EI(t,o)),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=h(e,["codeExecution"]);i!=null&&m(n,["codeExecution"],i);const s=h(e,["functionDeclarations"]);return s!=null&&m(n,["functionDeclarations"],s),n}function TI(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["allowedFunctionNames"]);return o!=null&&m(n,["allowedFunctionNames"],o),n}function _I(t,e){const n={},r=h(e,["functionCallingConfig"]);if(r!=null&&m(n,["functionCallingConfig"],TI(t,r)),h(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function PI(t,e,n){const r={},o=h(e,["ttl"]);n!==void 0&&o!=null&&m(n,["ttl"],o);const i=h(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const s=h(e,["displayName"]);n!==void 0&&s!=null&&m(n,["displayName"],s);const a=h(e,["contents"]);if(n!==void 0&&a!=null){let d=co(t,a);Array.isArray(d)&&(d=d.map(p=>py(t,p))),m(n,["contents"],d)}const l=h(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],py(t,Rt(t,l)));const c=h(e,["tools"]);if(n!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>bI(t,p))),m(n,["tools"],d)}const u=h(e,["toolConfig"]);return n!==void 0&&u!=null&&m(n,["toolConfig"],_I(t,u)),r}function AI(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],mS(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],PI(t,o,n)),n}function kI(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],uo(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function NI(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],uo(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function II(t,e,n){const r={},o=h(e,["ttl"]);n!==void 0&&o!=null&&m(n,["ttl"],o);const i=h(e,["expireTime"]);return n!==void 0&&i!=null&&m(n,["expireTime"],i),r}function RI(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],uo(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],II(t,o,n)),n}function MI(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);return n!==void 0&&i!=null&&m(n,["_query","pageToken"],i),r}function $I(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],MI(t,r,n)),n}function DI(t,e){const n={},r=h(e,["displayName"]);r!=null&&m(n,["displayName"],r);const o=h(e,["data"]);o!=null&&m(n,["data"],o);const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function LI(t,e){const n={},r=h(e,["videoMetadata"]);r!=null&&m(n,["videoMetadata"],r);const o=h(e,["thought"]);o!=null&&m(n,["thought"],o);const i=h(e,["inlineData"]);i!=null&&m(n,["inlineData"],DI(t,i));const s=h(e,["codeExecutionResult"]);s!=null&&m(n,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&m(n,["executableCode"],a);const l=h(e,["fileData"]);l!=null&&m(n,["fileData"],l);const c=h(e,["functionCall"]);c!=null&&m(n,["functionCall"],c);const u=h(e,["functionResponse"]);u!=null&&m(n,["functionResponse"],u);const d=h(e,["text"]);return d!=null&&m(n,["text"],d),n}function my(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>LI(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function jI(){return{}}function FI(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["dynamicThreshold"]);return o!=null&&m(n,["dynamicThreshold"],o),n}function OI(t,e){const n={},r=h(e,["dynamicRetrievalConfig"]);return r!=null&&m(n,["dynamicRetrievalConfig"],FI(t,r)),n}function VI(){return{}}function UI(t,e){const n={},r=h(e,["apiKeyString"]);return r!=null&&m(n,["apiKeyString"],r),n}function BI(t,e){const n={},r=h(e,["apiKeyConfig"]);r!=null&&m(n,["apiKeyConfig"],UI(t,r));const o=h(e,["authType"]);o!=null&&m(n,["authType"],o);const i=h(e,["googleServiceAccountConfig"]);i!=null&&m(n,["googleServiceAccountConfig"],i);const s=h(e,["httpBasicAuthConfig"]);s!=null&&m(n,["httpBasicAuthConfig"],s);const a=h(e,["oauthConfig"]);a!=null&&m(n,["oauthConfig"],a);const l=h(e,["oidcConfig"]);return l!=null&&m(n,["oidcConfig"],l),n}function zI(t,e){const n={},r=h(e,["authConfig"]);return r!=null&&m(n,["authConfig"],BI(t,r)),n}function GI(t,e){const n={},r=h(e,["retrieval"]);r!=null&&m(n,["retrieval"],r),h(e,["googleSearch"])!=null&&m(n,["googleSearch"],jI());const i=h(e,["googleSearchRetrieval"]);i!=null&&m(n,["googleSearchRetrieval"],OI(t,i)),h(e,["enterpriseWebSearch"])!=null&&m(n,["enterpriseWebSearch"],VI());const a=h(e,["googleMaps"]);a!=null&&m(n,["googleMaps"],zI(t,a));const l=h(e,["codeExecution"]);l!=null&&m(n,["codeExecution"],l);const c=h(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function WI(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["allowedFunctionNames"]);return o!=null&&m(n,["allowedFunctionNames"],o),n}function HI(t,e){const n={},r=h(e,["latitude"]);r!=null&&m(n,["latitude"],r);const o=h(e,["longitude"]);return o!=null&&m(n,["longitude"],o),n}function qI(t,e){const n={},r=h(e,["latLng"]);return r!=null&&m(n,["latLng"],HI(t,r)),n}function KI(t,e){const n={},r=h(e,["functionCallingConfig"]);r!=null&&m(n,["functionCallingConfig"],WI(t,r));const o=h(e,["retrievalConfig"]);return o!=null&&m(n,["retrievalConfig"],qI(t,o)),n}function YI(t,e,n){const r={},o=h(e,["ttl"]);n!==void 0&&o!=null&&m(n,["ttl"],o);const i=h(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const s=h(e,["displayName"]);n!==void 0&&s!=null&&m(n,["displayName"],s);const a=h(e,["contents"]);if(n!==void 0&&a!=null){let d=co(t,a);Array.isArray(d)&&(d=d.map(p=>my(t,p))),m(n,["contents"],d)}const l=h(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],my(t,Rt(t,l)));const c=h(e,["tools"]);if(n!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>GI(t,p))),m(n,["tools"],d)}const u=h(e,["toolConfig"]);return n!==void 0&&u!=null&&m(n,["toolConfig"],KI(t,u)),r}function JI(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],mS(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],YI(t,o,n)),n}function XI(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],uo(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function QI(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],uo(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function ZI(t,e,n){const r={},o=h(e,["ttl"]);n!==void 0&&o!=null&&m(n,["ttl"],o);const i=h(e,["expireTime"]);return n!==void 0&&i!=null&&m(n,["expireTime"],i),r}function eR(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],uo(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],ZI(t,o,n)),n}function tR(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);return n!==void 0&&i!=null&&m(n,["_query","pageToken"],i),r}function nR(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],tR(t,r,n)),n}function mc(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["displayName"]);o!=null&&m(n,["displayName"],o);const i=h(e,["model"]);i!=null&&m(n,["model"],i);const s=h(e,["createTime"]);s!=null&&m(n,["createTime"],s);const a=h(e,["updateTime"]);a!=null&&m(n,["updateTime"],a);const l=h(e,["expireTime"]);l!=null&&m(n,["expireTime"],l);const c=h(e,["usageMetadata"]);return c!=null&&m(n,["usageMetadata"],c),n}function rR(){return{}}function oR(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>mc(t,s))),m(n,["cachedContents"],i)}return n}function gc(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["displayName"]);o!=null&&m(n,["displayName"],o);const i=h(e,["model"]);i!=null&&m(n,["model"],i);const s=h(e,["createTime"]);s!=null&&m(n,["createTime"],s);const a=h(e,["updateTime"]);a!=null&&m(n,["updateTime"],a);const l=h(e,["expireTime"]);l!=null&&m(n,["expireTime"],l);const c=h(e,["usageMetadata"]);return c!=null&&m(n,["usageMetadata"],c),n}function iR(){return{}}function sR(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>gc(t,s))),m(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Zi||(Zi={}));class Fu{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gy||(gy={}));var vy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vy||(vy={}));var Mt;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Mt||(Mt={}));var yy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(yy||(yy={}));var $t;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($t||($t={}));var xy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xy||(xy={}));var wy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wy||(wy={}));var Cy;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(Cy||(Cy={}));var Sy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Sy||(Sy={}));var Ey;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ey||(Ey={}));var by;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(by||(by={}));var Ty;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Ty||(Ty={}));var _y;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_y||(_y={}));var Vn;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vn||(Vn={}));var Py;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Py||(Py={}));var Mh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mh||(Mh={}));var Ay;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ay||(Ay={}));var ky;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ky||(ky={}));var Ny;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ny||(Ny={}));var Iy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Iy||(Iy={}));var Ry;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ry||(Ry={}));var My;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(My||(My={}));var $y;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})($y||($y={}));var Dy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Dy||(Dy={}));var Ly;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ly||(Ly={}));var jy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jy||(jy={}));var Fy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fy||(Fy={}));var Oy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Oy||(Oy={}));var Vy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Vy||(Vy={}));var Uy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Uy||(Uy={}));var By;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(By||(By={}));var zy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zy||(zy={}));var Gy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Gy||(Gy={}));var Wy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wy||(Wy={}));class $l{get text(){var e,n,r,o,i,s,a,l;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const d=[];for(const p of(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[v,x]of Object.entries(p))v!=="text"&&v!=="thought"&&(x!==null||x!==void 0)&&d.push(v);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,c+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,o,i,s,a,l;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const d of(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(d))p!=="inlineData"&&(v!==null||v!==void 0)&&u.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(c+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,o,i,s,a,l;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,o,i,s,a,l,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,o,i,s,a,l,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class Hy{}class qy{}class aR{}class lR{}class Ky{}class Yy{}class Jy{}class cR{}class Xy{}class Qy{}class Zy{}class uR{}class $h{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class dR{}class fR{}class hR{get text(){var e,n,r;let o="",i=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,o+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var e,n,r;let o="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pR extends Qa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fu(Zi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=JI(this.apiClient,e);return a=se("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>gc(this.apiClient,u))}else{const c=AI(this.apiClient,e);return a=se("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>mc(this.apiClient,u))}}async get(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=XI(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>gc(this.apiClient,u))}else{const c=kI(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>mc(this.apiClient,u))}}async delete(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=QI(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(()=>{const u=iR(),d=new Qy;return Object.assign(d,u),d})}else{const c=NI(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(()=>{const u=rR(),d=new Qy;return Object.assign(d,u),d})}}async update(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=eR(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>gc(this.apiClient,u))}else{const c=RI(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>mc(this.apiClient,u))}}async listInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=nR(this.apiClient,e);return a=se("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=sR(this.apiClient,u),p=new Zy;return Object.assign(p,d),p})}else{const c=$I(this.apiClient,e);return a=se("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=oR(this.apiClient,u),p=new Zy;return Object.assign(p,d),p})}}}function e0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t){return this instanceof pt?(this.v=t,this):new pt(t)}function Qc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(v){return function(x){return Promise.resolve(x).then(v,d)}}function a(v,x){r[v]&&(o[v]=function(y){return new Promise(function(S,C){i.push([v,y,S,C])>1||l(v,y)})},x&&(o[v]=x(o[v])))}function l(v,x){try{c(r[v](x))}catch(y){p(i[0][3],y)}}function c(v){v.value instanceof pt?Promise.resolve(v.value.v).then(u,d):p(i[0][2],v)}function u(v){l("next",v)}function d(v){l("throw",v)}function p(v,x){v(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Dh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof e0=="function"?e0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,l){s=t[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:TS(n)}function TS(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function gR(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0,o=t[0];for(;r<n;)if(t[r].role==="user")o=t[r],r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!TS(t[r])&&(s=!1),r++;s&&(e.push(o),e.push(...i))}return e}class yR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new xR(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class xR{constructor(e,n,r,o={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),gR(i)}async sendMessage(e){var n;await this.sendPromise;const r=Rt(this.apiClient,e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s;const l=(s=(i=(await o).candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,c=l?[l]:[];this.recordHistory(r,c)})(),await this.sendPromise,o}async sendMessageStream(e){var n;await this.sendPromise;const r=Rt(this.apiClient,e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(e=!1){return e?vR(this.history):this.history}processStreamResponse(e,n){var r,o;return Qc(this,arguments,function*(){var s,a,l,c;const u=[];try{for(var d=!0,p=Dh(e),v;v=yield pt(p.next()),s=v.done,!s;d=!0){c=v.value,d=!1;const x=c;if(mR(x)){const y=(o=(r=x.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;y!==void 0&&u.push(y)}yield yield pt(x)}}catch(x){a={error:x}}finally{try{!d&&!s&&(l=p.return)&&(yield pt(l.call(p)))}finally{if(a)throw a.error}}this.recordHistory(n,u)})}recordHistory(e,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wR(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);return n!==void 0&&i!=null&&m(n,["_query","pageToken"],i),r}function CR(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],wR(t,r,n)),n}function SR(t,e){const n={},r=h(e,["details"]);r!=null&&m(n,["details"],r);const o=h(e,["message"]);o!=null&&m(n,["message"],o);const i=h(e,["code"]);return i!=null&&m(n,["code"],i),n}function ER(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["displayName"]);o!=null&&m(n,["displayName"],o);const i=h(e,["mimeType"]);i!=null&&m(n,["mimeType"],i);const s=h(e,["sizeBytes"]);s!=null&&m(n,["sizeBytes"],s);const a=h(e,["createTime"]);a!=null&&m(n,["createTime"],a);const l=h(e,["expirationTime"]);l!=null&&m(n,["expirationTime"],l);const c=h(e,["updateTime"]);c!=null&&m(n,["updateTime"],c);const u=h(e,["sha256Hash"]);u!=null&&m(n,["sha256Hash"],u);const d=h(e,["uri"]);d!=null&&m(n,["uri"],d);const p=h(e,["downloadUri"]);p!=null&&m(n,["downloadUri"],p);const v=h(e,["state"]);v!=null&&m(n,["state"],v);const x=h(e,["source"]);x!=null&&m(n,["source"],x);const y=h(e,["videoMetadata"]);y!=null&&m(n,["videoMetadata"],y);const S=h(e,["error"]);return S!=null&&m(n,["error"],SR(t,S)),n}function bR(t,e){const n={},r=h(e,["file"]);r!=null&&m(n,["file"],ER(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function TR(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","file"],SS(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function _R(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","file"],SS(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function PR(t,e){const n={},r=h(e,["details"]);r!=null&&m(n,["details"],r);const o=h(e,["message"]);o!=null&&m(n,["message"],o);const i=h(e,["code"]);return i!=null&&m(n,["code"],i),n}function Lh(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["displayName"]);o!=null&&m(n,["displayName"],o);const i=h(e,["mimeType"]);i!=null&&m(n,["mimeType"],i);const s=h(e,["sizeBytes"]);s!=null&&m(n,["sizeBytes"],s);const a=h(e,["createTime"]);a!=null&&m(n,["createTime"],a);const l=h(e,["expirationTime"]);l!=null&&m(n,["expirationTime"],l);const c=h(e,["updateTime"]);c!=null&&m(n,["updateTime"],c);const u=h(e,["sha256Hash"]);u!=null&&m(n,["sha256Hash"],u);const d=h(e,["uri"]);d!=null&&m(n,["uri"],d);const p=h(e,["downloadUri"]);p!=null&&m(n,["downloadUri"],p);const v=h(e,["state"]);v!=null&&m(n,["state"],v);const x=h(e,["source"]);x!=null&&m(n,["source"],x);const y=h(e,["videoMetadata"]);y!=null&&m(n,["videoMetadata"],y);const S=h(e,["error"]);return S!=null&&m(n,["error"],PR(t,S)),n}function AR(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Lh(t,s))),m(n,["files"],i)}return n}function kR(){return{}}function NR(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR extends Qa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fu(Zi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Lh(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CR(this.apiClient,e);return i=se("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const c=AR(this.apiClient,l),u=new uR;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bR(this.apiClient,e);return i=se("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(()=>{const l=kR(),c=new dR;return Object.assign(c,l),c})}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TR(this.apiClient,e);return i=se("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>Lh(this.apiClient,l))}}async delete(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_R(this.apiClient,e);return i=se("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(()=>{const l=NR(),c=new fR;return Object.assign(c,l),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RR(t,e){const n={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(e,["data"]);r!=null&&m(n,["data"],r);const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function MR(t,e){const n={},r=h(e,["displayName"]);r!=null&&m(n,["displayName"],r);const o=h(e,["data"]);o!=null&&m(n,["data"],o);const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function $R(t,e){const n={};if(h(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=h(e,["thought"]);r!=null&&m(n,["thought"],r);const o=h(e,["inlineData"]);o!=null&&m(n,["inlineData"],RR(t,o));const i=h(e,["codeExecutionResult"]);i!=null&&m(n,["codeExecutionResult"],i);const s=h(e,["executableCode"]);s!=null&&m(n,["executableCode"],s);const a=h(e,["fileData"]);a!=null&&m(n,["fileData"],a);const l=h(e,["functionCall"]);l!=null&&m(n,["functionCall"],l);const c=h(e,["functionResponse"]);c!=null&&m(n,["functionResponse"],c);const u=h(e,["text"]);return u!=null&&m(n,["text"],u),n}function DR(t,e){const n={},r=h(e,["videoMetadata"]);r!=null&&m(n,["videoMetadata"],r);const o=h(e,["thought"]);o!=null&&m(n,["thought"],o);const i=h(e,["inlineData"]);i!=null&&m(n,["inlineData"],MR(t,i));const s=h(e,["codeExecutionResult"]);s!=null&&m(n,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&m(n,["executableCode"],a);const l=h(e,["fileData"]);l!=null&&m(n,["fileData"],l);const c=h(e,["functionCall"]);c!=null&&m(n,["functionCall"],c);const u=h(e,["functionResponse"]);u!=null&&m(n,["functionResponse"],u);const d=h(e,["text"]);return d!=null&&m(n,["text"],d),n}function LR(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$R(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function jR(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>DR(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function FR(){return{}}function OR(){return{}}function VR(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["dynamicThreshold"]);return o!=null&&m(n,["dynamicThreshold"],o),n}function UR(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["dynamicThreshold"]);return o!=null&&m(n,["dynamicThreshold"],o),n}function BR(t,e){const n={},r=h(e,["dynamicRetrievalConfig"]);return r!=null&&m(n,["dynamicRetrievalConfig"],VR(t,r)),n}function zR(t,e){const n={},r=h(e,["dynamicRetrievalConfig"]);return r!=null&&m(n,["dynamicRetrievalConfig"],UR(t,r)),n}function GR(){return{}}function WR(t,e){const n={},r=h(e,["apiKeyString"]);return r!=null&&m(n,["apiKeyString"],r),n}function HR(t,e){const n={},r=h(e,["apiKeyConfig"]);r!=null&&m(n,["apiKeyConfig"],WR(t,r));const o=h(e,["authType"]);o!=null&&m(n,["authType"],o);const i=h(e,["googleServiceAccountConfig"]);i!=null&&m(n,["googleServiceAccountConfig"],i);const s=h(e,["httpBasicAuthConfig"]);s!=null&&m(n,["httpBasicAuthConfig"],s);const a=h(e,["oauthConfig"]);a!=null&&m(n,["oauthConfig"],a);const l=h(e,["oidcConfig"]);return l!=null&&m(n,["oidcConfig"],l),n}function qR(t,e){const n={},r=h(e,["authConfig"]);return r!=null&&m(n,["authConfig"],HR(t,r)),n}function KR(t,e){const n={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");h(e,["googleSearch"])!=null&&m(n,["googleSearch"],FR());const o=h(e,["googleSearchRetrieval"]);if(o!=null&&m(n,["googleSearchRetrieval"],BR(t,o)),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=h(e,["codeExecution"]);i!=null&&m(n,["codeExecution"],i);const s=h(e,["functionDeclarations"]);return s!=null&&m(n,["functionDeclarations"],s),n}function YR(t,e){const n={},r=h(e,["retrieval"]);r!=null&&m(n,["retrieval"],r),h(e,["googleSearch"])!=null&&m(n,["googleSearch"],OR());const i=h(e,["googleSearchRetrieval"]);i!=null&&m(n,["googleSearchRetrieval"],zR(t,i)),h(e,["enterpriseWebSearch"])!=null&&m(n,["enterpriseWebSearch"],GR());const a=h(e,["googleMaps"]);a!=null&&m(n,["googleMaps"],qR(t,a));const l=h(e,["codeExecution"]);l!=null&&m(n,["codeExecution"],l);const c=h(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function JR(t,e){const n={},r=h(e,["handle"]);if(r!=null&&m(n,["handle"],r),h(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function XR(t,e){const n={},r=h(e,["handle"]);r!=null&&m(n,["handle"],r);const o=h(e,["transparent"]);return o!=null&&m(n,["transparent"],o),n}function t0(){return{}}function n0(){return{}}function QR(t,e){const n={},r=h(e,["disabled"]);r!=null&&m(n,["disabled"],r);const o=h(e,["startOfSpeechSensitivity"]);o!=null&&m(n,["startOfSpeechSensitivity"],o);const i=h(e,["endOfSpeechSensitivity"]);i!=null&&m(n,["endOfSpeechSensitivity"],i);const s=h(e,["prefixPaddingMs"]);s!=null&&m(n,["prefixPaddingMs"],s);const a=h(e,["silenceDurationMs"]);return a!=null&&m(n,["silenceDurationMs"],a),n}function ZR(t,e){const n={},r=h(e,["disabled"]);r!=null&&m(n,["disabled"],r);const o=h(e,["startOfSpeechSensitivity"]);o!=null&&m(n,["startOfSpeechSensitivity"],o);const i=h(e,["endOfSpeechSensitivity"]);i!=null&&m(n,["endOfSpeechSensitivity"],i);const s=h(e,["prefixPaddingMs"]);s!=null&&m(n,["prefixPaddingMs"],s);const a=h(e,["silenceDurationMs"]);return a!=null&&m(n,["silenceDurationMs"],a),n}function e4(t,e){const n={},r=h(e,["automaticActivityDetection"]);r!=null&&m(n,["automaticActivityDetection"],QR(t,r));const o=h(e,["activityHandling"]);o!=null&&m(n,["activityHandling"],o);const i=h(e,["turnCoverage"]);return i!=null&&m(n,["turnCoverage"],i),n}function t4(t,e){const n={},r=h(e,["automaticActivityDetection"]);r!=null&&m(n,["automaticActivityDetection"],ZR(t,r));const o=h(e,["activityHandling"]);o!=null&&m(n,["activityHandling"],o);const i=h(e,["turnCoverage"]);return i!=null&&m(n,["turnCoverage"],i),n}function n4(t,e){const n={},r=h(e,["targetTokens"]);return r!=null&&m(n,["targetTokens"],r),n}function r4(t,e){const n={},r=h(e,["targetTokens"]);return r!=null&&m(n,["targetTokens"],r),n}function o4(t,e){const n={},r=h(e,["triggerTokens"]);r!=null&&m(n,["triggerTokens"],r);const o=h(e,["slidingWindow"]);return o!=null&&m(n,["slidingWindow"],n4(t,o)),n}function i4(t,e){const n={},r=h(e,["triggerTokens"]);r!=null&&m(n,["triggerTokens"],r);const o=h(e,["slidingWindow"]);return o!=null&&m(n,["slidingWindow"],r4(t,o)),n}function s4(t,e,n){const r={},o=h(e,["generationConfig"]);n!==void 0&&o!=null&&m(n,["setup","generationConfig"],o);const i=h(e,["responseModalities"]);n!==void 0&&i!=null&&m(n,["setup","generationConfig","responseModalities"],i);const s=h(e,["temperature"]);n!==void 0&&s!=null&&m(n,["setup","generationConfig","temperature"],s);const a=h(e,["topP"]);n!==void 0&&a!=null&&m(n,["setup","generationConfig","topP"],a);const l=h(e,["topK"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig","topK"],l);const c=h(e,["maxOutputTokens"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","maxOutputTokens"],c);const u=h(e,["mediaResolution"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","mediaResolution"],u);const d=h(e,["seed"]);n!==void 0&&d!=null&&m(n,["setup","generationConfig","seed"],d);const p=h(e,["speechConfig"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","speechConfig"],p);const v=h(e,["systemInstruction"]);n!==void 0&&v!=null&&m(n,["setup","systemInstruction"],LR(t,Rt(t,v)));const x=h(e,["tools"]);if(n!==void 0&&x!=null){let b=ju(t,x);Array.isArray(b)&&(b=b.map(T=>KR(t,Lu(t,T)))),m(n,["setup","tools"],b)}const y=h(e,["sessionResumption"]);n!==void 0&&y!=null&&m(n,["setup","sessionResumption"],JR(t,y));const S=h(e,["inputAudioTranscription"]);n!==void 0&&S!=null&&m(n,["setup","inputAudioTranscription"],t0());const C=h(e,["outputAudioTranscription"]);n!==void 0&&C!=null&&m(n,["setup","outputAudioTranscription"],t0());const w=h(e,["realtimeInputConfig"]);n!==void 0&&w!=null&&m(n,["setup","realtimeInputConfig"],e4(t,w));const E=h(e,["contextWindowCompression"]);return n!==void 0&&E!=null&&m(n,["setup","contextWindowCompression"],o4(t,E)),r}function a4(t,e,n){const r={},o=h(e,["generationConfig"]);n!==void 0&&o!=null&&m(n,["setup","generationConfig"],o);const i=h(e,["responseModalities"]);n!==void 0&&i!=null&&m(n,["setup","generationConfig","responseModalities"],i);const s=h(e,["temperature"]);n!==void 0&&s!=null&&m(n,["setup","generationConfig","temperature"],s);const a=h(e,["topP"]);n!==void 0&&a!=null&&m(n,["setup","generationConfig","topP"],a);const l=h(e,["topK"]);n!==void 0&&l!=null&&m(n,["setup","generationConfig","topK"],l);const c=h(e,["maxOutputTokens"]);n!==void 0&&c!=null&&m(n,["setup","generationConfig","maxOutputTokens"],c);const u=h(e,["mediaResolution"]);n!==void 0&&u!=null&&m(n,["setup","generationConfig","mediaResolution"],u);const d=h(e,["seed"]);n!==void 0&&d!=null&&m(n,["setup","generationConfig","seed"],d);const p=h(e,["speechConfig"]);n!==void 0&&p!=null&&m(n,["setup","generationConfig","speechConfig"],p);const v=h(e,["systemInstruction"]);n!==void 0&&v!=null&&m(n,["setup","systemInstruction"],jR(t,Rt(t,v)));const x=h(e,["tools"]);if(n!==void 0&&x!=null){let b=ju(t,x);Array.isArray(b)&&(b=b.map(T=>YR(t,Lu(t,T)))),m(n,["setup","tools"],b)}const y=h(e,["sessionResumption"]);n!==void 0&&y!=null&&m(n,["setup","sessionResumption"],XR(t,y));const S=h(e,["inputAudioTranscription"]);n!==void 0&&S!=null&&m(n,["setup","inputAudioTranscription"],n0());const C=h(e,["outputAudioTranscription"]);n!==void 0&&C!=null&&m(n,["setup","outputAudioTranscription"],n0());const w=h(e,["realtimeInputConfig"]);n!==void 0&&w!=null&&m(n,["setup","realtimeInputConfig"],t4(t,w));const E=h(e,["contextWindowCompression"]);return n!==void 0&&E!=null&&m(n,["setup","contextWindowCompression"],i4(t,E)),r}function l4(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],s4(t,o,n)),n}function c4(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],a4(t,o,n)),n}function u4(){return{}}function d4(){return{}}function f4(){return{}}function h4(){return{}}function p4(t,e){const n={},r=h(e,["media"]);r!=null&&m(n,["mediaChunks"],gS(t,r));const o=h(e,["audio"]);o!=null&&m(n,["audio"],hI(t,o));const i=h(e,["audioStreamEnd"]);i!=null&&m(n,["audioStreamEnd"],i);const s=h(e,["video"]);s!=null&&m(n,["video"],fI(t,s));const a=h(e,["text"]);return a!=null&&m(n,["text"],a),h(e,["activityStart"])!=null&&m(n,["activityStart"],u4()),h(e,["activityEnd"])!=null&&m(n,["activityEnd"],f4()),n}function m4(t,e){const n={},r=h(e,["media"]);if(r!=null&&m(n,["mediaChunks"],gS(t,r)),h(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=h(e,["audioStreamEnd"]);if(o!=null&&m(n,["audioStreamEnd"],o),h(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(h(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return h(e,["activityStart"])!=null&&m(n,["activityStart"],d4()),h(e,["activityEnd"])!=null&&m(n,["activityEnd"],h4()),n}function g4(){return{}}function v4(){return{}}function y4(t,e){const n={},r=h(e,["data"]);r!=null&&m(n,["data"],r);const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function x4(t,e){const n={},r=h(e,["displayName"]);r!=null&&m(n,["displayName"],r);const o=h(e,["data"]);o!=null&&m(n,["data"],o);const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function w4(t,e){const n={},r=h(e,["thought"]);r!=null&&m(n,["thought"],r);const o=h(e,["inlineData"]);o!=null&&m(n,["inlineData"],y4(t,o));const i=h(e,["codeExecutionResult"]);i!=null&&m(n,["codeExecutionResult"],i);const s=h(e,["executableCode"]);s!=null&&m(n,["executableCode"],s);const a=h(e,["fileData"]);a!=null&&m(n,["fileData"],a);const l=h(e,["functionCall"]);l!=null&&m(n,["functionCall"],l);const c=h(e,["functionResponse"]);c!=null&&m(n,["functionResponse"],c);const u=h(e,["text"]);return u!=null&&m(n,["text"],u),n}function C4(t,e){const n={},r=h(e,["videoMetadata"]);r!=null&&m(n,["videoMetadata"],r);const o=h(e,["thought"]);o!=null&&m(n,["thought"],o);const i=h(e,["inlineData"]);i!=null&&m(n,["inlineData"],x4(t,i));const s=h(e,["codeExecutionResult"]);s!=null&&m(n,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&m(n,["executableCode"],a);const l=h(e,["fileData"]);l!=null&&m(n,["fileData"],l);const c=h(e,["functionCall"]);c!=null&&m(n,["functionCall"],c);const u=h(e,["functionResponse"]);u!=null&&m(n,["functionResponse"],u);const d=h(e,["text"]);return d!=null&&m(n,["text"],d),n}function S4(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>w4(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function E4(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>C4(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function r0(t,e){const n={},r=h(e,["text"]);r!=null&&m(n,["text"],r);const o=h(e,["finished"]);return o!=null&&m(n,["finished"],o),n}function o0(t,e){const n={},r=h(e,["text"]);r!=null&&m(n,["text"],r);const o=h(e,["finished"]);return o!=null&&m(n,["finished"],o),n}function b4(t,e){const n={},r=h(e,["modelTurn"]);r!=null&&m(n,["modelTurn"],S4(t,r));const o=h(e,["turnComplete"]);o!=null&&m(n,["turnComplete"],o);const i=h(e,["interrupted"]);i!=null&&m(n,["interrupted"],i);const s=h(e,["groundingMetadata"]);s!=null&&m(n,["groundingMetadata"],s);const a=h(e,["generationComplete"]);a!=null&&m(n,["generationComplete"],a);const l=h(e,["inputTranscription"]);l!=null&&m(n,["inputTranscription"],r0(t,l));const c=h(e,["outputTranscription"]);return c!=null&&m(n,["outputTranscription"],r0(t,c)),n}function T4(t,e){const n={},r=h(e,["modelTurn"]);r!=null&&m(n,["modelTurn"],E4(t,r));const o=h(e,["turnComplete"]);o!=null&&m(n,["turnComplete"],o);const i=h(e,["interrupted"]);i!=null&&m(n,["interrupted"],i);const s=h(e,["groundingMetadata"]);s!=null&&m(n,["groundingMetadata"],s);const a=h(e,["generationComplete"]);a!=null&&m(n,["generationComplete"],a);const l=h(e,["inputTranscription"]);l!=null&&m(n,["inputTranscription"],o0(t,l));const c=h(e,["outputTranscription"]);return c!=null&&m(n,["outputTranscription"],o0(t,c)),n}function _4(t,e){const n={},r=h(e,["id"]);r!=null&&m(n,["id"],r);const o=h(e,["args"]);o!=null&&m(n,["args"],o);const i=h(e,["name"]);return i!=null&&m(n,["name"],i),n}function P4(t,e){const n={},r=h(e,["args"]);r!=null&&m(n,["args"],r);const o=h(e,["name"]);return o!=null&&m(n,["name"],o),n}function A4(t,e){const n={},r=h(e,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>_4(t,i))),m(n,["functionCalls"],o)}return n}function k4(t,e){const n={},r=h(e,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>P4(t,i))),m(n,["functionCalls"],o)}return n}function N4(t,e){const n={},r=h(e,["ids"]);return r!=null&&m(n,["ids"],r),n}function I4(t,e){const n={},r=h(e,["ids"]);return r!=null&&m(n,["ids"],r),n}function Dl(t,e){const n={},r=h(e,["modality"]);r!=null&&m(n,["modality"],r);const o=h(e,["tokenCount"]);return o!=null&&m(n,["tokenCount"],o),n}function Ll(t,e){const n={},r=h(e,["modality"]);r!=null&&m(n,["modality"],r);const o=h(e,["tokenCount"]);return o!=null&&m(n,["tokenCount"],o),n}function R4(t,e){const n={},r=h(e,["promptTokenCount"]);r!=null&&m(n,["promptTokenCount"],r);const o=h(e,["cachedContentTokenCount"]);o!=null&&m(n,["cachedContentTokenCount"],o);const i=h(e,["responseTokenCount"]);i!=null&&m(n,["responseTokenCount"],i);const s=h(e,["toolUsePromptTokenCount"]);s!=null&&m(n,["toolUsePromptTokenCount"],s);const a=h(e,["thoughtsTokenCount"]);a!=null&&m(n,["thoughtsTokenCount"],a);const l=h(e,["totalTokenCount"]);l!=null&&m(n,["totalTokenCount"],l);const c=h(e,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(x=>Dl(t,x))),m(n,["promptTokensDetails"],v)}const u=h(e,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>Dl(t,x))),m(n,["cacheTokensDetails"],v)}const d=h(e,["responseTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>Dl(t,x))),m(n,["responseTokensDetails"],v)}const p=h(e,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(x=>Dl(t,x))),m(n,["toolUsePromptTokensDetails"],v)}return n}function M4(t,e){const n={},r=h(e,["promptTokenCount"]);r!=null&&m(n,["promptTokenCount"],r);const o=h(e,["cachedContentTokenCount"]);o!=null&&m(n,["cachedContentTokenCount"],o);const i=h(e,["candidatesTokenCount"]);i!=null&&m(n,["responseTokenCount"],i);const s=h(e,["toolUsePromptTokenCount"]);s!=null&&m(n,["toolUsePromptTokenCount"],s);const a=h(e,["thoughtsTokenCount"]);a!=null&&m(n,["thoughtsTokenCount"],a);const l=h(e,["totalTokenCount"]);l!=null&&m(n,["totalTokenCount"],l);const c=h(e,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(y=>Ll(t,y))),m(n,["promptTokensDetails"],x)}const u=h(e,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(y=>Ll(t,y))),m(n,["cacheTokensDetails"],x)}const d=h(e,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(y=>Ll(t,y))),m(n,["responseTokensDetails"],x)}const p=h(e,["toolUsePromptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(y=>Ll(t,y))),m(n,["toolUsePromptTokensDetails"],x)}const v=h(e,["trafficType"]);return v!=null&&m(n,["trafficType"],v),n}function $4(t,e){const n={},r=h(e,["timeLeft"]);return r!=null&&m(n,["timeLeft"],r),n}function D4(t,e){const n={},r=h(e,["timeLeft"]);return r!=null&&m(n,["timeLeft"],r),n}function L4(t,e){const n={},r=h(e,["newHandle"]);r!=null&&m(n,["newHandle"],r);const o=h(e,["resumable"]);o!=null&&m(n,["resumable"],o);const i=h(e,["lastConsumedClientMessageIndex"]);return i!=null&&m(n,["lastConsumedClientMessageIndex"],i),n}function j4(t,e){const n={},r=h(e,["newHandle"]);r!=null&&m(n,["newHandle"],r);const o=h(e,["resumable"]);o!=null&&m(n,["resumable"],o);const i=h(e,["lastConsumedClientMessageIndex"]);return i!=null&&m(n,["lastConsumedClientMessageIndex"],i),n}function F4(t,e){const n={};h(e,["setupComplete"])!=null&&m(n,["setupComplete"],g4());const o=h(e,["serverContent"]);o!=null&&m(n,["serverContent"],b4(t,o));const i=h(e,["toolCall"]);i!=null&&m(n,["toolCall"],A4(t,i));const s=h(e,["toolCallCancellation"]);s!=null&&m(n,["toolCallCancellation"],N4(t,s));const a=h(e,["usageMetadata"]);a!=null&&m(n,["usageMetadata"],R4(t,a));const l=h(e,["goAway"]);l!=null&&m(n,["goAway"],$4(t,l));const c=h(e,["sessionResumptionUpdate"]);return c!=null&&m(n,["sessionResumptionUpdate"],L4(t,c)),n}function O4(t,e){const n={};h(e,["setupComplete"])!=null&&m(n,["setupComplete"],v4());const o=h(e,["serverContent"]);o!=null&&m(n,["serverContent"],T4(t,o));const i=h(e,["toolCall"]);i!=null&&m(n,["toolCall"],k4(t,i));const s=h(e,["toolCallCancellation"]);s!=null&&m(n,["toolCallCancellation"],I4(t,s));const a=h(e,["usageMetadata"]);a!=null&&m(n,["usageMetadata"],M4(t,a));const l=h(e,["goAway"]);l!=null&&m(n,["goAway"],D4(t,l));const c=h(e,["sessionResumptionUpdate"]);return c!=null&&m(n,["sessionResumptionUpdate"],j4(t,c)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V4(t,e){const n={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(e,["data"]);r!=null&&m(n,["data"],r);const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function U4(t,e){const n={};if(h(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=h(e,["thought"]);r!=null&&m(n,["thought"],r);const o=h(e,["inlineData"]);o!=null&&m(n,["inlineData"],V4(t,o));const i=h(e,["codeExecutionResult"]);i!=null&&m(n,["codeExecutionResult"],i);const s=h(e,["executableCode"]);s!=null&&m(n,["executableCode"],s);const a=h(e,["fileData"]);a!=null&&m(n,["fileData"],a);const l=h(e,["functionCall"]);l!=null&&m(n,["functionCall"],l);const c=h(e,["functionResponse"]);c!=null&&m(n,["functionResponse"],c);const u=h(e,["text"]);return u!=null&&m(n,["text"],u),n}function Ou(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>U4(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function B4(t,e){const n={};if(h(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(e,["category"]);r!=null&&m(n,["category"],r);const o=h(e,["threshold"]);return o!=null&&m(n,["threshold"],o),n}function z4(){return{}}function G4(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["dynamicThreshold"]);return o!=null&&m(n,["dynamicThreshold"],o),n}function W4(t,e){const n={},r=h(e,["dynamicRetrievalConfig"]);return r!=null&&m(n,["dynamicRetrievalConfig"],G4(t,r)),n}function H4(t,e){const n={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");h(e,["googleSearch"])!=null&&m(n,["googleSearch"],z4());const o=h(e,["googleSearchRetrieval"]);if(o!=null&&m(n,["googleSearchRetrieval"],W4(t,o)),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=h(e,["codeExecution"]);i!=null&&m(n,["codeExecution"],i);const s=h(e,["functionDeclarations"]);return s!=null&&m(n,["functionDeclarations"],s),n}function q4(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["allowedFunctionNames"]);return o!=null&&m(n,["allowedFunctionNames"],o),n}function K4(t,e){const n={},r=h(e,["functionCallingConfig"]);if(r!=null&&m(n,["functionCallingConfig"],q4(t,r)),h(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function Y4(t,e){const n={},r=h(e,["voiceName"]);return r!=null&&m(n,["voiceName"],r),n}function J4(t,e){const n={},r=h(e,["prebuiltVoiceConfig"]);return r!=null&&m(n,["prebuiltVoiceConfig"],Y4(t,r)),n}function X4(t,e){const n={},r=h(e,["voiceConfig"]);r!=null&&m(n,["voiceConfig"],J4(t,r));const o=h(e,["languageCode"]);return o!=null&&m(n,["languageCode"],o),n}function Q4(t,e){const n={},r=h(e,["includeThoughts"]);r!=null&&m(n,["includeThoughts"],r);const o=h(e,["thinkingBudget"]);return o!=null&&m(n,["thinkingBudget"],o),n}function Z4(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Ou(t,Rt(t,o)));const i=h(e,["temperature"]);i!=null&&m(r,["temperature"],i);const s=h(e,["topP"]);s!=null&&m(r,["topP"],s);const a=h(e,["topK"]);a!=null&&m(r,["topK"],a);const l=h(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const c=h(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const u=h(e,["stopSequences"]);u!=null&&m(r,["stopSequences"],u);const d=h(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const p=h(e,["logprobs"]);p!=null&&m(r,["logprobs"],p);const v=h(e,["presencePenalty"]);v!=null&&m(r,["presencePenalty"],v);const x=h(e,["frequencyPenalty"]);x!=null&&m(r,["frequencyPenalty"],x);const y=h(e,["seed"]);y!=null&&m(r,["seed"],y);const S=h(e,["responseMimeType"]);S!=null&&m(r,["responseMimeType"],S);const C=h(e,["responseSchema"]);if(C!=null&&m(r,["responseSchema"],xS(t,C)),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=h(e,["safetySettings"]);if(n!==void 0&&w!=null){let I=w;Array.isArray(I)&&(I=I.map(R=>B4(t,R))),m(n,["safetySettings"],I)}const E=h(e,["tools"]);if(n!==void 0&&E!=null){let I=ju(t,E);Array.isArray(I)&&(I=I.map(R=>H4(t,Lu(t,R)))),m(n,["tools"],I)}const b=h(e,["toolConfig"]);if(n!==void 0&&b!=null&&m(n,["toolConfig"],K4(t,b)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=h(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],uo(t,T));const A=h(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const P=h(e,["mediaResolution"]);P!=null&&m(r,["mediaResolution"],P);const _=h(e,["speechConfig"]);if(_!=null&&m(r,["speechConfig"],X4(t,wS(t,_))),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=h(e,["thinkingConfig"]);return N!=null&&m(r,["thinkingConfig"],Q4(t,N)),r}function i0(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);if(o!=null){let s=co(t,o);Array.isArray(s)&&(s=s.map(a=>Ou(t,a))),m(n,["contents"],s)}const i=h(e,["config"]);return i!=null&&m(n,["generationConfig"],Z4(t,i,n)),n}function e3(t,e,n){const r={},o=h(e,["taskType"]);n!==void 0&&o!=null&&m(n,["requests[]","taskType"],o);const i=h(e,["title"]);n!==void 0&&i!=null&&m(n,["requests[]","title"],i);const s=h(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&m(n,["requests[]","outputDimensionality"],s),h(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function t3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);o!=null&&m(n,["requests[]","content"],yS(t,o));const i=h(e,["config"]);i!=null&&m(n,["config"],e3(t,i,n));const s=h(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],je(t,s)),n}function n3(t,e,n){const r={};if(h(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=h(e,["numberOfImages"]);n!==void 0&&o!=null&&m(n,["parameters","sampleCount"],o);const i=h(e,["aspectRatio"]);n!==void 0&&i!=null&&m(n,["parameters","aspectRatio"],i);const s=h(e,["guidanceScale"]);if(n!==void 0&&s!=null&&m(n,["parameters","guidanceScale"],s),h(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(e,["safetyFilterLevel"]);n!==void 0&&a!=null&&m(n,["parameters","safetySetting"],a);const l=h(e,["personGeneration"]);n!==void 0&&l!=null&&m(n,["parameters","personGeneration"],l);const c=h(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&m(n,["parameters","includeSafetyAttributes"],c);const u=h(e,["includeRaiReason"]);n!==void 0&&u!=null&&m(n,["parameters","includeRaiReason"],u);const d=h(e,["language"]);n!==void 0&&d!=null&&m(n,["parameters","language"],d);const p=h(e,["outputMimeType"]);n!==void 0&&p!=null&&m(n,["parameters","outputOptions","mimeType"],p);const v=h(e,["outputCompressionQuality"]);if(n!==void 0&&v!=null&&m(n,["parameters","outputOptions","compressionQuality"],v),h(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function r3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const i=h(e,["config"]);return i!=null&&m(n,["config"],n3(t,i,n)),n}function o3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function i3(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);n!==void 0&&i!=null&&m(n,["_query","pageToken"],i);const s=h(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=h(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],ES(t,a)),r}function s3(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],i3(t,r,n)),n}function a3(t,e,n){const r={},o=h(e,["displayName"]);n!==void 0&&o!=null&&m(n,["displayName"],o);const i=h(e,["description"]);n!==void 0&&i!=null&&m(n,["description"],i);const s=h(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&m(n,["defaultCheckpointId"],s),r}function l3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],a3(t,o,n)),n}function c3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function u3(t,e){const n={};if(h(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function d3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);if(o!=null){let s=co(t,o);Array.isArray(s)&&(s=s.map(a=>Ou(t,a))),m(n,["contents"],s)}const i=h(e,["config"]);return i!=null&&m(n,["config"],u3(t,i)),n}function f3(t,e){const n={};if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=h(e,["imageBytes"]);r!=null&&m(n,["bytesBase64Encoded"],fo(t,r));const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function h3(t,e,n){const r={},o=h(e,["numberOfVideos"]);if(n!==void 0&&o!=null&&m(n,["parameters","sampleCount"],o),h(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(e,["durationSeconds"]);if(n!==void 0&&i!=null&&m(n,["parameters","durationSeconds"],i),h(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=h(e,["aspectRatio"]);if(n!==void 0&&s!=null&&m(n,["parameters","aspectRatio"],s),h(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const a=h(e,["personGeneration"]);if(n!==void 0&&a!=null&&m(n,["parameters","personGeneration"],a),h(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=h(e,["negativePrompt"]);if(n!==void 0&&l!=null&&m(n,["parameters","negativePrompt"],l),h(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function p3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const i=h(e,["image"]);i!=null&&m(n,["instances[0]","image"],f3(t,i));const s=h(e,["config"]);return s!=null&&m(n,["config"],h3(t,s,n)),n}function m3(t,e){const n={},r=h(e,["displayName"]);r!=null&&m(n,["displayName"],r);const o=h(e,["data"]);o!=null&&m(n,["data"],o);const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function g3(t,e){const n={},r=h(e,["videoMetadata"]);r!=null&&m(n,["videoMetadata"],r);const o=h(e,["thought"]);o!=null&&m(n,["thought"],o);const i=h(e,["inlineData"]);i!=null&&m(n,["inlineData"],m3(t,i));const s=h(e,["codeExecutionResult"]);s!=null&&m(n,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&m(n,["executableCode"],a);const l=h(e,["fileData"]);l!=null&&m(n,["fileData"],l);const c=h(e,["functionCall"]);c!=null&&m(n,["functionCall"],c);const u=h(e,["functionResponse"]);u!=null&&m(n,["functionResponse"],u);const d=h(e,["text"]);return d!=null&&m(n,["text"],d),n}function vs(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>g3(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function v3(t,e){const n={},r=h(e,["featureSelectionPreference"]);return r!=null&&m(n,["featureSelectionPreference"],r),n}function y3(t,e){const n={},r=h(e,["method"]);r!=null&&m(n,["method"],r);const o=h(e,["category"]);o!=null&&m(n,["category"],o);const i=h(e,["threshold"]);return i!=null&&m(n,["threshold"],i),n}function x3(){return{}}function w3(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["dynamicThreshold"]);return o!=null&&m(n,["dynamicThreshold"],o),n}function C3(t,e){const n={},r=h(e,["dynamicRetrievalConfig"]);return r!=null&&m(n,["dynamicRetrievalConfig"],w3(t,r)),n}function S3(){return{}}function E3(t,e){const n={},r=h(e,["apiKeyString"]);return r!=null&&m(n,["apiKeyString"],r),n}function b3(t,e){const n={},r=h(e,["apiKeyConfig"]);r!=null&&m(n,["apiKeyConfig"],E3(t,r));const o=h(e,["authType"]);o!=null&&m(n,["authType"],o);const i=h(e,["googleServiceAccountConfig"]);i!=null&&m(n,["googleServiceAccountConfig"],i);const s=h(e,["httpBasicAuthConfig"]);s!=null&&m(n,["httpBasicAuthConfig"],s);const a=h(e,["oauthConfig"]);a!=null&&m(n,["oauthConfig"],a);const l=h(e,["oidcConfig"]);return l!=null&&m(n,["oidcConfig"],l),n}function T3(t,e){const n={},r=h(e,["authConfig"]);return r!=null&&m(n,["authConfig"],b3(t,r)),n}function _S(t,e){const n={},r=h(e,["retrieval"]);r!=null&&m(n,["retrieval"],r),h(e,["googleSearch"])!=null&&m(n,["googleSearch"],x3());const i=h(e,["googleSearchRetrieval"]);i!=null&&m(n,["googleSearchRetrieval"],C3(t,i)),h(e,["enterpriseWebSearch"])!=null&&m(n,["enterpriseWebSearch"],S3());const a=h(e,["googleMaps"]);a!=null&&m(n,["googleMaps"],T3(t,a));const l=h(e,["codeExecution"]);l!=null&&m(n,["codeExecution"],l);const c=h(e,["functionDeclarations"]);return c!=null&&m(n,["functionDeclarations"],c),n}function _3(t,e){const n={},r=h(e,["mode"]);r!=null&&m(n,["mode"],r);const o=h(e,["allowedFunctionNames"]);return o!=null&&m(n,["allowedFunctionNames"],o),n}function P3(t,e){const n={},r=h(e,["latitude"]);r!=null&&m(n,["latitude"],r);const o=h(e,["longitude"]);return o!=null&&m(n,["longitude"],o),n}function A3(t,e){const n={},r=h(e,["latLng"]);return r!=null&&m(n,["latLng"],P3(t,r)),n}function k3(t,e){const n={},r=h(e,["functionCallingConfig"]);r!=null&&m(n,["functionCallingConfig"],_3(t,r));const o=h(e,["retrievalConfig"]);return o!=null&&m(n,["retrievalConfig"],A3(t,o)),n}function N3(t,e){const n={},r=h(e,["voiceName"]);return r!=null&&m(n,["voiceName"],r),n}function I3(t,e){const n={},r=h(e,["prebuiltVoiceConfig"]);return r!=null&&m(n,["prebuiltVoiceConfig"],N3(t,r)),n}function R3(t,e){const n={},r=h(e,["voiceConfig"]);r!=null&&m(n,["voiceConfig"],I3(t,r));const o=h(e,["languageCode"]);return o!=null&&m(n,["languageCode"],o),n}function M3(t,e){const n={},r=h(e,["includeThoughts"]);r!=null&&m(n,["includeThoughts"],r);const o=h(e,["thinkingBudget"]);return o!=null&&m(n,["thinkingBudget"],o),n}function $3(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],vs(t,Rt(t,o)));const i=h(e,["temperature"]);i!=null&&m(r,["temperature"],i);const s=h(e,["topP"]);s!=null&&m(r,["topP"],s);const a=h(e,["topK"]);a!=null&&m(r,["topK"],a);const l=h(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const c=h(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const u=h(e,["stopSequences"]);u!=null&&m(r,["stopSequences"],u);const d=h(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const p=h(e,["logprobs"]);p!=null&&m(r,["logprobs"],p);const v=h(e,["presencePenalty"]);v!=null&&m(r,["presencePenalty"],v);const x=h(e,["frequencyPenalty"]);x!=null&&m(r,["frequencyPenalty"],x);const y=h(e,["seed"]);y!=null&&m(r,["seed"],y);const S=h(e,["responseMimeType"]);S!=null&&m(r,["responseMimeType"],S);const C=h(e,["responseSchema"]);C!=null&&m(r,["responseSchema"],xS(t,C));const w=h(e,["routingConfig"]);w!=null&&m(r,["routingConfig"],w);const E=h(e,["modelSelectionConfig"]);E!=null&&m(r,["modelConfig"],v3(t,E));const b=h(e,["safetySettings"]);if(n!==void 0&&b!=null){let $=b;Array.isArray($)&&($=$.map(O=>y3(t,O))),m(n,["safetySettings"],$)}const T=h(e,["tools"]);if(n!==void 0&&T!=null){let $=ju(t,T);Array.isArray($)&&($=$.map(O=>_S(t,Lu(t,O)))),m(n,["tools"],$)}const A=h(e,["toolConfig"]);n!==void 0&&A!=null&&m(n,["toolConfig"],k3(t,A));const P=h(e,["labels"]);n!==void 0&&P!=null&&m(n,["labels"],P);const _=h(e,["cachedContent"]);n!==void 0&&_!=null&&m(n,["cachedContent"],uo(t,_));const N=h(e,["responseModalities"]);N!=null&&m(r,["responseModalities"],N);const I=h(e,["mediaResolution"]);I!=null&&m(r,["mediaResolution"],I);const R=h(e,["speechConfig"]);R!=null&&m(r,["speechConfig"],R3(t,wS(t,R)));const D=h(e,["audioTimestamp"]);D!=null&&m(r,["audioTimestamp"],D);const U=h(e,["thinkingConfig"]);return U!=null&&m(r,["thinkingConfig"],M3(t,U)),r}function s0(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);if(o!=null){let s=co(t,o);Array.isArray(s)&&(s=s.map(a=>vs(t,a))),m(n,["contents"],s)}const i=h(e,["config"]);return i!=null&&m(n,["generationConfig"],$3(t,i,n)),n}function D3(t,e,n){const r={},o=h(e,["taskType"]);n!==void 0&&o!=null&&m(n,["instances[]","task_type"],o);const i=h(e,["title"]);n!==void 0&&i!=null&&m(n,["instances[]","title"],i);const s=h(e,["outputDimensionality"]);n!==void 0&&s!=null&&m(n,["parameters","outputDimensionality"],s);const a=h(e,["mimeType"]);n!==void 0&&a!=null&&m(n,["instances[]","mimeType"],a);const l=h(e,["autoTruncate"]);return n!==void 0&&l!=null&&m(n,["parameters","autoTruncate"],l),r}function L3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);o!=null&&m(n,["instances[]","content"],yS(t,o));const i=h(e,["config"]);return i!=null&&m(n,["config"],D3(t,i,n)),n}function j3(t,e,n){const r={},o=h(e,["outputGcsUri"]);n!==void 0&&o!=null&&m(n,["parameters","storageUri"],o);const i=h(e,["negativePrompt"]);n!==void 0&&i!=null&&m(n,["parameters","negativePrompt"],i);const s=h(e,["numberOfImages"]);n!==void 0&&s!=null&&m(n,["parameters","sampleCount"],s);const a=h(e,["aspectRatio"]);n!==void 0&&a!=null&&m(n,["parameters","aspectRatio"],a);const l=h(e,["guidanceScale"]);n!==void 0&&l!=null&&m(n,["parameters","guidanceScale"],l);const c=h(e,["seed"]);n!==void 0&&c!=null&&m(n,["parameters","seed"],c);const u=h(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&m(n,["parameters","safetySetting"],u);const d=h(e,["personGeneration"]);n!==void 0&&d!=null&&m(n,["parameters","personGeneration"],d);const p=h(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&m(n,["parameters","includeSafetyAttributes"],p);const v=h(e,["includeRaiReason"]);n!==void 0&&v!=null&&m(n,["parameters","includeRaiReason"],v);const x=h(e,["language"]);n!==void 0&&x!=null&&m(n,["parameters","language"],x);const y=h(e,["outputMimeType"]);n!==void 0&&y!=null&&m(n,["parameters","outputOptions","mimeType"],y);const S=h(e,["outputCompressionQuality"]);n!==void 0&&S!=null&&m(n,["parameters","outputOptions","compressionQuality"],S);const C=h(e,["addWatermark"]);n!==void 0&&C!=null&&m(n,["parameters","addWatermark"],C);const w=h(e,["enhancePrompt"]);return n!==void 0&&w!=null&&m(n,["parameters","enhancePrompt"],w),r}function F3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const i=h(e,["config"]);return i!=null&&m(n,["config"],j3(t,i,n)),n}function km(t,e){const n={},r=h(e,["gcsUri"]);r!=null&&m(n,["gcsUri"],r);const o=h(e,["imageBytes"]);o!=null&&m(n,["bytesBase64Encoded"],fo(t,o));const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function O3(t,e){const n={},r=h(e,["maskMode"]);r!=null&&m(n,["maskMode"],r);const o=h(e,["segmentationClasses"]);o!=null&&m(n,["maskClasses"],o);const i=h(e,["maskDilation"]);return i!=null&&m(n,["dilation"],i),n}function V3(t,e){const n={},r=h(e,["controlType"]);r!=null&&m(n,["controlType"],r);const o=h(e,["enableControlImageComputation"]);return o!=null&&m(n,["computeControl"],o),n}function U3(t,e){const n={},r=h(e,["styleDescription"]);return r!=null&&m(n,["styleDescription"],r),n}function B3(t,e){const n={},r=h(e,["subjectType"]);r!=null&&m(n,["subjectType"],r);const o=h(e,["subjectDescription"]);return o!=null&&m(n,["subjectDescription"],o),n}function z3(t,e){const n={},r=h(e,["referenceImage"]);r!=null&&m(n,["referenceImage"],km(t,r));const o=h(e,["referenceId"]);o!=null&&m(n,["referenceId"],o);const i=h(e,["referenceType"]);i!=null&&m(n,["referenceType"],i);const s=h(e,["maskImageConfig"]);s!=null&&m(n,["maskImageConfig"],O3(t,s));const a=h(e,["controlImageConfig"]);a!=null&&m(n,["controlImageConfig"],V3(t,a));const l=h(e,["styleImageConfig"]);l!=null&&m(n,["styleImageConfig"],U3(t,l));const c=h(e,["subjectImageConfig"]);return c!=null&&m(n,["subjectImageConfig"],B3(t,c)),n}function G3(t,e,n){const r={},o=h(e,["outputGcsUri"]);n!==void 0&&o!=null&&m(n,["parameters","storageUri"],o);const i=h(e,["negativePrompt"]);n!==void 0&&i!=null&&m(n,["parameters","negativePrompt"],i);const s=h(e,["numberOfImages"]);n!==void 0&&s!=null&&m(n,["parameters","sampleCount"],s);const a=h(e,["aspectRatio"]);n!==void 0&&a!=null&&m(n,["parameters","aspectRatio"],a);const l=h(e,["guidanceScale"]);n!==void 0&&l!=null&&m(n,["parameters","guidanceScale"],l);const c=h(e,["seed"]);n!==void 0&&c!=null&&m(n,["parameters","seed"],c);const u=h(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&m(n,["parameters","safetySetting"],u);const d=h(e,["personGeneration"]);n!==void 0&&d!=null&&m(n,["parameters","personGeneration"],d);const p=h(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&m(n,["parameters","includeSafetyAttributes"],p);const v=h(e,["includeRaiReason"]);n!==void 0&&v!=null&&m(n,["parameters","includeRaiReason"],v);const x=h(e,["language"]);n!==void 0&&x!=null&&m(n,["parameters","language"],x);const y=h(e,["outputMimeType"]);n!==void 0&&y!=null&&m(n,["parameters","outputOptions","mimeType"],y);const S=h(e,["outputCompressionQuality"]);n!==void 0&&S!=null&&m(n,["parameters","outputOptions","compressionQuality"],S);const C=h(e,["editMode"]);n!==void 0&&C!=null&&m(n,["parameters","editMode"],C);const w=h(e,["baseSteps"]);return n!==void 0&&w!=null&&m(n,["parameters","editConfig","baseSteps"],w),r}function W3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const i=h(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>z3(t,l))),m(n,["instances[0]","referenceImages"],a)}const s=h(e,["config"]);return s!=null&&m(n,["config"],G3(t,s,n)),n}function H3(t,e,n){const r={},o=h(e,["includeRaiReason"]);n!==void 0&&o!=null&&m(n,["parameters","includeRaiReason"],o);const i=h(e,["outputMimeType"]);n!==void 0&&i!=null&&m(n,["parameters","outputOptions","mimeType"],i);const s=h(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&m(n,["parameters","outputOptions","compressionQuality"],s);const a=h(e,["numberOfImages"]);n!==void 0&&a!=null&&m(n,["parameters","sampleCount"],a);const l=h(e,["mode"]);return n!==void 0&&l!=null&&m(n,["parameters","mode"],l),r}function q3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],km(t,o));const i=h(e,["upscaleFactor"]);i!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=h(e,["config"]);return s!=null&&m(n,["config"],H3(t,s,n)),n}function K3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function Y3(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);n!==void 0&&i!=null&&m(n,["_query","pageToken"],i);const s=h(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=h(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],ES(t,a)),r}function J3(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],Y3(t,r,n)),n}function X3(t,e,n){const r={},o=h(e,["displayName"]);n!==void 0&&o!=null&&m(n,["displayName"],o);const i=h(e,["description"]);n!==void 0&&i!=null&&m(n,["description"],i);const s=h(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&m(n,["defaultCheckpointId"],s),r}function Q3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],X3(t,o,n)),n}function Z3(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],je(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function e5(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],vs(t,Rt(t,o)));const i=h(e,["tools"]);if(n!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>_S(t,l))),m(n,["tools"],a)}const s=h(e,["generationConfig"]);return n!==void 0&&s!=null&&m(n,["generationConfig"],s),r}function t5(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);if(o!=null){let s=co(t,o);Array.isArray(s)&&(s=s.map(a=>vs(t,a))),m(n,["contents"],s)}const i=h(e,["config"]);return i!=null&&m(n,["config"],e5(t,i,n)),n}function n5(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["contents"]);if(o!=null){let s=co(t,o);Array.isArray(s)&&(s=s.map(a=>vs(t,a))),m(n,["contents"],s)}const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function r5(t,e,n){const r={},o=h(e,["numberOfVideos"]);n!==void 0&&o!=null&&m(n,["parameters","sampleCount"],o);const i=h(e,["outputGcsUri"]);n!==void 0&&i!=null&&m(n,["parameters","storageUri"],i);const s=h(e,["fps"]);n!==void 0&&s!=null&&m(n,["parameters","fps"],s);const a=h(e,["durationSeconds"]);n!==void 0&&a!=null&&m(n,["parameters","durationSeconds"],a);const l=h(e,["seed"]);n!==void 0&&l!=null&&m(n,["parameters","seed"],l);const c=h(e,["aspectRatio"]);n!==void 0&&c!=null&&m(n,["parameters","aspectRatio"],c);const u=h(e,["resolution"]);n!==void 0&&u!=null&&m(n,["parameters","resolution"],u);const d=h(e,["personGeneration"]);n!==void 0&&d!=null&&m(n,["parameters","personGeneration"],d);const p=h(e,["pubsubTopic"]);n!==void 0&&p!=null&&m(n,["parameters","pubsubTopic"],p);const v=h(e,["negativePrompt"]);n!==void 0&&v!=null&&m(n,["parameters","negativePrompt"],v);const x=h(e,["enhancePrompt"]);return n!==void 0&&x!=null&&m(n,["parameters","enhancePrompt"],x),r}function o5(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const i=h(e,["image"]);i!=null&&m(n,["instances[0]","image"],km(t,i));const s=h(e,["config"]);return s!=null&&m(n,["config"],r5(t,s,n)),n}function i5(t,e){const n={},r=h(e,["data"]);r!=null&&m(n,["data"],r);const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function s5(t,e){const n={},r=h(e,["thought"]);r!=null&&m(n,["thought"],r);const o=h(e,["inlineData"]);o!=null&&m(n,["inlineData"],i5(t,o));const i=h(e,["codeExecutionResult"]);i!=null&&m(n,["codeExecutionResult"],i);const s=h(e,["executableCode"]);s!=null&&m(n,["executableCode"],s);const a=h(e,["fileData"]);a!=null&&m(n,["fileData"],a);const l=h(e,["functionCall"]);l!=null&&m(n,["functionCall"],l);const c=h(e,["functionResponse"]);c!=null&&m(n,["functionResponse"],c);const u=h(e,["text"]);return u!=null&&m(n,["text"],u),n}function a5(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s5(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function l5(t,e){const n={},r=h(e,["citationSources"]);return r!=null&&m(n,["citations"],r),n}function c5(t,e){const n={},r=h(e,["content"]);r!=null&&m(n,["content"],a5(t,r));const o=h(e,["citationMetadata"]);o!=null&&m(n,["citationMetadata"],l5(t,o));const i=h(e,["tokenCount"]);i!=null&&m(n,["tokenCount"],i);const s=h(e,["finishReason"]);s!=null&&m(n,["finishReason"],s);const a=h(e,["avgLogprobs"]);a!=null&&m(n,["avgLogprobs"],a);const l=h(e,["groundingMetadata"]);l!=null&&m(n,["groundingMetadata"],l);const c=h(e,["index"]);c!=null&&m(n,["index"],c);const u=h(e,["logprobsResult"]);u!=null&&m(n,["logprobsResult"],u);const d=h(e,["safetyRatings"]);return d!=null&&m(n,["safetyRatings"],d),n}function a0(t,e){const n={},r=h(e,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>c5(t,l))),m(n,["candidates"],a)}const o=h(e,["modelVersion"]);o!=null&&m(n,["modelVersion"],o);const i=h(e,["promptFeedback"]);i!=null&&m(n,["promptFeedback"],i);const s=h(e,["usageMetadata"]);return s!=null&&m(n,["usageMetadata"],s),n}function u5(t,e){const n={},r=h(e,["values"]);return r!=null&&m(n,["values"],r),n}function d5(){return{}}function f5(t,e){const n={},r=h(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>u5(t,s))),m(n,["embeddings"],i)}return h(e,["metadata"])!=null&&m(n,["metadata"],d5()),n}function h5(t,e){const n={},r=h(e,["bytesBase64Encoded"]);r!=null&&m(n,["imageBytes"],fo(t,r));const o=h(e,["mimeType"]);return o!=null&&m(n,["mimeType"],o),n}function PS(t,e){const n={},r=h(e,["safetyAttributes","categories"]);r!=null&&m(n,["categories"],r);const o=h(e,["safetyAttributes","scores"]);o!=null&&m(n,["scores"],o);const i=h(e,["contentType"]);return i!=null&&m(n,["contentType"],i),n}function p5(t,e){const n={},r=h(e,["_self"]);r!=null&&m(n,["image"],h5(t,r));const o=h(e,["raiFilteredReason"]);o!=null&&m(n,["raiFilteredReason"],o);const i=h(e,["_self"]);return i!=null&&m(n,["safetyAttributes"],PS(t,i)),n}function m5(t,e){const n={},r=h(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>p5(t,s))),m(n,["generatedImages"],i)}const o=h(e,["positivePromptSafetyAttributes"]);return o!=null&&m(n,["positivePromptSafetyAttributes"],PS(t,o)),n}function g5(t,e){const n={},r=h(e,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(e,["createTime"]);o!=null&&m(n,["createTime"],o);const i=h(e,["updateTime"]);return i!=null&&m(n,["updateTime"],i),n}function jh(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["displayName"]);o!=null&&m(n,["displayName"],o);const i=h(e,["description"]);i!=null&&m(n,["description"],i);const s=h(e,["version"]);s!=null&&m(n,["version"],s);const a=h(e,["_self"]);a!=null&&m(n,["tunedModelInfo"],g5(t,a));const l=h(e,["inputTokenLimit"]);l!=null&&m(n,["inputTokenLimit"],l);const c=h(e,["outputTokenLimit"]);c!=null&&m(n,["outputTokenLimit"],c);const u=h(e,["supportedGenerationMethods"]);return u!=null&&m(n,["supportedActions"],u),n}function v5(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["_self"]);if(o!=null){let i=bS(t,o);Array.isArray(i)&&(i=i.map(s=>jh(t,s))),m(n,["models"],i)}return n}function y5(){return{}}function x5(t,e){const n={},r=h(e,["totalTokens"]);r!=null&&m(n,["totalTokens"],r);const o=h(e,["cachedContentTokenCount"]);return o!=null&&m(n,["cachedContentTokenCount"],o),n}function w5(t,e){const n={},r=h(e,["video","uri"]);r!=null&&m(n,["uri"],r);const o=h(e,["video","encodedVideo"]);o!=null&&m(n,["videoBytes"],fo(t,o));const i=h(e,["encoding"]);return i!=null&&m(n,["mimeType"],i),n}function C5(t,e){const n={},r=h(e,["_self"]);return r!=null&&m(n,["video"],w5(t,r)),n}function S5(t,e){const n={},r=h(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>C5(t,a))),m(n,["generatedVideos"],s)}const o=h(e,["raiMediaFilteredCount"]);o!=null&&m(n,["raiMediaFilteredCount"],o);const i=h(e,["raiMediaFilteredReasons"]);return i!=null&&m(n,["raiMediaFilteredReasons"],i),n}function E5(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["metadata"]);o!=null&&m(n,["metadata"],o);const i=h(e,["done"]);i!=null&&m(n,["done"],i);const s=h(e,["error"]);s!=null&&m(n,["error"],s);const a=h(e,["response","generateVideoResponse"]);return a!=null&&m(n,["response"],S5(t,a)),n}function b5(t,e){const n={},r=h(e,["displayName"]);r!=null&&m(n,["displayName"],r);const o=h(e,["data"]);o!=null&&m(n,["data"],o);const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function T5(t,e){const n={},r=h(e,["videoMetadata"]);r!=null&&m(n,["videoMetadata"],r);const o=h(e,["thought"]);o!=null&&m(n,["thought"],o);const i=h(e,["inlineData"]);i!=null&&m(n,["inlineData"],b5(t,i));const s=h(e,["codeExecutionResult"]);s!=null&&m(n,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&m(n,["executableCode"],a);const l=h(e,["fileData"]);l!=null&&m(n,["fileData"],l);const c=h(e,["functionCall"]);c!=null&&m(n,["functionCall"],c);const u=h(e,["functionResponse"]);u!=null&&m(n,["functionResponse"],u);const d=h(e,["text"]);return d!=null&&m(n,["text"],d),n}function _5(t,e){const n={},r=h(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>T5(t,s))),m(n,["parts"],i)}const o=h(e,["role"]);return o!=null&&m(n,["role"],o),n}function P5(t,e){const n={},r=h(e,["citations"]);return r!=null&&m(n,["citations"],r),n}function A5(t,e){const n={},r=h(e,["content"]);r!=null&&m(n,["content"],_5(t,r));const o=h(e,["citationMetadata"]);o!=null&&m(n,["citationMetadata"],P5(t,o));const i=h(e,["finishMessage"]);i!=null&&m(n,["finishMessage"],i);const s=h(e,["finishReason"]);s!=null&&m(n,["finishReason"],s);const a=h(e,["avgLogprobs"]);a!=null&&m(n,["avgLogprobs"],a);const l=h(e,["groundingMetadata"]);l!=null&&m(n,["groundingMetadata"],l);const c=h(e,["index"]);c!=null&&m(n,["index"],c);const u=h(e,["logprobsResult"]);u!=null&&m(n,["logprobsResult"],u);const d=h(e,["safetyRatings"]);return d!=null&&m(n,["safetyRatings"],d),n}function l0(t,e){const n={},r=h(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>A5(t,u))),m(n,["candidates"],c)}const o=h(e,["createTime"]);o!=null&&m(n,["createTime"],o);const i=h(e,["responseId"]);i!=null&&m(n,["responseId"],i);const s=h(e,["modelVersion"]);s!=null&&m(n,["modelVersion"],s);const a=h(e,["promptFeedback"]);a!=null&&m(n,["promptFeedback"],a);const l=h(e,["usageMetadata"]);return l!=null&&m(n,["usageMetadata"],l),n}function k5(t,e){const n={},r=h(e,["truncated"]);r!=null&&m(n,["truncated"],r);const o=h(e,["token_count"]);return o!=null&&m(n,["tokenCount"],o),n}function N5(t,e){const n={},r=h(e,["values"]);r!=null&&m(n,["values"],r);const o=h(e,["statistics"]);return o!=null&&m(n,["statistics"],k5(t,o)),n}function I5(t,e){const n={},r=h(e,["billableCharacterCount"]);return r!=null&&m(n,["billableCharacterCount"],r),n}function R5(t,e){const n={},r=h(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>N5(t,s))),m(n,["embeddings"],i)}const o=h(e,["metadata"]);return o!=null&&m(n,["metadata"],I5(t,o)),n}function M5(t,e){const n={},r=h(e,["gcsUri"]);r!=null&&m(n,["gcsUri"],r);const o=h(e,["bytesBase64Encoded"]);o!=null&&m(n,["imageBytes"],fo(t,o));const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function AS(t,e){const n={},r=h(e,["safetyAttributes","categories"]);r!=null&&m(n,["categories"],r);const o=h(e,["safetyAttributes","scores"]);o!=null&&m(n,["scores"],o);const i=h(e,["contentType"]);return i!=null&&m(n,["contentType"],i),n}function Nm(t,e){const n={},r=h(e,["_self"]);r!=null&&m(n,["image"],M5(t,r));const o=h(e,["raiFilteredReason"]);o!=null&&m(n,["raiFilteredReason"],o);const i=h(e,["_self"]);i!=null&&m(n,["safetyAttributes"],AS(t,i));const s=h(e,["prompt"]);return s!=null&&m(n,["enhancedPrompt"],s),n}function $5(t,e){const n={},r=h(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Nm(t,s))),m(n,["generatedImages"],i)}const o=h(e,["positivePromptSafetyAttributes"]);return o!=null&&m(n,["positivePromptSafetyAttributes"],AS(t,o)),n}function D5(t,e){const n={},r=h(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Nm(t,i))),m(n,["generatedImages"],o)}return n}function L5(t,e){const n={},r=h(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Nm(t,i))),m(n,["generatedImages"],o)}return n}function j5(t,e){const n={},r=h(e,["endpoint"]);r!=null&&m(n,["name"],r);const o=h(e,["deployedModelId"]);return o!=null&&m(n,["deployedModelId"],o),n}function F5(t,e){const n={},r=h(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&m(n,["baseModel"],r);const o=h(e,["createTime"]);o!=null&&m(n,["createTime"],o);const i=h(e,["updateTime"]);return i!=null&&m(n,["updateTime"],i),n}function O5(t,e){const n={},r=h(e,["checkpointId"]);r!=null&&m(n,["checkpointId"],r);const o=h(e,["epoch"]);o!=null&&m(n,["epoch"],o);const i=h(e,["step"]);return i!=null&&m(n,["step"],i),n}function Fh(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["displayName"]);o!=null&&m(n,["displayName"],o);const i=h(e,["description"]);i!=null&&m(n,["description"],i);const s=h(e,["versionId"]);s!=null&&m(n,["version"],s);const a=h(e,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>j5(t,v))),m(n,["endpoints"],p)}const l=h(e,["labels"]);l!=null&&m(n,["labels"],l);const c=h(e,["_self"]);c!=null&&m(n,["tunedModelInfo"],F5(t,c));const u=h(e,["defaultCheckpointId"]);u!=null&&m(n,["defaultCheckpointId"],u);const d=h(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>O5(t,v))),m(n,["checkpoints"],p)}return n}function V5(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["_self"]);if(o!=null){let i=bS(t,o);Array.isArray(i)&&(i=i.map(s=>Fh(t,s))),m(n,["models"],i)}return n}function U5(){return{}}function B5(t,e){const n={},r=h(e,["totalTokens"]);return r!=null&&m(n,["totalTokens"],r),n}function z5(t,e){const n={},r=h(e,["tokensInfo"]);return r!=null&&m(n,["tokensInfo"],r),n}function G5(t,e){const n={},r=h(e,["gcsUri"]);r!=null&&m(n,["uri"],r);const o=h(e,["bytesBase64Encoded"]);o!=null&&m(n,["videoBytes"],fo(t,o));const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function W5(t,e){const n={},r=h(e,["_self"]);return r!=null&&m(n,["video"],G5(t,r)),n}function H5(t,e){const n={},r=h(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>W5(t,a))),m(n,["generatedVideos"],s)}const o=h(e,["raiMediaFilteredCount"]);o!=null&&m(n,["raiMediaFilteredCount"],o);const i=h(e,["raiMediaFilteredReasons"]);return i!=null&&m(n,["raiMediaFilteredReasons"],i),n}function q5(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["metadata"]);o!=null&&m(n,["metadata"],o);const i=h(e,["done"]);i!=null&&m(n,["done"],i);const s=h(e,["error"]);s!=null&&m(n,["error"],s);const a=h(e,["response"]);return a!=null&&m(n,["response"],H5(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y5(t,e,n){const r=new hR;let o;if(n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),t.isVertexAI()){const i=O4(t,o);Object.assign(r,i)}else{const i=F4(t,o);Object.assign(r,i)}e(r)}class J5{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r,o,i;const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion();let l;const c=eM(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())l=`${s}/ws/google.cloud.aiplatform.${a}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(c);else{const b=this.apiClient.getApiKey();l=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateContent?key=${b}`}let u=()=>{};const d=new Promise(b=>{u=b}),p=e.callbacks,v=function(){var b;(b=p==null?void 0:p.onopen)===null||b===void 0||b.call(p),u({})},x=this.apiClient,y={onopen:v,onmessage:b=>{Y5(x,p.onmessage,b)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(b){}},S=this.webSocketFactory.create(l,Z5(c),y);S.connect(),await d;let C=je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const b=this.apiClient.getProject(),T=this.apiClient.getLocation();C=`projects/${b}/locations/${T}/`+C}let w={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vn.AUDIO]}:e.config.responseModalities=[Vn.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=c4(this.apiClient,E):w=l4(this.apiClient,E),delete w.config,S.send(JSON.stringify(w)),new Q5(S,this.apiClient)}}const X5={turnComplete:!0};class Q5{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=co(e,n.turns),e.isVertexAI()?r=r.map(o=>vs(e,o)):r=r.map(o=>Ou(e,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(K5)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},X5),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:m4(this.apiClient,e)}:n={realtimeInput:p4(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Z5(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eM(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tM extends Qa{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((o=l==null?void 0:l.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=l==null?void 0:l.safetyAttributes:s.push(l);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i}:a={generatedImages:s},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Fu(Zi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)}}async generateContentInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=s0(this.apiClient,e);return a=se("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=l0(this.apiClient,u),p=new $l;return Object.assign(p,d),p})}else{const c=i0(this.apiClient,e);return a=se("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=a0(this.apiClient,u),p=new $l;return Object.assign(p,d),p})}}async generateContentStreamInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=s0(this.apiClient,e);a=se("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const u=this.apiClient;return s=u.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Qc(this,arguments,function*(){var p,v,x,y;try{for(var S=!0,C=Dh(d),w;w=yield pt(C.next()),p=w.done,!p;S=!0){y=w.value,S=!1;const b=l0(u,yield pt(y.json())),T=new $l;Object.assign(T,b),yield yield pt(T)}}catch(E){v={error:E}}finally{try{!S&&!p&&(x=C.return)&&(yield pt(x.call(C)))}finally{if(v)throw v.error}}})})}else{const c=i0(this.apiClient,e);a=se("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const u=this.apiClient;return s=u.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(d){return Qc(this,arguments,function*(){var p,v,x,y;try{for(var S=!0,C=Dh(d),w;w=yield pt(C.next()),p=w.done,!p;S=!0){y=w.value,S=!1;const b=a0(u,yield pt(y.json())),T=new $l;Object.assign(T,b),yield yield pt(T)}}catch(E){v={error:E}}finally{try{!S&&!p&&(x=C.return)&&(yield pt(x.call(C)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=L3(this.apiClient,e);return a=se("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=R5(this.apiClient,u),p=new Hy;return Object.assign(p,d),p})}else{const c=t3(this.apiClient,e);return a=se("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=f5(this.apiClient,u),p=new Hy;return Object.assign(p,d),p})}}async generateImagesInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=F3(this.apiClient,e);return a=se("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=$5(this.apiClient,u),p=new qy;return Object.assign(p,d),p})}else{const c=r3(this.apiClient,e);return a=se("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=m5(this.apiClient,u),p=new qy;return Object.assign(p,d),p})}}async editImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=W3(this.apiClient,e);return i=se("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const c=D5(this.apiClient,l),u=new aR;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=q3(this.apiClient,e);return i=se("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const c=L5(this.apiClient,l),u=new lR;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=K3(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>Fh(this.apiClient,u))}else{const c=o3(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>jh(this.apiClient,u))}}async listInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=J3(this.apiClient,e);return a=se("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=V5(this.apiClient,u),p=new Ky;return Object.assign(p,d),p})}else{const c=s3(this.apiClient,e);return a=se("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=v5(this.apiClient,u),p=new Ky;return Object.assign(p,d),p})}}async update(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=Q3(this.apiClient,e);return a=se("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>Fh(this.apiClient,u))}else{const c=l3(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>jh(this.apiClient,u))}}async delete(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=Z3(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(()=>{const u=U5(),d=new Yy;return Object.assign(d,u),d})}else{const c=c3(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(()=>{const u=y5(),d=new Yy;return Object.assign(d,u),d})}}async countTokens(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=t5(this.apiClient,e);return a=se("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=B5(this.apiClient,u),p=new Jy;return Object.assign(p,d),p})}else{const c=d3(this.apiClient,e);return a=se("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=x5(this.apiClient,u),p=new Jy;return Object.assign(p,d),p})}}async computeTokens(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=n5(this.apiClient,e);return i=se("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const c=z5(this.apiClient,l),u=new cR;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=o5(this.apiClient,e);return a=se("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>q5(this.apiClient,u))}else{const c=p3(this.apiClient,e);return a=se("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>E5(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nM(t,e){const n={},r=h(e,["operationName"]);r!=null&&m(n,["_url","operationName"],r);const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function rM(t,e){const n={},r=h(e,["operationName"]);r!=null&&m(n,["_url","operationName"],r);const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function oM(t,e){const n={},r=h(e,["operationName"]);r!=null&&m(n,["operationName"],r);const o=h(e,["resourceName"]);o!=null&&m(n,["_url","resourceName"],o);const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function iM(t,e){const n={},r=h(e,["video","uri"]);r!=null&&m(n,["uri"],r);const o=h(e,["video","encodedVideo"]);o!=null&&m(n,["videoBytes"],fo(t,o));const i=h(e,["encoding"]);return i!=null&&m(n,["mimeType"],i),n}function sM(t,e){const n={},r=h(e,["_self"]);return r!=null&&m(n,["video"],iM(t,r)),n}function aM(t,e){const n={},r=h(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>sM(t,a))),m(n,["generatedVideos"],s)}const o=h(e,["raiMediaFilteredCount"]);o!=null&&m(n,["raiMediaFilteredCount"],o);const i=h(e,["raiMediaFilteredReasons"]);return i!=null&&m(n,["raiMediaFilteredReasons"],i),n}function lM(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["metadata"]);o!=null&&m(n,["metadata"],o);const i=h(e,["done"]);i!=null&&m(n,["done"],i);const s=h(e,["error"]);s!=null&&m(n,["error"],s);const a=h(e,["response","generateVideoResponse"]);return a!=null&&m(n,["response"],aM(t,a)),n}function cM(t,e){const n={},r=h(e,["gcsUri"]);r!=null&&m(n,["uri"],r);const o=h(e,["bytesBase64Encoded"]);o!=null&&m(n,["videoBytes"],fo(t,o));const i=h(e,["mimeType"]);return i!=null&&m(n,["mimeType"],i),n}function uM(t,e){const n={},r=h(e,["_self"]);return r!=null&&m(n,["video"],cM(t,r)),n}function dM(t,e){const n={},r=h(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>uM(t,a))),m(n,["generatedVideos"],s)}const o=h(e,["raiMediaFilteredCount"]);o!=null&&m(n,["raiMediaFilteredCount"],o);const i=h(e,["raiMediaFilteredReasons"]);return i!=null&&m(n,["raiMediaFilteredReasons"],i),n}function c0(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["metadata"]);o!=null&&m(n,["metadata"],o);const i=h(e,["done"]);i!=null&&m(n,["done"],i);const s=h(e,["error"]);s!=null&&m(n,["error"],s);const a=h(e,["response"]);return a!=null&&m(n,["response"],dM(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fM extends Qa{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=rM(this.apiClient,e);return a=se("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>c0(this.apiClient,u))}else{const c=nM(this.apiClient,e);return a=se("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>lM(this.apiClient,u))}}async fetchPredictVideosOperationInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=oM(this.apiClient,e);return i=se("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>c0(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hM="Content-Type",pM="X-Server-Timeout",mM="User-Agent",gM="x-goog-api-client",vM="0.14.0",yM=`google-genai-sdk/${vM}`,xM="v1beta1",wM="v1beta",u0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class kS extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Oh extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class CM{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:xM,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wM,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))o.searchParams.append(s,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(o,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(o,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const o=new AbortController,i=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await d0(o),new $h(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await d0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Qc(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield pt(o.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(l);try{const d=JSON.parse(c);if("error"in d){const p=JSON.parse(JSON.stringify(d.error)),v=p.status,x=p.code,y=`got status: ${v}. ${JSON.stringify(d)}`;if(x>=400&&x<500)throw new kS(y);if(x>=500&&x<600)throw new Oh(y)}}catch(d){const p=d;if(p.name==="ClientError"||p.name==="ServerError")throw d}s+=c;let u=s.match(u0);for(;u;){const d=u[1];try{const p=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pt(new $h(p)),s=s.slice(u[0].length),u=s.match(u0)}catch(p){throw new Error(`exception parsing stream chunk ${d}. ${p}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=yM+" "+this.clientOptions.userAgentExtra;return e[mM]=n,e[gM]=n,e[hM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,o]of Object.entries(e.headers))n.append(r,o);e.timeout&&e.timeout>0&&n.append(pM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);o.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=a;const l=await this.fetchUploadUrl(o,n);return i.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:se("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:o});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function d0(t){var e;if(t===void 0)throw new Oh("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new kS(i):n>=500&&n<600?new Oh(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SM(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],r);const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function EM(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);n!==void 0&&i!=null&&m(n,["_query","pageToken"],i);const s=h(e,["filter"]);return n!==void 0&&s!=null&&m(n,["_query","filter"],s),r}function bM(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],EM(t,r,n)),n}function TM(t,e){const n={},r=h(e,["textInput"]);r!=null&&m(n,["textInput"],r);const o=h(e,["output"]);return o!=null&&m(n,["output"],o),n}function _M(t,e){const n={};if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=h(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>TM(t,i))),m(n,["examples","examples"],o)}return n}function PM(t,e,n){const r={};if(h(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(e,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&m(n,["displayName"],o),h(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=h(e,["epochCount"]);n!==void 0&&i!=null&&m(n,["tuningTask","hyperparameters","epochCount"],i);const s=h(e,["learningRateMultiplier"]);if(s!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),h(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=h(e,["batchSize"]);n!==void 0&&a!=null&&m(n,["tuningTask","hyperparameters","batchSize"],a);const l=h(e,["learningRate"]);return n!==void 0&&l!=null&&m(n,["tuningTask","hyperparameters","learningRate"],l),r}function AM(t,e){const n={},r=h(e,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(e,["trainingDataset"]);o!=null&&m(n,["tuningTask","trainingData"],_M(t,o));const i=h(e,["config"]);return i!=null&&m(n,["config"],PM(t,i,n)),n}function kM(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],r);const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function NM(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const i=h(e,["pageToken"]);n!==void 0&&i!=null&&m(n,["_query","pageToken"],i);const s=h(e,["filter"]);return n!==void 0&&s!=null&&m(n,["_query","filter"],s),r}function IM(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],NM(t,r,n)),n}function RM(t,e,n){const r={},o=h(e,["gcsUri"]);if(n!==void 0&&o!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],o),h(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function MM(t,e){const n={},r=h(e,["gcsUri"]);return r!=null&&m(n,["validationDatasetUri"],r),n}function $M(t,e,n){const r={},o=h(e,["validationDataset"]);n!==void 0&&o!=null&&m(n,["supervisedTuningSpec"],MM(t,o));const i=h(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&m(n,["tunedModelDisplayName"],i);const s=h(e,["description"]);n!==void 0&&s!=null&&m(n,["description"],s);const a=h(e,["epochCount"]);n!==void 0&&a!=null&&m(n,["supervisedTuningSpec","hyperParameters","epochCount"],a);const l=h(e,["learningRateMultiplier"]);n!==void 0&&l!=null&&m(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const c=h(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&m(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const u=h(e,["adapterSize"]);if(n!==void 0&&u!=null&&m(n,["supervisedTuningSpec","hyperParameters","adapterSize"],u),h(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function DM(t,e){const n={},r=h(e,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(e,["trainingDataset"]);o!=null&&m(n,["supervisedTuningSpec","trainingDatasetUri"],RM(t,o,n));const i=h(e,["config"]);return i!=null&&m(n,["config"],$M(t,i,n)),n}function LM(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["model"],r);const o=h(e,["name"]);return o!=null&&m(n,["endpoint"],o),n}function NS(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["state"]);o!=null&&m(n,["state"],CS(t,o));const i=h(e,["createTime"]);i!=null&&m(n,["createTime"],i);const s=h(e,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const a=h(e,["tuningTask","completeTime"]);a!=null&&m(n,["endTime"],a);const l=h(e,["updateTime"]);l!=null&&m(n,["updateTime"],l);const c=h(e,["description"]);c!=null&&m(n,["description"],c);const u=h(e,["baseModel"]);u!=null&&m(n,["baseModel"],u);const d=h(e,["_self"]);d!=null&&m(n,["tunedModel"],LM(t,d));const p=h(e,["distillationSpec"]);p!=null&&m(n,["distillationSpec"],p);const v=h(e,["experiment"]);v!=null&&m(n,["experiment"],v);const x=h(e,["labels"]);x!=null&&m(n,["labels"],x);const y=h(e,["pipelineJob"]);y!=null&&m(n,["pipelineJob"],y);const S=h(e,["tunedModelDisplayName"]);return S!=null&&m(n,["tunedModelDisplayName"],S),n}function jM(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["tunedModels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>NS(t,s))),m(n,["tuningJobs"],i)}return n}function FM(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["metadata"]);o!=null&&m(n,["metadata"],o);const i=h(e,["done"]);i!=null&&m(n,["done"],i);const s=h(e,["error"]);return s!=null&&m(n,["error"],s),n}function OM(t,e){const n={},r=h(e,["checkpointId"]);r!=null&&m(n,["checkpointId"],r);const o=h(e,["epoch"]);o!=null&&m(n,["epoch"],o);const i=h(e,["step"]);i!=null&&m(n,["step"],i);const s=h(e,["endpoint"]);return s!=null&&m(n,["endpoint"],s),n}function VM(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],r);const o=h(e,["endpoint"]);o!=null&&m(n,["endpoint"],o);const i=h(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>OM(t,a))),m(n,["checkpoints"],s)}return n}function Vh(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["name"],r);const o=h(e,["state"]);o!=null&&m(n,["state"],CS(t,o));const i=h(e,["createTime"]);i!=null&&m(n,["createTime"],i);const s=h(e,["startTime"]);s!=null&&m(n,["startTime"],s);const a=h(e,["endTime"]);a!=null&&m(n,["endTime"],a);const l=h(e,["updateTime"]);l!=null&&m(n,["updateTime"],l);const c=h(e,["error"]);c!=null&&m(n,["error"],c);const u=h(e,["description"]);u!=null&&m(n,["description"],u);const d=h(e,["baseModel"]);d!=null&&m(n,["baseModel"],d);const p=h(e,["tunedModel"]);p!=null&&m(n,["tunedModel"],VM(t,p));const v=h(e,["supervisedTuningSpec"]);v!=null&&m(n,["supervisedTuningSpec"],v);const x=h(e,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const y=h(e,["encryptionSpec"]);y!=null&&m(n,["encryptionSpec"],y);const S=h(e,["partnerModelTuningSpec"]);S!=null&&m(n,["partnerModelTuningSpec"],S);const C=h(e,["distillationSpec"]);C!=null&&m(n,["distillationSpec"],C);const w=h(e,["experiment"]);w!=null&&m(n,["experiment"],w);const E=h(e,["labels"]);E!=null&&m(n,["labels"],E);const b=h(e,["pipelineJob"]);b!=null&&m(n,["pipelineJob"],b);const T=h(e,["tunedModelDisplayName"]);return T!=null&&m(n,["tunedModelDisplayName"],T),n}function UM(t,e){const n={},r=h(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const o=h(e,["tuningJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Vh(t,s))),m(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM extends Qa{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Fu(Zi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Mh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=kM(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>Vh(this.apiClient,u))}else{const c=SM(this.apiClient,e);return a=se("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>NS(this.apiClient,u))}}async listInternal(e){var n,r,o,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=IM(this.apiClient,e);return a=se("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>{const d=UM(this.apiClient,u),p=new Xy;return Object.assign(p,d),p})}else{const c=bM(this.apiClient,e);return a=se("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=jM(this.apiClient,u),p=new Xy;return Object.assign(p,d),p})}}async tuneInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=DM(this.apiClient,e);return i=se("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>Vh(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=AM(this.apiClient,e);return i=se("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>FM(this.apiClient,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GM=1024*1024*8,WM=3,HM=1e3,qM=2,Kd="x-goog-upload-status";async function KM(t,e,n){var r,o,i;let s=0,a=0,l=new $h(new Response),c="upload";for(s=t.size;a<s;){const d=Math.min(GM,s-a),p=t.slice(a,a+d);a+d>=s&&(c+=", finalize");let v=0,x=HM;for(;v<WM&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Kd]));)v++,await JM(x),x=x*qM;if(a+=d,((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Kd])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Kd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function YM(t){return{size:t.size,type:t.type}}function JM(t){return new Promise(e=>setTimeout(e,t))}class XM{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KM(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QM{create(e,n,r){return new ZM(e,n,r)}}class ZM{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f0="x-goog-api-key";class e${constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(f0)===null&&e.append(f0,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t$="gl-node/";class Za{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=dI(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new e$(this.apiKey);this.apiClient=new CM({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:t$+"web",uploader:new XM,downloader:new zM}),this.models=new tM(this.apiClient),this.live=new J5(this.apiClient,o,new QM),this.chats=new yR(this.models,this.apiClient),this.caches=new pR(this.apiClient),this.files=new IR(this.apiClient),this.operations=new fM(this.apiClient),this.tunings=new BM(this.apiClient)}}function ae(...t){return nI(cS(t))}function Gt(){return aI()}const n$="pBRWwk7ajkQY1jQO6iPEdRCI49btdYv3lspHpzSqvzbOybdoouXKb3kA";console.log("[utils.jsx] VITE_PEXELS_API_KEY loaded:","Exists");const IS=n$,r$="https://api.pexels.com/v1",o$="AIzaSyBp4y2ZMJTbIODvgULuCygQE-E5B0gDueU";console.log("[utils.jsx] VITE_GEMINI_API_KEY loaded:","Exists");const i$=o$,s$="your-shop-name.myshopify.com",es=async(t,e=1,n="landscape")=>{const r=`${r$}/search?query=${encodeURIComponent(t)}&per_page=${e}&orientation=${n}`;try{const o=await fetch(r,{headers:{Authorization:IS}});if(!o.ok){const s=await o.json();throw console.error("Pexels API error:",s),new Error(`Pexels API request failed: ${o.statusText}`)}const i=await o.json();if(!i.photos||i.photos.length===0){console.warn(`No Pexels images found for query: "${t}". Attempting fallback.`);const s=(a,l,c)=>`https://via.placeholder.com/${a}x${l}.png?text=NoImage:${encodeURIComponent(c)}`;return Array(e).fill(null).map((a,l)=>({id:Gt(),src:{large:s(1200,800,`${t} ${l+1}`),medium:s(800,600,`${t} ${l+1}`),original:s(1920,1280,`${t} ${l+1}`),square:s(400,400,`${t} ${l+1}`),landscape:s(1200,800,`${t} ${l+1}`),portrait:s(800,1200,`${t} ${l+1}`),small:s(400,260,`${t} ${l+1}`),tiny:s(200,130,`${t} ${l+1}`)},photographer:"N/A",alt:`No image found for ${t} ${l+1}`}))}return i.photos.map(s=>({id:s.id,src:s.src,photographer:s.photographer,alt:s.alt||`Photo by ${s.photographer} of ${t}`}))}catch(o){console.error("Error fetching Pexels images:",o);const i=(s,a,l)=>`https://via.placeholder.com/${s}x${a}.png?text=${encodeURIComponent(l)}`;return Array(e).fill(null).map((s,a)=>({id:Gt(),src:{large:i(1200,800,`Error ${t} ${a+1}`),medium:i(800,600,`Error ${t} ${a+1}`),original:i(1920,1280,`Error ${t} ${a+1}`),square:i(400,400,`Error ${t} ${a+1}`),landscape:i(1200,800,`Error ${t} ${a+1}`),portrait:i(800,1200,`Error ${t} ${a+1}`),small:i(400,260,`Error ${t} ${a+1}`),tiny:i(200,130,`Error ${t} ${a+1}`)},photographer:"Placeholder Error",alt:`Placeholder Error for ${t} ${a+1}`}))}},RS=async(t,e=1,n="landscape")=>{const r=`https://api.pexels.com/videos/search?query=${encodeURIComponent(t)}&per_page=${e}&orientation=${n}`;try{const o=await fetch(r,{headers:{Authorization:IS}});if(!o.ok){const s=await o.json();throw console.error("Pexels Videos API error:",s),new Error(`Pexels Videos API request failed: ${o.statusText}`)}const i=await o.json();return!i.videos||i.videos.length===0?(console.warn(`No Pexels videos found for query: "${t}".`),Array(e).fill(null).map((s,a)=>({id:Gt(),url:`https://videos.pexels.com/videos/no-video-${a+1}.mp4`,image:`https://via.placeholder.com/1280x720.png?text=No+Video+Found+${encodeURIComponent(t)}`,alt:`No video found for ${t} ${a+1}`}))):i.videos.map(s=>{var l,c;const a=s.video_files.find(u=>u.quality==="hd"&&u.file_type==="video/mp4")||s.video_files.find(u=>u.file_type==="video/mp4")||s.video_files[0];return{id:s.id,url:a?a.link:null,image:((l=s.video_pictures[0])==null?void 0:l.picture)||`https://via.placeholder.com/1280x720.png?text=${encodeURIComponent(s.url||t)}`,duration:s.duration,user:s.user,alt:`Video of ${t} by ${((c=s.user)==null?void 0:c.name)||"Pexels Contributor"}`}})}catch(o){return console.error("Error fetching Pexels videos:",o),Array(e).fill(null).map((i,s)=>({id:Gt(),url:`https://videos.pexels.com/videos/error-video-${s+1}.mp4`,image:`https://via.placeholder.com/1280x720.png?text=Video+Error+${encodeURIComponent(t)}`,alt:`Error fetching video for ${t} ${s+1}`}))}},a$=async t=>{try{const e=new Za({apiKey:i$}),n=[{category:Mt.HARM_CATEGORY_HARASSMENT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_HATE_SPEECH,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE}];console.log(`[utils.jsx/generateImageWithGemini] Calling Gemini with prompt: "${t}"`);const r=await e.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:[{text:t}],safetySettings:n,config:{responseModalities:[Vn.TEXT,Vn.IMAGE]}});let o=null,i="image/png";if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts){for(const s of r.candidates[0].content.parts)if(s.inlineData&&s.inlineData.data){o=s.inlineData.data,i=s.inlineData.mimeType||"image/png",console.log(`[utils.jsx/generateImageWithGemini] Image generated. MimeType: ${i}`);break}}if(o)return{url:`data:${i};base64,${o}`,alt:`AI Generated Image for: ${t}`};throw new Error("No image data found in Gemini response.")}catch(e){return console.error("[utils.jsx/generateImageWithGemini] Error generating image with Gemini:",e),{url:`https://via.placeholder.com/512x512.png?text=Error:${encodeURIComponent(t.substring(0,20))}`,alt:`Error generating image for: ${t}`}}},MS=(t,e)=>{const n={fashion:[`Elevate your style with our ${e}. Crafted for comfort and a modern look.`,`The ${e} is a must-have for any fashion-forward wardrobe. Versatile and chic.`,`Discover the perfect blend of quality and design in our ${e}. Ideal for any occasion.`],electronics:[`Experience next-level technology with the ${e}. Packed with features for modern life.`,`The ${e} offers superior performance and sleek design. Upgrade your tech today.`,`Unleash innovation with the ${e}. Reliable, powerful, and built to last.`],food:[`Savor the rich flavors of our ${e}. Made with the freshest, high-quality ingredients.`,`Our ${e} is a delicious treat for any time of day. Wholesome and satisfying.`,`Indulge in the authentic taste of ${e}. Perfect for sharing or enjoying solo.`],jewelry:[`Adorn yourself with the exquisite ${e}. A timeless piece that radiates elegance.`,`The ${e} is a symbol of sophistication and luxury. Crafted with precision.`,`Make a statement with our stunning ${e}. Perfect for special moments.`],general:[`Discover the quality and utility of the ${e}. A great addition to your collection.`,`The ${e} is designed for excellence and everyday use. You'll love it.`,`Enhance your life with the versatile ${e}. Built for performance and style.`]},r=n[t]||n.general;return r[Math.floor(Math.random()*r.length)]},Im=(t,e)=>{const n={fashion:`Step Into Style at ${e}`,electronics:`${e}: Your Tech Universe`,food:`Taste the Difference with ${e}`,jewelry:`Shine Bright with ${e}`,general:`Welcome to ${e} - Quality Finds!`},r={fashion:`Explore the latest trends and timeless classics. ${e} offers curated fashion for every individual. Express yourself with our unique collection.`,electronics:`Discover cutting-edge gadgets and essential electronics at ${e}. We bring you innovation, performance, and value, all in one place.`,food:`From farm-fresh produce to gourmet delights, ${e} is your source for delicious and wholesome food. Quality ingredients for a healthier life.`,jewelry:`Find exquisite pieces that tell your story. ${e} presents a stunning collection of fine jewelry, perfect for gifting or treating yourself.`,general:`Your one-stop shop for amazing products. ${e} offers a diverse range of quality items to meet your everyday needs and special desires.`},o=["Fast Worldwide Shipping","Secure Online Payments","24/7 Customer Support","Easy Returns & Exchanges"],i=["Get your orders delivered quickly and reliably, no matter where you are.","Shop with confidence using our encrypted and secure payment gateways.","Our dedicated team is here to help you around the clock with any queries.","Not satisfied? We offer a hassle-free return and exchange policy."],s=`Join the ${e} Family`,a="Sign up for our newsletter to receive exclusive offers, new product alerts, and style tips directly to your inbox. Don't miss out!";return{heroTitle:n[t]||n.general,heroDescription:r[t]||r.general,featureTitles:o,featureDescriptions:i,newsletterHeading:s,newsletterText:a}};function Pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function h0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function l$(...t){return e=>{let n=!1;const r=t.map(o=>{const i=h0(o,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():h0(t[o],null)}}}}function Tt(...t){return g.useCallback(l$(...t),t)}function c$(t,e){const n=g.createContext(e),r=i=>{const{children:s,...a}=i,l=g.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function o(i){const s=g.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,o]}function ys(t,e=[]){let n=[];function r(i,s){const a=g.createContext(s),l=n.length;n=[...n,s];const c=d=>{var C;const{scope:p,children:v,...x}=d,y=((C=p==null?void 0:p[t])==null?void 0:C[l])||a,S=g.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:S,children:v})};c.displayName=i+"Provider";function u(d,p){var y;const v=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,x=g.useContext(v);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const o=()=>{const i=n.map(s=>g.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,u$(o,...e)]}function u$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function La(t){const e=f$(t),n=g.forwardRef((r,o)=>{const{children:i,...s}=r,a=g.Children.toArray(i),l=a.find(p$);if(l){const c=l.props.children,u=a.map(d=>d===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...s,ref:o,children:g.isValidElement(c)?g.cloneElement(c,void 0,u):null})}return f.jsx(e,{...s,ref:o,children:i})});return n.displayName=`${t}.Slot`,n}var d$=La("Slot");function f$(t){const e=g.forwardRef((n,r)=>{const{children:o,...i}=n,s=g.isValidElement(o)?g$(o):void 0,a=Tt(s,r);if(g.isValidElement(o)){const l=m$(i,o.props);return o.type!==g.Fragment&&(l.ref=a),g.cloneElement(o,l)}return g.Children.count(o)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $S=Symbol("radix.slottable");function h$(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$S,e}function p$(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$S}function m$(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{const l=i(...a);return o(...a),l}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function g$(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DS(t){const e=t+"CollectionProvider",[n,r]=ys(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:S,children:C}=y,w=k.useRef(null),E=k.useRef(new Map).current;return f.jsx(o,{scope:S,itemMap:E,collectionRef:w,children:C})};s.displayName=e;const a=t+"CollectionSlot",l=La(a),c=k.forwardRef((y,S)=>{const{scope:C,children:w}=y,E=i(a,C),b=Tt(S,E.collectionRef);return f.jsx(l,{ref:b,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=La(u),v=k.forwardRef((y,S)=>{const{scope:C,children:w,...E}=y,b=k.useRef(null),T=Tt(S,b),A=i(u,C);return k.useEffect(()=>(A.itemMap.set(b,{ref:b,...E}),()=>void A.itemMap.delete(b))),f.jsx(p,{[d]:"",ref:T,children:w})});v.displayName=u;function x(y){const S=i(t+"CollectionConsumer",y);return k.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((A,P)=>E.indexOf(A.ref.current)-E.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:c,ItemSlot:v},x,r]}var v$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=v$.reduce((t,e)=>{const n=La(`Primitive.${e}`),r=g.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function LS(t,e){t&&mr.flushSync(()=>t.dispatchEvent(e))}function Un(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function y$(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var x$="DismissableLayer",Uh="dismissableLayer.update",w$="dismissableLayer.pointerDownOutside",C$="dismissableLayer.focusOutside",p0,jS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rm=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=t,c=g.useContext(jS),[u,d]=g.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),x=Tt(e,P=>d(P)),y=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(S),w=u?y.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,b=w>=C,T=E$(P=>{const _=P.target,N=[...c.branches].some(I=>I.contains(_));!b||N||(o==null||o(P),s==null||s(P),P.defaultPrevented||a==null||a())},p),A=b$(P=>{const _=P.target;[...c.branches].some(I=>I.contains(_))||(i==null||i(P),s==null||s(P),P.defaultPrevented||a==null||a())},p);return y$(P=>{w===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},p),g.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),m0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=p0)}},[u,p,n,c]),g.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),m0())},[u,c]),g.useEffect(()=>{const P=()=>v({});return document.addEventListener(Uh,P),()=>document.removeEventListener(Uh,P)},[]),f.jsx(Fe.div,{...l,ref:x,style:{pointerEvents:E?b?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,T.onPointerDownCapture)})});Rm.displayName=x$;var S$="DismissableLayerBranch",FS=g.forwardRef((t,e)=>{const n=g.useContext(jS),r=g.useRef(null),o=Tt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Fe.div,{...t,ref:o})});FS.displayName=S$;function E$(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){OS(w$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function b$(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=g.useRef(!1);return g.useEffect(()=>{const o=i=>{i.target&&!r.current&&OS(C$,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m0(){const t=new CustomEvent(Uh);document.dispatchEvent(t)}function OS(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?LS(o,i):o.dispatchEvent(i)}var T$=Rm,_$=FS,ts=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},P$="Portal",Mm=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[o,i]=g.useState(!1);ts(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?XC.createPortal(f.jsx(Fe.div,{...r,ref:e}),s):null});Mm.displayName=P$;function A$(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var xs=t=>{const{present:e,children:n}=t,r=k$(e),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Tt(r.ref,N$(o));return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:i}):null};xs.displayName="Presence";function k$(t){const[e,n]=g.useState(),r=g.useRef(null),o=g.useRef(t),i=g.useRef("none"),s=t?"mounted":"unmounted",[a,l]=A$(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=jl(r.current);i.current=a==="mounted"?c:"none"},[a]),ts(()=>{const c=r.current,u=o.current;if(u!==t){const p=i.current,v=jl(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),ts(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=v=>{const y=jl(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!o.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=jl(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function jl(t){return(t==null?void 0:t.animationName)||"none"}function N$(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var I$=xu[" useInsertionEffect ".trim().toString()]||ts;function Vu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,i,s]=R$({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:o;{const u=g.useRef(t!==void 0);g.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=g.useCallback(u=>{var d;if(a){const p=M$(u)?u(t):u;p!==t&&((d=s.current)==null||d.call(s,p))}else i(u)},[a,t,i,s]);return[l,c]}function R$({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),o=g.useRef(n),i=g.useRef(e);return I$(()=>{i.current=e},[e]),g.useEffect(()=>{var s;o.current!==n&&((s=i.current)==null||s.call(i,n),o.current=n)},[n,o]),[n,r,i]}function M$(t){return typeof t=="function"}var $$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),D$="VisuallyHidden",$m=g.forwardRef((t,e)=>f.jsx(Fe.span,{...t,ref:e,style:{...$$,...t.style}}));$m.displayName=D$;var Dm="ToastProvider",[Lm,L$,j$]=DS("Toast"),[VS,UW]=ys("Toast",[j$]),[F$,Uu]=VS(Dm),US=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:s}=t,[a,l]=g.useState(null),[c,u]=g.useState(0),d=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dm}\`. Expected non-empty \`string\`.`),f.jsx(Lm.Provider,{scope:e,children:f.jsx(F$,{scope:e,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>u(v=>v+1),[]),onToastRemove:g.useCallback(()=>u(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:s})})};US.displayName=Dm;var BS="ToastViewport",O$=["F8"],Bh="toast.viewportPause",zh="toast.viewportResume",zS=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=O$,label:o="Notifications ({hotkey})",...i}=t,s=Uu(BS,n),a=L$(n),l=g.useRef(null),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),p=Tt(e,d,s.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;g.useEffect(()=>{const S=C=>{var E;r.length!==0&&r.every(b=>C[b]||C.code===b)&&((E=d.current)==null||E.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=l.current,C=d.current;if(x&&S&&C){const w=()=>{if(!s.isClosePausedRef.current){const A=new CustomEvent(Bh);C.dispatchEvent(A),s.isClosePausedRef.current=!0}},E=()=>{if(s.isClosePausedRef.current){const A=new CustomEvent(zh);C.dispatchEvent(A),s.isClosePausedRef.current=!1}},b=A=>{!S.contains(A.relatedTarget)&&E()},T=()=>{S.contains(document.activeElement)||E()};return S.addEventListener("focusin",w),S.addEventListener("focusout",b),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",E),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",b),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",E)}}},[x,s.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:S})=>{const w=a().map(E=>{const b=E.ref.current,T=[b,...Q$(b)];return S==="forwards"?T:T.reverse()});return(S==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const S=d.current;if(S){const C=w=>{var T,A,P;const E=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!E){const _=document.activeElement,N=w.shiftKey;if(w.target===S&&N){(T=c.current)==null||T.focus();return}const D=y({tabbingDirection:N?"backwards":"forwards"}),U=D.findIndex($=>$===_);Yd(D.slice(U+1))?w.preventDefault():N?(A=c.current)==null||A.focus():(P=u.current)==null||P.focus()}};return S.addEventListener("keydown",C),()=>S.removeEventListener("keydown",C)}},[a,y]),f.jsxs(_$,{ref:l,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&f.jsx(Gh,{ref:c,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});Yd(S)}}),f.jsx(Lm.Slot,{scope:n,children:f.jsx(Fe.ol,{tabIndex:-1,...i,ref:p})}),x&&f.jsx(Gh,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});Yd(S)}})]})});zS.displayName=BS;var GS="ToastFocusProxy",Gh=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=t,i=Uu(GS,n);return f.jsx($m,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Gh.displayName=GS;var el="Toast",V$="toast.swipeStart",U$="toast.swipeMove",B$="toast.swipeCancel",z$="toast.swipeEnd",WS=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...s}=t,[a,l]=Vu({prop:r,defaultProp:o??!0,onChange:i,caller:el});return f.jsx(xs,{present:n||a,children:f.jsx(H$,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Un(t.onPause),onResume:Un(t.onResume),onSwipeStart:Pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});WS.displayName=el;var[G$,W$]=VS(el,{onClose(){}}),H$=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:v,...x}=t,y=Uu(el,n),[S,C]=g.useState(null),w=Tt(e,$=>C($)),E=g.useRef(null),b=g.useRef(null),T=o||y.duration,A=g.useRef(0),P=g.useRef(T),_=g.useRef(0),{onToastAdd:N,onToastRemove:I}=y,R=Un(()=>{var O;(S==null?void 0:S.contains(document.activeElement))&&((O=y.viewport)==null||O.focus()),s()}),D=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(_.current),A.current=new Date().getTime(),_.current=window.setTimeout(R,$))},[R]);g.useEffect(()=>{const $=y.viewport;if($){const O=()=>{D(P.current),c==null||c()},F=()=>{const K=new Date().getTime()-A.current;P.current=P.current-K,window.clearTimeout(_.current),l==null||l()};return $.addEventListener(Bh,F),$.addEventListener(zh,O),()=>{$.removeEventListener(Bh,F),$.removeEventListener(zh,O)}}},[y.viewport,T,l,c,D]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(T)},[i,T,y.isClosePausedRef,D]),g.useEffect(()=>(N(),()=>I()),[N,I]);const U=g.useMemo(()=>S?QS(S):null,[S]);return y.viewport?f.jsxs(f.Fragment,{children:[U&&f.jsx(q$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),f.jsx(G$,{scope:n,onClose:R,children:mr.createPortal(f.jsx(Lm.ItemSlot,{scope:n,children:f.jsx(T$,{asChild:!0,onEscapeKeyDown:Pe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Pe(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Pe(t.onPointerDown,$=>{$.button===0&&(E.current={x:$.clientX,y:$.clientY})}),onPointerMove:Pe(t.onPointerMove,$=>{if(!E.current)return;const O=$.clientX-E.current.x,F=$.clientY-E.current.y,K=!!b.current,L=["left","right"].includes(y.swipeDirection),M=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,V=L?M(0,O):0,z=L?0:M(0,F),H=$.pointerType==="touch"?10:2,ie={x:V,y:z},de={originalEvent:$,delta:ie};K?(b.current=ie,Fl(U$,d,de,{discrete:!1})):g0(ie,y.swipeDirection,H)?(b.current=ie,Fl(V$,u,de,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(O)>H||Math.abs(F)>H)&&(E.current=null)}),onPointerUp:Pe(t.onPointerUp,$=>{const O=b.current,F=$.target;if(F.hasPointerCapture($.pointerId)&&F.releasePointerCapture($.pointerId),b.current=null,E.current=null,O){const K=$.currentTarget,L={originalEvent:$,delta:O};g0(O,y.swipeDirection,y.swipeThreshold)?Fl(z$,v,L,{discrete:!0}):Fl(B$,p,L,{discrete:!0}),K.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),q$=t=>{const{__scopeToast:e,children:n,...r}=t,o=Uu(el,e),[i,s]=g.useState(!1),[a,l]=g.useState(!1);return J$(()=>s(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(Mm,{asChild:!0,children:f.jsx($m,{...r,children:i&&f.jsxs(f.Fragment,{children:[o.label," ",n]})})})},K$="ToastTitle",HS=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Fe.div,{...r,ref:e})});HS.displayName=K$;var Y$="ToastDescription",qS=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Fe.div,{...r,ref:e})});qS.displayName=Y$;var KS="ToastAction",YS=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(XS,{altText:n,asChild:!0,children:f.jsx(jm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KS}\`. Expected non-empty \`string\`.`),null)});YS.displayName=KS;var JS="ToastClose",jm=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,o=W$(JS,n);return f.jsx(XS,{asChild:!0,children:f.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Pe(t.onClick,o.onClose)})})});jm.displayName=JS;var XS=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...o}=t;return f.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function QS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),X$(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...QS(r))}}),e}function Fl(t,e,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?LS(o,i):o.dispatchEvent(i)}var g0=(t,e,n=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),i=r>o;return e==="left"||e==="right"?i&&r>n:!i&&o>n};function J$(t=()=>{}){const e=Un(t);ts(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function X$(t){return t.nodeType===t.ELEMENT_NODE}function Q$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yd(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Z$=US,ZS=zS,eE=WS,tE=HS,nE=qS,rE=YS,oE=jm;const v0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,y0=cS,Fm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return y0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=e,s=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=v0(u)||v0(d);return o[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...v}=u;return Object.entries(v).every(x=>{let[y,S]=x;return Array.isArray(S)?S.includes({...i,...a}[y]):{...i,...a}[y]===S})?[...c,d,p]:c},[]);return y0(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};var eD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oe=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:a,...l},c)=>g.createElement("svg",{ref:c,...eD,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:`lucide lucide-${tD(t)}`,...l},[...e.map(([u,d])=>g.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},iE=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ns=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Om=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),nD=oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),sE=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),rD=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Vm=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),aE=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),oD=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),x0=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),iD=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),sD=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),lE=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),aD=oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),lD=oe("ImageDown",[["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10.8",key:"sqts6f"}],["path",{d:"m21 15-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"1h47z9"}],["path",{d:"m14 19.5 3 3v-6",key:"1x9jmo"}],["path",{d:"m17 22.5 3-3",key:"xzuz0n"}]]),w0=oe("ImageMinus",[["path",{d:"M21 9v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"m87ecr"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),C0=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),cD=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),uD=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),dD=oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Me=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),fD=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),hD=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),pD=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),mD=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),gD=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),vD=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),yD=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),cE=oe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),xD=oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),wD=oe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),CD=oe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),SD=oe("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]),ED=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bD=oe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Bu=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Zc=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),eu=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),uE=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ol=oe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Um=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),TD=oe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),_D=oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),PD=oe("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),AD=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),ja=oe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),tu=oe("Wand",[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h0",key:"kg5t1u"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]]),kD=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fa=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ND=Z$,dE=k.forwardRef(({className:t,...e},n)=>f.jsx(ZS,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dE.displayName=ZS.displayName;const ID=Fm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fE=k.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(eE,{ref:r,className:ae(ID({variant:e}),t),...n}));fE.displayName=eE.displayName;const RD=k.forwardRef(({className:t,...e},n)=>f.jsx(rE,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));RD.displayName=rE.displayName;const hE=k.forwardRef(({className:t,...e},n)=>f.jsx(oE,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Fa,{className:"h-4 w-4"})}));hE.displayName=oE.displayName;const pE=k.forwardRef(({className:t,...e},n)=>f.jsx(tE,{ref:n,className:ae("text-sm font-semibold",t),...e}));pE.displayName=tE.displayName;const mE=k.forwardRef(({className:t,...e},n)=>f.jsx(nE,{ref:n,className:ae("text-sm opacity-90",t),...e}));mE.displayName=nE.displayName;const MD=1;let Jd=0;function $D(){return Jd=(Jd+1)%Number.MAX_VALUE,Jd.toString()}const Ct={state:{toasts:[]},listeners:[],getState:()=>Ct.state,setState:t=>{typeof t=="function"?Ct.state=t(Ct.state):Ct.state={...Ct.state,...t},Ct.listeners.forEach(e=>e(Ct.state))},subscribe:t=>(Ct.listeners.push(t),()=>{Ct.listeners=Ct.listeners.filter(e=>e!==t)})},DD=({...t})=>{const e=$D(),n=o=>Ct.setState(i=>({...i,toasts:i.toasts.map(s=>s.id===e?{...s,...o}:s)})),r=()=>Ct.setState(o=>({...o,toasts:o.toasts.filter(i=>i.id!==e)}));return Ct.setState(o=>({...o,toasts:[{...t,id:e,dismiss:r},...o.toasts].slice(0,MD)})),{id:e,dismiss:r,update:n}};function vr(){const[t,e]=g.useState(Ct.getState());return g.useEffect(()=>Ct.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const o=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(o)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:DD,toasts:t.toasts}}function LD(){const{toasts:t}=vr();return f.jsxs(ND,{children:[t.map(({id:e,title:n,description:r,action:o,...i})=>f.jsxs(fE,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(pE,{children:n}),r&&f.jsx(mE,{children:r})]}),o,f.jsx(hE,{})]},e)),f.jsx(dE,{})]})}const gE=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),zu=g.createContext({}),Gu=g.createContext(null),Wu=typeof document<"u",Bm=Wu?g.useLayoutEffect:g.useEffect,vE=g.createContext({strict:!1}),zm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jD="framerAppearId",yE="data-"+zm(jD);function FD(t,e,n,r){const{visualElement:o}=g.useContext(zu),i=g.useContext(vE),s=g.useContext(Gu),a=g.useContext(gE).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;g.useInsertionEffect(()=>{c&&c.update(n,s)});const u=g.useRef(!!(n[yE]&&!window.HandoffComplete));return Bm(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Ni(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OD(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ni(n)&&(n.current=r))},[e])}function Oa(t){return typeof t=="string"||Array.isArray(t)}function Hu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wm=["initial",...Gm];function qu(t){return Hu(t.animate)||Wm.some(e=>Oa(t[e]))}function xE(t){return!!(qu(t)||t.variants)}function VD(t,e){if(qu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Oa(n)?n:void 0,animate:Oa(r)?r:void 0}}return t.inherit!==!1?e:{}}function UD(t){const{initial:e,animate:n}=VD(t,g.useContext(zu));return g.useMemo(()=>({initial:e,animate:n}),[S0(e),S0(n)])}function S0(t){return Array.isArray(t)?t.join(" "):t}const E0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Va={};for(const t in E0)Va[t]={isEnabled:e=>E0[t].some(n=>!!e[n])};function BD(t){for(const e in t)Va[e]={...Va[e],...t[e]}}const Hm=g.createContext({}),wE=g.createContext({}),zD=Symbol.for("motionComponentSymbol");function GD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&BD(t);function i(a,l){let c;const u={...g.useContext(gE),...a,layoutId:WD(a)},{isStatic:d}=u,p=UD(a),v=r(a,d);if(!d&&Wu){p.visualElement=FD(o,v,u,e);const x=g.useContext(wE),y=g.useContext(vE).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,y,t,x))}return g.createElement(zu.Provider,{value:p},c&&p.visualElement?g.createElement(c,{visualElement:p.visualElement,...u}):null,n(o,a,OD(v,p.visualElement,l),v,d,p.visualElement))}const s=g.forwardRef(i);return s[zD]=o,s}function WD({layoutId:t}){const e=g.useContext(Hm).id;return e&&t!==void 0?e+"-"+t:t}function HD(t){function e(r,o={}){return GD(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const qD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qm(t){return typeof t!="string"||t.includes("-")?!1:!!(qD.indexOf(t)>-1||/[A-Z]/.test(t))}const nu={};function KD(t){Object.assign(nu,t)}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(tl);function CE(t,{layout:e,layoutId:n}){return ei.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nu[t]||t==="opacity")}const Ft=t=>!!(t&&t.getVelocity),YD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JD=tl.length;function XD(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<JD;s++){const a=tl[s];if(t[a]!==void 0){const l=YD[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const SE=t=>e=>typeof e=="string"&&e.startsWith(t),EE=SE("--"),Wh=SE("var(--"),QD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ZD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zr=(t,e,n)=>Math.min(Math.max(n,t),e),ti={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ia={...ti,transform:t=>Zr(0,1,t)},Vl={...ti,default:1},sa=t=>Math.round(t*1e5)/1e5,Ku=/(-)?([\d]*\.?[\d])+/g,bE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,e6=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function nl(t){return typeof t=="string"}const rl=t=>({test:e=>nl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=rl("deg"),Dn=rl("%"),re=rl("px"),t6=rl("vh"),n6=rl("vw"),b0={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},T0={...ti,transform:Math.round},TE={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:Vl,scaleX:Vl,scaleY:Vl,scaleZ:Vl,skew:Er,skewX:Er,skewY:Er,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:ia,originX:b0,originY:b0,originZ:re,zIndex:T0,fillOpacity:ia,strokeOpacity:ia,numOctaves:T0};function Km(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if(EE(d)){i[d]=p;continue}const v=TE[d],x=ZD(p,v);if(ei.has(d)){if(l=!0,s[d]=x,!u)continue;p!==(v.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=x):o[d]=x}if(e.transform||(l||r?o.transform=XD(t.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:v=0}=a;o.transformOrigin=`${d} ${p} ${v}`}}const Ym=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _E(t,e,n){for(const r in e)!Ft(e[r])&&!CE(r,n)&&(t[r]=e[r])}function r6({transformTemplate:t},e,n){return g.useMemo(()=>{const r=Ym();return Km(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function o6(t,e,n){const r=t.style||{},o={};return _E(o,r,t),Object.assign(o,r6(t,e,n)),t.transformValues?t.transformValues(o):o}function i6(t,e,n){const r={},o=o6(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const s6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||s6.has(t)}let PE=t=>!ru(t);function a6(t){t&&(PE=e=>e.startsWith("on")?!ru(e):t(e))}try{a6(require("@emotion/is-prop-valid").default)}catch{}function l6(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(PE(o)||n===!0&&ru(o)||!e&&!ru(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function _0(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function c6(t,e,n){const r=_0(e,t.x,t.width),o=_0(n,t.y,t.height);return`${r} ${o}`}const u6={offset:"stroke-dashoffset",array:"stroke-dasharray"},d6={offset:"strokeDashoffset",array:"strokeDasharray"};function f6(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?u6:d6;t[i.offset]=re.transform(-r);const s=re.transform(e),a=re.transform(n);t[i.array]=`${s} ${a}`}function Jm(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,p){if(Km(t,c,u,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x,dimensions:y}=t;v.transform&&(y&&(x.transform=v.transform),delete v.transform),y&&(o!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=c6(y,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&f6(v,s,a,l,!1)}const AE=()=>({...Ym(),attrs:{}}),Xm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function h6(t,e,n,r){const o=g.useMemo(()=>{const i=AE();return Jm(i,e,{enableHardwareAcceleration:!1},Xm(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_E(i,t.style,t),o.style={...i,...o.style}}return o}function p6(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(qm(n)?h6:i6)(r,i,s,n),u={...l6(r,typeof n=="string",t),...l,ref:o},{children:d}=r,p=g.useMemo(()=>Ft(d)?d.get():d,[d]);return g.createElement(n,{...u,children:p})}}function kE(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const NE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IE(t,e,n,r){kE(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(NE.has(o)?o:zm(o),e.attrs[o])}function Qm(t,e){const{style:n}=t,r={};for(const o in n)(Ft(n[o])||e.style&&Ft(e.style[o])||CE(o,t))&&(r[o]=n[o]);return r}function RE(t,e){const n=Qm(t,e);for(const r in t)if(Ft(t[r])||Ft(e[r])){const o=tl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Zm(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function ME(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const ou=t=>Array.isArray(t),m6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),g6=t=>ou(t)?t[t.length-1]||0:t;function vc(t){const e=Ft(t)?t.get():t;return m6(e)?e.toValue():e}function v6({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:y6(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const $E=t=>(e,n)=>{const r=g.useContext(zu),o=g.useContext(Gu),i=()=>v6(t,e,r,o);return n?i():ME(i)};function y6(t,e,n,r){const o={},i=r(t,{});for(const p in i)o[p]=vc(i[p]);let{initial:s,animate:a}=t;const l=qu(t),c=xE(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!Hu(d)&&(Array.isArray(d)?d:[d]).forEach(v=>{const x=Zm(t,v);if(!x)return;const{transitionEnd:y,transition:S,...C}=x;for(const w in C){let E=C[w];if(Array.isArray(E)){const b=u?E.length-1:0;E=E[b]}E!==null&&(o[w]=E)}for(const w in y)o[w]=y[w]}),o}const Ge=t=>t;class P0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function x6(t){let e=new P0,n=new P0,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&o,p=d?e:n;return c&&s.add(l),p.add(l)&&d&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const Ul=["prepare","read","update","preRender","render","postRender"],w6=40;function C6(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Ul.reduce((d,p)=>(d[p]=x6(()=>n=!0),d),{}),s=d=>i[d].process(o),a=()=>{const d=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,w6),1),o.timestamp=d,o.isProcessing=!0,Ul.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:Ul.reduce((d,p)=>{const v=i[p];return d[p]=(x,y=!1,S=!1)=>(n||l(),v.schedule(x,y,S)),d},{}),cancel:d=>Ul.forEach(p=>i[p].cancel(d)),state:o,steps:i}}const{schedule:Ne,cancel:lr,state:ht,steps:Xd}=C6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0),S6={useVisualState:$E({scrapeMotionValuesFromProps:RE,createRenderState:AE,onMount:(t,e,{renderState:n,latestValues:r})=>{Ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{Jm(n,r,{enableHardwareAcceleration:!1},Xm(e.tagName),t.transformTemplate),IE(e,n)})}})},E6={useVisualState:$E({scrapeMotionValuesFromProps:Qm,createRenderState:Ym})};function b6(t,{forwardMotionProps:e=!1},n,r){return{...qm(t)?S6:E6,preloadedFeatures:n,useRender:p6(e),createVisualElement:r,Component:t}}function Zn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const DE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Yu(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const T6=t=>e=>DE(e)&&t(e,Yu(e));function tr(t,e,n,r){return Zn(t,e,T6(n),r)}const _6=(t,e)=>n=>e(t(n)),qr=(...t)=>t.reduce(_6);function LE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const A0=LE("dragHorizontal"),k0=LE("dragVertical");function jE(t){let e=!1;if(t==="y")e=k0();else if(t==="x")e=A0();else{const n=A0(),r=k0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function FE(){const t=jE(!0);return t?(t(),!1):!0}class ho{constructor(e){this.isMounted=!1,this.node=e}update(){}}function N0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||FE())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ne.update(()=>a[r](i,s))};return tr(t.current,n,o,{passive:!t.getProps()[r]})}class P6 extends ho{mount(){this.unmount=qr(N0(this.node,!0),N0(this.node,!1))}unmount(){}}class A6 extends ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qr(Zn(this.node.current,"focus",()=>this.onFocus()),Zn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const OE=(t,e)=>e?t===e?!0:OE(t,e.parentElement):!1;function Qd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Yu(n))}class k6 extends ho{constructor(){super(...arguments),this.removeStartListeners=Ge,this.removeEndListeners=Ge,this.removeAccessibleListeners=Ge,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=tr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Ne.update(()=>{!d&&!OE(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=tr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=qr(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Qd("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Ne.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Zn(this.node.current,"keyup",s),Qd("down",(a,l)=>{this.startPress(a,l)})},n=Zn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Qd("cancel",(i,s)=>this.cancelPress(i,s))},o=Zn(this.node.current,"blur",r);this.removeAccessibleListeners=qr(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=tr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Hh=new WeakMap,Zd=new WeakMap,N6=t=>{const e=Hh.get(t.target);e&&e(t)},I6=t=>{t.forEach(N6)};function R6({root:t,...e}){const n=t||document;Zd.has(n)||Zd.set(n,{});const r=Zd.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(I6,{root:t,...e})),r[o]}function M6(t,e,n){const r=R6(e);return Hh.set(t,n),r.observe(t),()=>{Hh.delete(t),r.unobserve(t)}}const $6={some:0,all:1};class D6 extends ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:$6[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return M6(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(L6(e,n))&&this.startObserver()}unmount(){}}function L6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const j6={inView:{Feature:D6},tap:{Feature:k6},focus:{Feature:A6},hover:{Feature:P6}};function VE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function F6(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function O6(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ju(t,e,n){const r=t.getProps();return Zm(r,e,n!==void 0?n:r.custom,F6(t),O6(t))}let V6=Ge,eg=Ge;const Kr=t=>t*1e3,nr=t=>t/1e3,U6={current:!1},UE=t=>Array.isArray(t)&&typeof t[0]=="number";function BE(t){return!!(!t||typeof t=="string"&&zE[t]||UE(t)||Array.isArray(t)&&t.every(BE))}const qs=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qs([0,.65,.55,1]),circOut:qs([.55,0,1,.45]),backIn:qs([.31,.01,.66,-.59]),backOut:qs([.33,1.53,.69,.99])};function GE(t){if(t)return UE(t)?qs(t):Array.isArray(t)?t.map(GE):zE[t]}function B6(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=GE(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function z6(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const WE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G6=1e-7,W6=12;function H6(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=WE(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>G6&&++a<W6);return s}function ol(t,e,n,r){if(t===e&&n===r)return Ge;const o=i=>H6(i,0,1,t,n);return i=>i===0||i===1?i:WE(o(i),e,r)}const q6=ol(.42,0,1,1),K6=ol(0,0,.58,1),HE=ol(.42,0,.58,1),Y6=t=>Array.isArray(t)&&typeof t[0]!="number",qE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KE=t=>e=>1-t(1-e),tg=t=>1-Math.sin(Math.acos(t)),YE=KE(tg),J6=qE(tg),JE=ol(.33,1.53,.69,.99),ng=KE(JE),X6=qE(ng),Q6=t=>(t*=2)<1?.5*ng(t):.5*(2-Math.pow(2,-10*(t-1))),Z6={linear:Ge,easeIn:q6,easeInOut:HE,easeOut:K6,circIn:tg,circInOut:J6,circOut:YE,backIn:ng,backInOut:X6,backOut:JE,anticipate:Q6},I0=t=>{if(Array.isArray(t)){eg(t.length===4);const[e,n,r,o]=t;return ol(e,n,r,o)}else if(typeof t=="string")return Z6[t];return t},rg=(t,e)=>n=>!!(nl(n)&&e6.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),XE=(t,e,n)=>r=>{if(!nl(r))return r;const[o,i,s,a]=r.match(Ku);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},eL=t=>Zr(0,255,t),ef={...ti,transform:t=>Math.round(eL(t))},Ro={test:rg("rgb","red"),parse:XE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ef.transform(t)+", "+ef.transform(e)+", "+ef.transform(n)+", "+sa(ia.transform(r))+")"};function tL(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const qh={test:rg("#"),parse:tL,transform:Ro.transform},Ii={test:rg("hsl","hue"),parse:XE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dn.transform(sa(e))+", "+Dn.transform(sa(n))+", "+sa(ia.transform(r))+")"},St={test:t=>Ro.test(t)||qh.test(t)||Ii.test(t),parse:t=>Ro.test(t)?Ro.parse(t):Ii.test(t)?Ii.parse(t):qh.parse(t),transform:t=>nl(t)?t:t.hasOwnProperty("red")?Ro.transform(t):Ii.transform(t)},Ve=(t,e,n)=>-n*t+n*e+t;function tf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=tf(l,a,t+1/3),i=tf(l,a,t),s=tf(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const nf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},rL=[qh,Ro,Ii],oL=t=>rL.find(e=>e.test(t));function R0(t){const e=oL(t);let n=e.parse(t);return e===Ii&&(n=nL(n)),n}const QE=(t,e)=>{const n=R0(t),r=R0(e),o={...n};return i=>(o.red=nf(n.red,r.red,i),o.green=nf(n.green,r.green,i),o.blue=nf(n.blue,r.blue,i),o.alpha=Ve(n.alpha,r.alpha,i),Ro.transform(o))};function iL(t){var e,n;return isNaN(t)&&nl(t)&&(((e=t.match(Ku))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(bE))===null||n===void 0?void 0:n.length)||0)>0}const ZE={regex:QD,countKey:"Vars",token:"${v}",parse:Ge},eb={regex:bE,countKey:"Colors",token:"${c}",parse:St.parse},tb={regex:Ku,countKey:"Numbers",token:"${n}",parse:ti.parse};function rf(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function iu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&rf(n,ZE),rf(n,eb),rf(n,tb),n}function nb(t){return iu(t).values}function rb(t){const{values:e,numColors:n,numVars:r,tokenised:o}=iu(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(ZE.token,s[l]):l<r+n?a=a.replace(eb.token,St.transform(s[l])):a=a.replace(tb.token,sa(s[l]));return a}}const sL=t=>typeof t=="number"?0:t;function aL(t){const e=nb(t);return rb(t)(e.map(sL))}const eo={test:iL,parse:nb,createTransformer:rb,getAnimatableNone:aL},ob=(t,e)=>n=>`${n>0?e:t}`;function ib(t,e){return typeof t=="number"?n=>Ve(t,e,n):St.test(t)?QE(t,e):t.startsWith("var(")?ob(t,e):ab(t,e)}const sb=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>ib(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},lL=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=ib(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},ab=(t,e)=>{const n=eo.createTransformer(e),r=iu(t),o=iu(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?qr(sb(r.values,o.values),n):ob(t,e)},Ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},M0=(t,e)=>n=>Ve(t,e,n);function cL(t){return typeof t=="number"?M0:typeof t=="string"?St.test(t)?QE:ab:Array.isArray(t)?sb:typeof t=="object"?lL:M0}function uL(t,e,n){const r=[],o=n||cL(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Ge:e;a=qr(l,a)}r.push(a)}return r}function lb(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(eg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=uL(e,r,o),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Ua(t[u],t[u+1],c);return s[u](d)};return n?c=>l(Zr(t[0],t[i-1],c)):l}function dL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Ua(0,e,r);t.push(Ve(n,1,o))}}function fL(t){const e=[0];return dL(e,t.length-1),e}function hL(t,e){return t.map(n=>n*e)}function pL(t,e){return t.map(()=>e||HE).splice(0,t.length-1)}function su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=Y6(r)?r.map(I0):I0(r),i={done:!1,value:e[0]},s=hL(n&&n.length===e.length?n:fL(e),t),a=lb(s,e,{ease:Array.isArray(o)?o:pL(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function cb(t,e){return e?t*(1e3/e):0}const mL=5;function ub(t,e,n){const r=Math.max(e-mL,0);return cb(n-t(r),e-r)}const of=.001,gL=.01,$0=10,vL=.05,yL=1;function xL({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;V6(t<=Kr($0));let s=1-e;s=Zr(vL,yL,s),t=Zr(gL,$0,nr(t)),s<1?(o=c=>{const u=c*s,d=u*t,p=u-n,v=Kh(c,s),x=Math.exp(-d);return of-p/v*x},i=c=>{const d=c*s*t,p=d*n+n,v=Math.pow(s,2)*Math.pow(c,2)*t,x=Math.exp(-d),y=Kh(Math.pow(c,2),s);return(-o(c)+of>0?-1:1)*((p-v)*x)/y}):(o=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-of+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=CL(o,i,a);if(t=Kr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const wL=12;function CL(t,e,n){let r=n;for(let o=1;o<wL;o++)r=r-t(r)/e(r);return r}function Kh(t,e){return t*Math.sqrt(1-e*e)}const SL=["duration","bounce"],EL=["stiffness","damping","mass"];function D0(t,e){return e.some(n=>t[n]!==void 0)}function bL(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!D0(t,EL)&&D0(t,SL)){const n=xL(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function db({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=bL({...r,velocity:-nr(r.velocity||0)}),v=d||0,x=l/(2*Math.sqrt(a*c)),y=i-o,S=nr(Math.sqrt(a/c)),C=Math.abs(y)<5;n||(n=C?.01:2),e||(e=C?.005:.5);let w;if(x<1){const E=Kh(S,x);w=b=>{const T=Math.exp(-x*S*b);return i-T*((v+x*S*y)/E*Math.sin(E*b)+y*Math.cos(E*b))}}else if(x===1)w=E=>i-Math.exp(-S*E)*(y+(v+S*y)*E);else{const E=S*Math.sqrt(x*x-1);w=b=>{const T=Math.exp(-x*S*b),A=Math.min(E*b,300);return i-T*((v+x*S*y)*Math.sinh(A)+E*y*Math.cosh(A))/E}}return{calculatedDuration:p&&u||null,next:E=>{const b=w(E);if(p)s.done=E>=u;else{let T=v;E!==0&&(x<1?T=ub(w,E,b):T=0);const A=Math.abs(T)<=n,P=Math.abs(i-b)<=e;s.done=A&&P}return s.value=s.done?i:b,s}}}function L0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},v=_=>a!==void 0&&_<a||l!==void 0&&_>l,x=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let y=n*e;const S=d+y,C=s===void 0?S:s(S);C!==S&&(y=C-d);const w=_=>-y*Math.exp(-_/r),E=_=>C+w(_),b=_=>{const N=w(_),I=E(_);p.done=Math.abs(N)<=c,p.value=p.done?C:I};let T,A;const P=_=>{v(p.value)&&(T=_,A=db({keyframes:[p.value,x(p.value)],velocity:ub(E,_,p.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:_=>{let N=!1;return!A&&T===void 0&&(N=!0,b(_),P(_)),T!==void 0&&_>T?A.next(_-T):(!N&&b(_),p)}}}const TL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ne.update(e,!0),stop:()=>lr(e),now:()=>ht.isProcessing?ht.timestamp:performance.now()}},j0=2e4;function F0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<j0;)e+=n,r=t.next(e);return e>=j0?1/0:e}const _L={decay:L0,inertia:L0,tween:su,keyframes:su,spring:db};function au({autoplay:t=!0,delay:e=0,driver:n=TL,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...p}){let v=1,x=!1,y,S;const C=()=>{S=new Promise(z=>{y=z})};C();let w;const E=_L[o]||su;let b;E!==su&&typeof r[0]!="number"&&(b=lb([0,100],r,{clamp:!1}),r=[0,100]);const T=E({...p,keyframes:r});let A;a==="mirror"&&(A=E({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let P="idle",_=null,N=null,I=null;T.calculatedDuration===null&&i&&(T.calculatedDuration=F0(T));const{calculatedDuration:R}=T;let D=1/0,U=1/0;R!==null&&(D=R+s,U=D*(i+1)-s);let $=0;const O=z=>{if(N===null)return;v>0&&(N=Math.min(N,z)),v<0&&(N=Math.min(z-U/v,N)),_!==null?$=_:$=Math.round(z-N)*v;const H=$-e*(v>=0?1:-1),ie=v>=0?H<0:H>U;$=Math.max(H,0),P==="finished"&&_===null&&($=U);let de=$,ye=T;if(i){const Ee=Math.min($,U)/D;let fe=Math.floor(Ee),ne=Ee%1;!ne&&Ee>=1&&(ne=1),ne===1&&fe--,fe=Math.min(fe,i+1),!!(fe%2)&&(a==="reverse"?(ne=1-ne,s&&(ne-=s/D)):a==="mirror"&&(ye=A)),de=Zr(0,1,ne)*D}const ce=ie?{done:!1,value:r[0]}:ye.next(de);b&&(ce.value=b(ce.value));let{done:X}=ce;!ie&&R!==null&&(X=v>=0?$>=U:$<=0);const le=_===null&&(P==="finished"||P==="running"&&X);return d&&d(ce.value),le&&L(),ce},F=()=>{w&&w.stop(),w=void 0},K=()=>{P="idle",F(),y(),C(),N=I=null},L=()=>{P="finished",u&&u(),F(),y()},M=()=>{if(x)return;w||(w=n(O));const z=w.now();l&&l(),_!==null?N=z-_:(!N||P==="finished")&&(N=z),P==="finished"&&C(),I=N,_=null,P="running",w.start()};t&&M();const V={then(z,H){return S.then(z,H)},get time(){return nr($)},set time(z){z=Kr(z),$=z,_!==null||!w||v===0?_=z:N=w.now()-z/v},get duration(){const z=T.calculatedDuration===null?F0(T):T.calculatedDuration;return nr(z)},get speed(){return v},set speed(z){z===v||!w||(v=z,V.time=nr($))},get state(){return P},play:M,pause:()=>{P="paused",_=$},stop:()=>{x=!0,P!=="idle"&&(P="idle",c&&c(),K())},cancel:()=>{I!==null&&O(I),K()},complete:()=>{P="finished"},sample:z=>(N=0,O(z))};return V}function PL(t){let e;return()=>(e===void 0&&(e=t()),e)}const AL=PL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bl=10,NL=2e4,IL=(t,e)=>e.type==="spring"||t==="backgroundColor"||!BE(e.ease);function RL(t,e,{onUpdate:n,onComplete:r,...o}){if(!(AL()&&kL.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(E=>{a=E})};u();let{keyframes:d,duration:p=300,ease:v,times:x}=o;if(IL(e,o)){const E=au({...o,repeat:0,delay:0});let b={done:!1,value:d[0]};const T=[];let A=0;for(;!b.done&&A<NL;)b=E.sample(A),T.push(b.value),A+=Bl;x=void 0,d=T,p=A-Bl,v="linear"}const y=B6(t.owner.current,e,d,{...o,duration:p,ease:v,times:x}),S=()=>{c=!1,y.cancel()},C=()=>{c=!0,Ne.update(S),a(),u()};return y.onfinish=()=>{c||(t.set(z6(d,o)),r&&r(),C())},{then(E,b){return l.then(E,b)},attachTimeline(E){return y.timeline=E,y.onfinish=null,Ge},get time(){return nr(y.currentTime||0)},set time(E){y.currentTime=Kr(E)},get speed(){return y.playbackRate},set speed(E){y.playbackRate=E},get duration(){return nr(p)},play:()=>{s||(y.play(),lr(S))},pause:()=>y.pause(),stop:()=>{if(s=!0,y.playState==="idle")return;const{currentTime:E}=y;if(E){const b=au({...o,autoplay:!1});t.setWithVelocity(b.sample(E-Bl).value,b.sample(E).value,Bl)}C()},complete:()=>{c||y.finish()},cancel:C}}function ML({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ge,pause:Ge,stop:Ge,then:i=>(i(),Promise.resolve()),cancel:Ge,complete:Ge});return e?au({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const $L={type:"spring",stiffness:500,damping:25,restSpeed:10},DL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LL={type:"keyframes",duration:.8},jL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FL=(t,{keyframes:e})=>e.length>2?LL:ei.has(t)?t.startsWith("scale")?DL(e[1]):$L:jL,Yh=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(eo.test(e)||e==="0")&&!e.startsWith("url(")),OL=new Set(["brightness","contrast","saturate","opacity"]);function VL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ku)||[];if(!r)return t;const o=n.replace(r,"");let i=OL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const UL=/([a-z-]*)\(.*?\)/g,Jh={...eo,getAnimatableNone:t=>{const e=t.match(UL);return e?e.map(VL).join(" "):t}},BL={...TE,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:Jh,WebkitFilter:Jh},og=t=>BL[t];function fb(t,e){let n=og(t);return n!==Jh&&(n=eo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hb=t=>/^0[^.\s]+$/.test(t);function zL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||hb(t)}function GL(t,e,n,r){const o=Yh(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),zL(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=fb(e,a)}return i}function WL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function ig(t,e){return t[e]||t.default||t}const HL={skipAnimations:!1},sg=(t,e,n,r={})=>o=>{const i=ig(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Kr(s);const l=GL(e,t,n,i),c=l[0],u=l[l.length-1],d=Yh(t,c),p=Yh(t,u);let v={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:x=>{e.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(WL(i)||(v={...v,...FL(t,v)}),v.duration&&(v.duration=Kr(v.duration)),v.repeatDelay&&(v.repeatDelay=Kr(v.repeatDelay)),!d||!p||U6.current||i.type===!1||HL.skipAnimations)return ML(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=RL(e,t,v);if(x)return x}return au(v)};function lu(t){return!!(Ft(t)&&t.add)}const pb=t=>/^\-?\d*\.?\d+$/.test(t);function ag(t,e){t.indexOf(e)===-1&&t.push(e)}function lg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cg{constructor(){this.subscriptions=[]}add(e){return ag(this.subscriptions,e),()=>lg(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qL=t=>!isNaN(parseFloat(t));class KL{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=ht;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=qL(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rs(t,e){return new KL(t,e)}const mb=t=>e=>e.test(t),YL={test:t=>t==="auto",parse:t=>t},gb=[ti,re,Dn,Er,n6,t6,YL],Os=t=>gb.find(mb(t)),JL=[...gb,St,eo],XL=t=>JL.find(mb(t));function QL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rs(n))}function ZL(t,e){const n=Ju(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=g6(i[s]);QL(t,s,a)}}function e8(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),u!=null&&(typeof u=="string"&&(pb(u)||hb(u))?u=parseFloat(u):!XL(u)&&eo.test(c)&&(u=fb(l,c)),t.addValue(l,rs(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function t8(t,e){return e?(e[t]||e.default||e).from:void 0}function n8(t,e,n){const r={};for(const o in t){const i=t8(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function r8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function o8(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function vb(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const p=t.getValue(d),v=a[d];if(!p||v===void 0||u&&r8(u,d))continue;const x={delay:n,elapsed:0,...ig(i||{},d)};if(window.HandoffAppearAnimations){const C=t.getProps()[yE];if(C){const w=window.HandoffAppearAnimations(C,d,p,Ne);w!==null&&(x.elapsed=w,x.isHandoff=!0)}}let y=!x.isHandoff&&!o8(p,v);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(sg(d,p,v,t.shouldReduceMotion&&ei.has(d)?{type:!1}:x));const S=p.animation;lu(l)&&(l.add(d),S.then(()=>l.remove(d))),c.push(S)}return s&&Promise.all(c).then(()=>{s&&ZL(t,s)}),c}function Xh(t,e,n={}){const r=Ju(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(vb(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return i8(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function i8(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(s8).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Xh(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function s8(t,e){return t.sortNodePosition(e)}function a8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>Xh(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=Xh(t,e,n);else{const o=typeof e=="function"?Ju(t,e,n.custom):e;r=Promise.all(vb(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const l8=[...Gm].reverse(),c8=Gm.length;function u8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>a8(t,n,r)))}function d8(t){let e=u8(t);const n=h8();let r=!0;const o=(l,c)=>{const u=Ju(t,c);if(u){const{transition:d,transitionEnd:p,...v}=u;l={...l,...v,...p}}return l};function i(l){e=l(t)}function s(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},p=[],v=new Set;let x={},y=1/0;for(let C=0;C<c8;C++){const w=l8[C],E=n[w],b=u[w]!==void 0?u[w]:d[w],T=Oa(b),A=w===c?E.isActive:null;A===!1&&(y=C);let P=b===d[w]&&b!==u[w]&&T;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),E.protectedKeys={...x},!E.isActive&&A===null||!b&&!E.prevProp||Hu(b)||typeof b=="boolean")continue;let N=f8(E.prevProp,b)||w===c&&E.isActive&&!P&&T||C>y&&T,I=!1;const R=Array.isArray(b)?b:[b];let D=R.reduce(o,{});A===!1&&(D={});const{prevResolvedValues:U={}}=E,$={...U,...D},O=F=>{N=!0,v.has(F)&&(I=!0,v.delete(F)),E.needsAnimating[F]=!0};for(const F in $){const K=D[F],L=U[F];if(x.hasOwnProperty(F))continue;let M=!1;ou(K)&&ou(L)?M=!VE(K,L):M=K!==L,M?K!==void 0?O(F):v.add(F):K!==void 0&&v.has(F)?O(F):E.protectedKeys[F]=!0}E.prevProp=b,E.prevResolvedValues=D,E.isActive&&(x={...x,...D}),r&&t.blockInitialAnimation&&(N=!1),N&&(!P||I)&&p.push(...R.map(F=>({animation:F,options:{type:w,...l}})))}if(v.size){const C={};v.forEach(w=>{const E=t.getBaseTarget(w);E!==void 0&&(C[w]=E)}),p.push({animation:C})}let S=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(l,c)}),n[l].isActive=c;const p=s(u,l);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function f8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VE(e,t):!1}function vo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h8(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class p8 extends ho{constructor(e){super(e),e.animationState||(e.animationState=d8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Hu(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let m8=0;class g8 extends ho{constructor(){super(...arguments),this.id=m8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const v8={animation:{Feature:p8},exit:{Feature:g8}},O0=(t,e)=>Math.abs(t-e);function y8(t,e){const n=O0(t.x,e.x),r=O0(t.y,e.y);return Math.sqrt(n**2+r**2)}class yb{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=af(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=y8(d.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:x}=d,{timestamp:y}=ht;this.history.push({...x,timestamp:y});const{onStart:S,onMove:C}=this.handlers;p||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=sf(p,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=af(d.type==="pointercancel"?this.lastMoveEventInfo:sf(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,S),x&&x(d,S)},!DE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=Yu(e),a=sf(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=ht;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,af(a,this.history)),this.removeListeners=qr(tr(this.contextWindow,"pointermove",this.handlePointerMove),tr(this.contextWindow,"pointerup",this.handlePointerUp),tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lr(this.updatePoint)}}function sf(t,e){return e?{point:e(t.point)}:t}function V0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function af({point:t},e){return{point:t,delta:V0(t,xb(e)),offset:V0(t,x8(e)),velocity:w8(e,.1)}}function x8(t){return t[0]}function xb(t){return t[t.length-1]}function w8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=xb(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Kr(e)));)n--;if(!r)return{x:0,y:0};const i=nr(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Jt(t){return t.max-t.min}function Qh(t,e=0,n=.01){return Math.abs(t-e)<=n}function U0(t,e,n,r=.5){t.origin=r,t.originPoint=Ve(e.min,e.max,t.origin),t.scale=Jt(n)/Jt(e),(Qh(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ve(n.min,n.max,t.origin)-t.originPoint,(Qh(t.translate)||isNaN(t.translate))&&(t.translate=0)}function aa(t,e,n,r){U0(t.x,e.x,n.x,r?r.originX:void 0),U0(t.y,e.y,n.y,r?r.originY:void 0)}function B0(t,e,n){t.min=n.min+e.min,t.max=t.min+Jt(e)}function C8(t,e,n){B0(t.x,e.x,n.x),B0(t.y,e.y,n.y)}function z0(t,e,n){t.min=e.min-n.min,t.max=t.min+Jt(e)}function la(t,e,n){z0(t.x,e.x,n.x),z0(t.y,e.y,n.y)}function S8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ve(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ve(n,t,r.max):Math.min(t,n)),t}function G0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function E8(t,{top:e,left:n,bottom:r,right:o}){return{x:G0(t.x,n,o),y:G0(t.y,e,r)}}function W0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function b8(t,e){return{x:W0(t.x,e.x),y:W0(t.y,e.y)}}function T8(t,e){let n=.5;const r=Jt(t),o=Jt(e);return o>r?n=Ua(e.min,e.max-r,t.min):r>o&&(n=Ua(t.min,t.max-o,e.min)),Zr(0,1,n)}function _8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zh=.35;function P8(t=Zh){return t===!1?t=0:t===!0&&(t=Zh),{x:H0(t,"left","right"),y:H0(t,"top","bottom")}}function H0(t,e,n){return{min:q0(t,e),max:q0(t,n)}}function q0(t,e){return typeof t=="number"?t:t[e]||0}const K0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:K0(),y:K0()}),Y0=()=>({min:0,max:0}),Ye=()=>({x:Y0(),y:Y0()});function tn(t){return[t("x"),t("y")]}function wb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function A8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function k8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lf(t){return t===void 0||t===1}function ep({scale:t,scaleX:e,scaleY:n}){return!lf(t)||!lf(e)||!lf(n)}function So(t){return ep(t)||Cb(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Cb(t){return J0(t.x)||J0(t.y)}function J0(t){return t&&t!=="0%"}function cu(t,e,n){const r=t-n,o=e*r;return n+o}function X0(t,e,n,r,o){return o!==void 0&&(t=cu(t,o,r)),cu(t,n,r)+e}function tp(t,e=0,n=1,r,o){t.min=X0(t.min,e,n,r,o),t.max=X0(t.max,e,n,r,o)}function Sb(t,{x:e,y:n}){tp(t.x,e.translate,e.scale,e.originPoint),tp(t.y,n.translate,n.scale,n.originPoint)}function N8(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Sb(t,s)),r&&So(i.latestValues)&&Mi(t,i.latestValues))}e.x=Q0(e.x),e.y=Q0(e.y)}function Q0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Nr(t,e){t.min=t.min+e,t.max=t.max+e}function Z0(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=Ve(t.min,t.max,i);tp(t,e[n],e[r],s,e.scale)}const I8=["x","scaleX","originX"],R8=["y","scaleY","originY"];function Mi(t,e){Z0(t.x,e,I8),Z0(t.y,e,R8)}function Eb(t,e){return wb(k8(t.getBoundingClientRect(),e))}function M8(t,e,n){const r=Eb(t,n),{scroll:o}=e;return o&&(Nr(r.x,o.offset.x),Nr(r.y,o.offset.y)),r}const bb=({current:t})=>t?t.ownerDocument.defaultView:null,$8=new WeakMap;class D8{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yu(u,"page").point)},i=(u,d)=>{const{drag:p,dragPropagation:v,onDragStart:x}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jE(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(S=>{let C=this.getAxisMotionValue(S).get()||0;if(Dn.test(C)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[S];E&&(C=Jt(E)*(parseFloat(C)/100))}}this.originPoint[S]=C}),x&&Ne.update(()=>x(u,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=d;if(v&&this.currentDirection===null){this.currentDirection=L8(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>tn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yb(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:bb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Ne.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!zl(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=S8(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ni(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=E8(o.layoutBox,n):this.constraints=!1,this.elastic=P8(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&tn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=_8(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ni(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=M8(r,o.root,this.visualElement.getTransformPagePoint());let s=b8(o.layout.layoutBox,i);if(n){const a=n(A8(s));this.hasMutatedConstraints=!!a,a&&(s=wb(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=tn(u=>{if(!zl(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const p=o?200:1e6,v=o?40:1e7,x={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(sg(e,r,0,n))}stopAnimation(){tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tn(n=>{const{drag:r}=this.getProps();if(!zl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-Ve(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ni(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tn(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=T8({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tn(s=>{if(!zl(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Ve(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;$8.set(this.visualElement,this);const e=this.visualElement.current,n=tr(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ni(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=Zn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(tn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Zh,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function zl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j8 extends ho{constructor(e){super(e),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new D8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const ex=t=>(e,n)=>{t&&Ne.update(()=>t(e,n))};class F8 extends ho{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(e){this.session=new yb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ex(e),onStart:ex(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Ne.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function O8(){const t=g.useContext(Gu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=g.useId();return g.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=tx(t,e.target.x),r=tx(t,e.target.y);return`${n}% ${r}%`}},V8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=eo.parse(t);if(o.length>5)return r;const i=eo.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=Ve(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class U8 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;KD(B8),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ne.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tb(t){const[e,n]=O8(),r=g.useContext(Hm);return k.createElement(U8,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(wE),isPresent:e,safeToRemove:n})}const B8={borderRadius:{...Vs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vs,borderTopRightRadius:Vs,borderBottomLeftRadius:Vs,borderBottomRightRadius:Vs,boxShadow:V8},_b=["TopLeft","TopRight","BottomLeft","BottomRight"],z8=_b.length,nx=t=>typeof t=="string"?parseFloat(t):t,rx=t=>typeof t=="number"||re.test(t);function G8(t,e,n,r,o,i){o?(t.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,W8(r)),t.opacityExit=Ve(e.opacity!==void 0?e.opacity:1,0,H8(r))):i&&(t.opacity=Ve(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<z8;s++){const a=`border${_b[s]}Radius`;let l=ox(e,a),c=ox(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||rx(l)===rx(c)?(t[a]=Math.max(Ve(nx(l),nx(c),r),0),(Dn.test(c)||Dn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ve(e.rotate||0,n.rotate||0,r))}function ox(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const W8=Pb(0,.5,YE),H8=Pb(.5,.95,Ge);function Pb(t,e,n){return r=>r<t?0:r>e?1:n(Ua(t,e,r))}function ix(t,e){t.min=e.min,t.max=e.max}function en(t,e){ix(t.x,e.x),ix(t.y,e.y)}function sx(t,e,n,r,o){return t-=e,t=cu(t,1/n,r),o!==void 0&&(t=cu(t,1/o,r)),t}function q8(t,e=0,n=1,r=.5,o,i=t,s=t){if(Dn.test(e)&&(e=parseFloat(e),e=Ve(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Ve(i.min,i.max,r);t===i&&(a-=e),t.min=sx(t.min,e,n,a,o),t.max=sx(t.max,e,n,a,o)}function ax(t,e,[n,r,o],i,s){q8(t,e[n],e[r],e[o],e.scale,i,s)}const K8=["x","scaleX","originX"],Y8=["y","scaleY","originY"];function lx(t,e,n,r){ax(t.x,e,K8,n?n.x:void 0,r?r.x:void 0),ax(t.y,e,Y8,n?n.y:void 0,r?r.y:void 0)}function cx(t){return t.translate===0&&t.scale===1}function Ab(t){return cx(t.x)&&cx(t.y)}function J8(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function kb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function ux(t){return Jt(t.x)/Jt(t.y)}class X8{constructor(){this.members=[]}add(e){ag(this.members,e),e.scheduleRender()}remove(e){if(lg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dx(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const Q8=(t,e)=>t.depth-e.depth;class Z8{constructor(){this.children=[],this.isDirty=!1}add(e){ag(this.children,e),this.isDirty=!0}remove(e){lg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q8),this.isDirty=!1,this.children.forEach(e)}}function e7(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(lr(r),t(i-e))};return Ne.read(r,!0),()=>lr(r)}function t7(t){window.MotionDebug&&window.MotionDebug.record(t)}function n7(t){return t instanceof SVGElement&&t.tagName!=="svg"}function r7(t,e,n){const r=Ft(t)?t:rs(t);return r.start(sg("",r,e,n)),r.animation}const fx=["","X","Y","Z"],o7={visibility:"hidden"},hx=1e3;let i7=0;const Eo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Nb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=i7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eo.totalNodes=Eo.resolvedTargetDeltas=Eo.recalculatedProjection=0,this.nodes.forEach(l7),this.nodes.forEach(h7),this.nodes.forEach(p7),this.nodes.forEach(c7),t7(Eo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z8)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new cg),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n7(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=e7(p,250),yc.hasAnimatedSinceResize&&(yc.hasAnimatedSinceResize=!1,this.nodes.forEach(mx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||x7,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=u.getProps(),w=!this.targetLayout||!kb(this.targetLayout,x)||v,E=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const b={...ig(y,"layout"),onPlay:S,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||mx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m7),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(px);return}this.isUpdating||this.nodes.forEach(d7),this.isUpdating=!1,this.nodes.forEach(f7),this.nodes.forEach(s7),this.nodes.forEach(a7),this.clearAllSnapshots();const a=performance.now();ht.delta=Zr(0,1e3/60,a-ht.timestamp),ht.timestamp=a,ht.isProcessing=!0,Xd.update.process(ht),Xd.preRender.process(ht),Xd.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(u7),this.sharedNodes.forEach(g7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ab(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||So(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),w7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ye();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Nr(a.x,l.offset.x),Nr(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ye();en(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){en(a,s);const{scroll:p}=this.root;p&&(Nr(a.x,-p.offset.x),Nr(a.y,-p.offset.y))}Nr(a.x,u.offset.x),Nr(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ye();en(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Mi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),So(u.latestValues)&&Mi(l,u.latestValues)}return So(this.latestValues)&&Mi(l,this.latestValues),l}removeTransform(s){const a=Ye();en(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!So(c.latestValues))continue;ep(c.latestValues)&&c.updateSnapshot();const u=Ye(),d=c.measurePageBox();en(u,d),lx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return So(this.latestValues)&&lx(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),la(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),Sb(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),la(this.relativeTargetOrigin,this.target,v.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ep(this.parent.latestValues)||Cb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;en(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;N8(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=Ri(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri());const y=this.projectionTransform;aa(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=dx(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Eo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ye(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=v!==x,S=this.getStack(),C=!S||S.members.length<=1,w=!!(y&&!C&&this.options.crossfade===!0&&!this.path.some(y7));this.animationProgress=0;let E;this.mixTargetDelta=b=>{const T=b/1e3;gx(d.x,s.x,T),gx(d.y,s.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(la(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v7(this.relativeTarget,this.relativeTargetOrigin,p,T),E&&J8(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ye()),en(E,this.relativeTarget)),y&&(this.animationValues=u,G8(u,c,this.latestValues,T,w,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{yc.hasAnimatedSinceResize=!0,this.currentAnimation=r7(0,hx,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Ib(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ye();const d=Jt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const p=Jt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}en(a,l),Mi(a,u),aa(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new X8),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<fx.length;u++){const d="rotate"+fx[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return o7;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vc(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=vc(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!So(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=dx(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:v,y:x}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in nu){if(p[y]===void 0)continue;const{correct:S,applyTo:C}=nu[y],w=c.transform==="none"?p[y]:S(p[y],d);if(C){const E=C.length;for(let b=0;b<E;b++)c[C[b]]=w}else c[y]=w}return this.options.layoutId&&(c.pointerEvents=d===this?vc(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(px),this.root.sharedNodes.clear()}}}function s7(t){t.updateLayout()}function a7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?tn(d=>{const p=s?n.measuredBox[d]:n.layoutBox[d],v=Jt(p);p.min=r[d].min,p.max=p.min+v}):Ib(i,n.layoutBox,r)&&tn(d=>{const p=s?n.measuredBox[d]:n.layoutBox[d],v=Jt(r[d]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const a=Ri();aa(a,r,n.layoutBox);const l=Ri();s?aa(l,t.applyTransform(o,!0),n.measuredBox):aa(l,r,n.layoutBox);const c=!Ab(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:v}=d;if(p&&v){const x=Ye();la(x,n.layoutBox,p.layoutBox);const y=Ye();la(y,r,v.layoutBox),kb(x,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l7(t){Eo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u7(t){t.clearSnapshot()}function px(t){t.clearMeasurements()}function d7(t){t.isLayoutDirty=!1}function f7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h7(t){t.resolveTargetDelta()}function p7(t){t.calcProjection()}function m7(t){t.resetRotation()}function g7(t){t.removeLeadSnapshot()}function gx(t,e,n){t.translate=Ve(e.translate,0,n),t.scale=Ve(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vx(t,e,n,r){t.min=Ve(e.min,n.min,r),t.max=Ve(e.max,n.max,r)}function v7(t,e,n,r){vx(t.x,e.x,n.x,r),vx(t.y,e.y,n.y,r)}function y7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x7={duration:.45,ease:[.4,0,.1,1]},yx=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),xx=yx("applewebkit/")&&!yx("chrome/")?Math.round:Ge;function wx(t){t.min=xx(t.min),t.max=xx(t.max)}function w7(t){wx(t.x),wx(t.y)}function Ib(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qh(ux(e),ux(n),.2)}const C7=Nb({attachResizeListener:(t,e)=>Zn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cf={current:void 0},Rb=Nb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cf.current){const t=new C7({});t.mount(window),t.setOptions({layoutScroll:!0}),cf.current=t}return cf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),S7={pan:{Feature:F8},drag:{Feature:j8,ProjectionNode:Rb,MeasureLayout:Tb}},E7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function b7(t){const e=E7.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function np(t,e,n=1){const[r,o]=b7(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return pb(s)?parseFloat(s):s}else return Wh(o)?np(o,e,n+1):o}function T7(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!Wh(i))return;const s=np(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!Wh(i))continue;const s=np(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const _7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mb=t=>_7.has(t),P7=t=>Object.keys(t).some(Mb),Cx=t=>t===ti||t===re,Sx=(t,e)=>parseFloat(t.split(", ")[e]),Ex=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Sx(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Sx(i[1],t):0}},A7=new Set(["x","y","z"]),k7=tl.filter(t=>!A7.has(t));function N7(t){const e=[];return k7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const os={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ex(4,13),y:Ex(5,14)};os.translateX=os.x;os.translateY=os.y;const I7=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=os[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=os[c](l,i)}),t},R7=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(Mb);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=Os(u);const p=e[l];let v;if(ou(p)){const x=p.length,y=p[0]===null?1:0;u=p[y],d=Os(u);for(let S=y;S<x&&p[S]!==null;S++)v?eg(Os(p[S])===v):v=Os(p[S])}else v=Os(p);if(d!==v)if(Cx(d)&&Cx(v)){const x=c.get();typeof x=="string"&&c.set(parseFloat(x)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&v===re&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(v!=null&&v.transform)&&(u===0||p===0)?u===0?c.set(v.transform(u)):e[l]=d.transform(p):(s||(i=N7(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=I7(e,t,a);return i.length&&i.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),Wu&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function M7(t,e,n,r){return P7(e)?R7(t,e,n,r):{target:e,transitionEnd:r}}const $7=(t,e,n,r)=>{const o=T7(t,e,r);return e=o.target,r=o.transitionEnd,M7(t,e,n,r)},rp={current:null},$b={current:!1};function D7(){if($b.current=!0,!!Wu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rp.current=t.matches;t.addListener(e),e()}else rp.current=!1}function L7(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(Ft(i))t.addValue(o,i),lu(r)&&r.add(o);else if(Ft(s))t.addValue(o,rs(i,{owner:t})),lu(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,rs(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const bx=new WeakMap,Db=Object.keys(Va),j7=Db.length,Tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F7=Wm.length;class O7{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ne.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=qu(n),this.isVariantNode=xE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const p=u[d];a[d]!==void 0&&Ft(p)&&(p.set(a[d],!1),lu(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,bx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$b.current||D7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bx.delete(this.current),this.projection&&this.projection.unmount(),lr(this.notifyUpdate),lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ei.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Ne.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<j7;l++){const c=Db[l],{isEnabled:u,Feature:d,ProjectionNode:p,MeasureLayout:v}=Va[c];p&&(s=p),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:v}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Ni(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Tx.length;r++){const o=Tx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=L7(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<F7;r++){const o=Wm[r],i=this.props[o];(Oa(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Zm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ft(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Lb extends O7{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=n8(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){e8(this,r,s);const a=$7(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function V7(t){return window.getComputedStyle(t)}class U7 extends Lb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ei.has(n)){const r=og(n);return r&&r.default||0}else{const r=V7(e),o=(EE(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Eb(e,n)}build(e,n,r,o){Km(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Qm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){kE(e,n,r,o)}}class B7 extends Lb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ei.has(n)){const r=og(n);return r&&r.default||0}return n=NE.has(n)?n:zm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ye()}scrapeMotionValuesFromProps(e,n){return RE(e,n)}build(e,n,r,o){Jm(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){IE(e,n,r,o)}mount(e){this.isSVGTag=Xm(e.tagName),super.mount(e)}}const z7=(t,e)=>qm(t)?new B7(e,{enableHardwareAcceleration:!1}):new U7(e,{enableHardwareAcceleration:!0}),G7={layout:{ProjectionNode:Rb,MeasureLayout:Tb}},W7={...v8,...j6,...S7,...G7},we=HD((t,e)=>b6(t,e,W7,z7));function jb(){const t=g.useRef(!1);return Bm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function H7(){const t=jb(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>Ne.postRender(r),[r]),e]}class q7 extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K7({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),g.createElement(q7,{isPresent:e,childRef:r,sizeRef:o},g.cloneElement(t,{ref:r}))}const uf=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=ME(Y7),l=g.useId(),c=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return g.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=g.createElement(K7,{isPresent:n},t)),g.createElement(Gu.Provider,{value:c},t)};function Y7(){return new Map}function J7(t){return g.useEffect(()=>()=>t(),[])}const bo=t=>t.key||"";function X7(t,e){t.forEach(n=>{const r=bo(n);e.set(r,n)})}function Q7(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const op=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=g.useContext(Hm).forceRender||H7()[0],l=jb(),c=Q7(t);let u=c;const d=g.useRef(new Map).current,p=g.useRef(u),v=g.useRef(new Map).current,x=g.useRef(!0);if(Bm(()=>{x.current=!1,X7(c,v),p.current=u}),J7(()=>{x.current=!0,v.clear(),d.clear()}),x.current)return g.createElement(g.Fragment,null,u.map(w=>g.createElement(uf,{key:bo(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},w)));u=[...u];const y=p.current.map(bo),S=c.map(bo),C=y.length;for(let w=0;w<C;w++){const E=y[w];S.indexOf(E)===-1&&!d.has(E)&&d.set(E,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((w,E)=>{if(S.indexOf(E)!==-1)return;const b=v.get(E);if(!b)return;const T=y.indexOf(E);let A=w;if(!A){const P=()=>{d.delete(E);const _=Array.from(v.keys()).filter(N=>!S.includes(N));if(_.forEach(N=>v.delete(N)),p.current=c.filter(N=>{const I=bo(N);return I===E||_.includes(I)}),!d.size){if(l.current===!1)return;a(),r&&r()}};A=g.createElement(uf,{key:bo(b),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:i,mode:s},b),d.set(E,A)}u.splice(T,0,A)}),u=u.map(w=>{const E=w.key;return d.has(E)?w:g.createElement(uf,{key:bo(w),isPresent:!0,presenceAffectsLayout:i,mode:s},w)}),g.createElement(g.Fragment,null,d.size?u:u.map(w=>g.cloneElement(w)))},ug=Fm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},i)=>{const s=r?d$:"button";return f.jsx(s,{className:ae(ug({variant:e,size:n,className:t})),ref:i,...o})});q.displayName="Button";const Z7="modulepreload",e9=function(t){return"/"+t},_x={},to=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=e9(i),i in _x)return;_x[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Z7,s||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},t9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>to(()=>Promise.resolve().then(()=>ws),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class dg extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class n9 extends dg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class r9 extends dg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o9 extends dg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ip;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ip||(ip={}));var i9=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class s9{constructor(e,{headers:n={},customFetch:r,region:o=ip.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=t9(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return i9(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(x=>{throw new n9(x)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new r9(u);if(!u.ok)throw new o9(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield u.json():p==="application/octet-stream"?v=yield u.blob():p==="text/event-stream"?v=u:p==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(o){return{data:null,error:o}}})}}var Nt={},fg={},Xu={},il={},Qu={},Zu={},a9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=a9();const l9=is.fetch,Fb=is.fetch.bind(is),Ob=is.Headers,c9=is.Request,u9=is.Response,ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ob,Request:c9,Response:u9,default:Fb,fetch:l9},Symbol.toStringTag,{value:"Module"})),d9=rP(ws);var ed={};Object.defineProperty(ed,"__esModule",{value:!0});let f9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ed.default=f9;var Vb=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zu,"__esModule",{value:!0});const h9=Vb(d9),p9=Vb(ed);let m9=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=h9.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,l;let c=null,u=null,d=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const C=await i.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=C:u=JSON.parse(C))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&S&&S.length>1&&(d=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,p=200,v="OK")}catch{i.status===404&&y===""?(p=204,v="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new p9.default(c)}return{error:c,data:u,count:d,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Zu.default=m9;var g9=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qu,"__esModule",{value:!0});const v9=g9(Zu);let y9=class extends v9.default{select(e){let n=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){const i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qu.default=y9;var x9=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(il,"__esModule",{value:!0});const w9=x9(Qu);let C9=class extends w9.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};il.default=C9;var S9=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xu,"__esModule",{value:!0});const Us=S9(il);let E9=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Us.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xu.default=E9;var td={},nd={};Object.defineProperty(nd,"__esModule",{value:!0});nd.version=void 0;nd.version="0.0.0-automated";Object.defineProperty(td,"__esModule",{value:!0});td.DEFAULT_HEADERS=void 0;const b9=nd;td.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${b9.version}`};var Ub=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fg,"__esModule",{value:!0});const T9=Ub(Xu),_9=Ub(il),P9=td;let A9=class Bb{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},P9.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new T9.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Bb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){let s;const a=new URL(`${this.url}/rpc/${e}`);let l;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new _9.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fg.default=A9;var Cs=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const zb=Cs(fg);Nt.PostgrestClient=zb.default;const Gb=Cs(Xu);Nt.PostgrestQueryBuilder=Gb.default;const Wb=Cs(il);Nt.PostgrestFilterBuilder=Wb.default;const Hb=Cs(Qu);Nt.PostgrestTransformBuilder=Hb.default;const qb=Cs(Zu);Nt.PostgrestBuilder=qb.default;const Kb=Cs(ed);Nt.PostgrestError=Kb.default;var k9=Nt.default={PostgrestClient:zb.default,PostgrestQueryBuilder:Gb.default,PostgrestFilterBuilder:Wb.default,PostgrestTransformBuilder:Hb.default,PostgrestBuilder:qb.default,PostgrestError:Kb.default};const{PostgrestClient:N9,PostgrestQueryBuilder:KW,PostgrestFilterBuilder:YW,PostgrestTransformBuilder:JW,PostgrestBuilder:XW,PostgrestError:QW}=k9,I9="2.11.2",R9={"X-Client-Info":`realtime-js/${I9}`},M9="1.0.0",Yb=1e4,$9=1e3;var Bi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bi||(Bi={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vn||(vn={}));var sp;(function(t){t.websocket="websocket"})(sp||(sp={}));var _o;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_o||(_o={}));class D9{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+o));s=s+o;const l=r.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Jb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ae||(Ae={}));const Px=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=L9(s,t,e,o),i),{})},L9=(t,e,n,r)=>{const o=e.find(a=>a.name===t),i=o==null?void 0:o.type,s=n[t];return i&&!r.includes(i)?Xb(i,s):ap(s)},Xb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return V9(e,n)}switch(t){case Ae.bool:return j9(e);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return F9(e);case Ae.json:case Ae.jsonb:return O9(e);case Ae.timestamp:return U9(e);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return ap(e);default:return ap(e)}},ap=t=>t,j9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},F9=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},O9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},V9=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Xb(e,a))}return t},U9=t=>typeof t=="string"?t.replace(" ","T"):t,Qb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class df{constructor(e,n,r={},o=Yb){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ax;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ax||(Ax={}));class ca{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ca.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=ca.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ca.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const i=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=i[c];if(d){const p=u.map(S=>S.presence_ref),v=d.map(S=>S.presence_ref),x=u.filter(S=>v.indexOf(S.presence_ref)<0),y=d.filter(S=>p.indexOf(S.presence_ref)<0);x.length>0&&(a[c]=x),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(e,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(v=>v.presence_ref),p=u.filter(v=>d.indexOf(v.presence_ref)<0);e[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,o(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kx||(kx={}));var Nx;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nx||(Nx={}));var Kn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class hg{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new df(this,vn.join,this.params,this.timeout),this.rejoinTimer=new Jb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new ca(this),this.broadcastEndpointURL=Qb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Kn.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Kn.CLOSED));const l={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Kn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,x=[];for(let y=0;y<v;y++){const S=p[y],{filter:{event:C,schema:w,table:E,filter:b}}=S,T=u&&u[y];if(T&&T.event===C&&T.schema===w&&T.table===E&&T.filter===b)x.push(Object.assign(Object.assign({},S),{id:T.id}));else{this.unsubscribe(),e==null||e(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Kn.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new df(this,vn.leave,{},e);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new df(this,e,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=vn;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var x,y,S;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(y=v.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(v=>v.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(v=>{var x,y,S,C,w,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){const b=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return b&&((y=n.ids)===null||y===void 0?void 0:y.includes(b))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const b=(w=(C=v==null?void 0:v.filter)===null||C===void 0?void 0:C.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return b==="*"||b===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:y,table:S,commit_timestamp:C,type:w,errors:E}=x;p=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:C,eventType:w,new:{},old:{},errors:E}),this._getPayloadRecords(x))}v.callback(p,r)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&hg.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vn.close,{},e)}_onError(e){this._on(vn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Px(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Px(e.columns,e.old_record)),n}}const B9=()=>{},z9=typeof WebSocket<"u",G9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W9{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=R9,this.params={},this.timeout=Yb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=B9,this.conn=null,this.sendBuffer=[],this.serializer=new D9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>to(()=>Promise.resolve().then(()=>ws),void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${sp.websocket}`,this.httpEndpoint=Qb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(z9){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new H9(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),to(()=>import("./browser-ceac2c32.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M9}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bi.connecting:return _o.Connecting;case Bi.open:return _o.Open;case Bi.closing:return _o.Closing;default:return _o.Closed}}isConnected(){return this.connectionState()===_o.Open}channel(e,n={config:{}}){const r=new hg(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(vn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close($9,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([G9],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class H9{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class pg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class q9 extends pg{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lp extends pg{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var K9=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>to(()=>Promise.resolve().then(()=>ws),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Y9=()=>K9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield to(()=>Promise.resolve().then(()=>ws),void 0)).Response:Response}),cp=t=>{if(Array.isArray(t))return t.map(n=>cp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=cp(r)}),e};var ni=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ff=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),J9=(t,e,n)=>ni(void 0,void 0,void 0,function*(){const r=yield Y9();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new q9(ff(o),t.status||500))}).catch(o=>{e(new lp(ff(o),o))}):e(new lp(ff(t),t))}),X9=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function sl(t,e,n,r,o,i){return ni(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,X9(e,r,o,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>J9(l,a,r))})})}function uu(t,e,n,r){return ni(this,void 0,void 0,function*(){return sl(t,"GET",e,n,r)})}function Ir(t,e,n,r,o){return ni(this,void 0,void 0,function*(){return sl(t,"POST",e,r,o,n)})}function Q9(t,e,n,r,o){return ni(this,void 0,void 0,function*(){return sl(t,"PUT",e,r,o,n)})}function Z9(t,e,n,r){return ni(this,void 0,void 0,function*(){return sl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function eT(t,e,n,r,o){return ni(this,void 0,void 0,function*(){return sl(t,"DELETE",e,r,o,n)})}var At=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ej={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ix={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tj{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Zb(o)}uploadOrUpdate(e,n,r,o){return At(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Ix),o);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(et(i))return{data:null,error:i};throw i}})}upload(e,n,r){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return At(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ix.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(et(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const i=yield Ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new pg("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}update(e,n,r){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return At(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}})}copy(e,n,r){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return At(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Ir(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return At(this,void 0,void 0,function*(){try{const o=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}})}download(e,n){return At(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield uu(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}info(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield uu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cp(r),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}exists(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Z9(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(et(r)&&r instanceof lp){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}list(e,n,r){return At(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},ej),n),{prefix:e||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const nj="2.7.1",rj={"X-Client-Info":`storage-js/${nj}`};var li=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class oj{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},rj),n),this.fetch=Zb(r)}listBuckets(){return li(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return li(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return li(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return li(this,void 0,void 0,function*(){try{return{data:yield Q9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(e){return li(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return li(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}}class ij extends oj{constructor(e,n={},r){super(e,n,r)}from(e){return new tj(this.url,this.headers,e,this.fetch)}}const sj="2.49.4";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const aj={"X-Client-Info":`supabase-js-${Ks}/${sj}`},lj={headers:aj},cj={schema:"public"},uj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dj={};var fj=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const hj=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fb:e=fetch,(...n)=>e(...n)},pj=()=>typeof Headers>"u"?Ob:Headers,mj=(t,e,n)=>{const r=hj(n),o=pj();return(i,s)=>fj(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new o(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var gj=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function vj(t){return t.replace(/\/$/,"")}function yj(t,e){const{db:n,auth:r,realtime:o,global:i}=t,{db:s,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),i),accessToken:()=>gj(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const tT="2.69.1",vi=30*1e3,up=3,hf=up*vi,xj="http://localhost:9999",wj="supabase.auth.token",Cj={"X-Client-Info":`gotrue-js/${tT}`},dp="X-Supabase-Api-Version",nT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ej=6e5;class mg extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bj extends mg{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Tj(t){return ue(t)&&t.name==="AuthApiError"}class rT extends mg{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class po extends mg{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class br extends po{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _j(t){return ue(t)&&t.name==="AuthSessionMissingError"}class pf extends po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends po{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wl extends po{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pj(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rx extends po{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fp extends po{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function mf(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class Mx extends po{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ua extends po{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dx=` 	
\r=`.split(""),Aj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dx.length;e+=1)t[Dx[e].charCodeAt(0)]=-2;for(let e=0;e<$x.length;e+=1)t[$x[e].charCodeAt(0)]=e;return t})();function oT(t,e,n){const r=Aj[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lx(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{Ij(s,r,n)};for(let s=0;s<t.length;s+=1)oT(t.charCodeAt(s),o,i);return e.join("")}function kj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Nj(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}kj(r,e)}}function Ij(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Rj(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)oT(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Mj(t){const e=[];return Nj(t,n=>e.push(n)),new Uint8Array(e)}function $j(t){return Math.round(Date.now()/1e3)+t}function Dj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nn=()=>typeof window<"u"&&typeof document<"u",yo={tested:!1,writable:!1},da=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yo.tested)return yo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yo.tested=!0,yo.writable=!0}catch{yo.tested=!0,yo.writable=!1}return yo.writable};function Lj(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const iT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>to(()=>Promise.resolve().then(()=>ws),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",sT=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ql=async(t,e)=>{await t.removeItem(e)};class rd{constructor(){this.promise=new rd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rd.promiseConstructor=Promise;function gf(t){const e=t.split(".");if(e.length!==3)throw new ua("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Sj.test(e[r]))throw new ua("JWT not in base64url format");return{header:JSON.parse(Lx(e[0])),payload:JSON.parse(Lx(e[1])),signature:Rj(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Oj(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function Vj(t){return("0"+t.toString(16)).substr(-2)}function Uj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Vj).join("")}async function Bj(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function zj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Bj(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ci(t,e,n=!1){const r=Uj();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await sT(t,`${e}-code-verifier`,o);const i=await zj(r);return[i,r===i?"plain":"s256"]}const Gj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wj(t){const e=t.headers.get(dp);if(!e||!e.match(Gj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Hj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Kj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const To=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yj=[502,503,504];async function jx(t){var e;if(!jj(t))throw new fp(To(t),0);if(Yj.includes(t.status))throw new fp(To(t),t.status);let n;try{n=await t.json()}catch(i){throw new rT(To(i),i)}let r;const o=Wj(t);if(o&&o.getTime()>=nT["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Mx(To(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new br}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Mx(To(n),t.status,n.weak_password.reasons);throw new bj(To(n),t.status||500,r)}const Jj=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ve(t,e,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[dp]||(i[dp]=nT["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Xj(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Xj(t,e,n,r,o,i){const s=Jj(e,r,o,i);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new fp(To(l),0)}if(a.ok||await jx(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await jx(l)}}function Tr(t){var e;let n=null;tF(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$j(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Fx(t){const e=Tr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $r(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qj(t){return{data:t,error:null}}function Zj(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=Kj(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function eF(t){return t}function tF(t){return t.access_token&&t.refresh_token&&t.expires_in}var nF=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};class rF{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=iT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$r})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=nF(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Zj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$r})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:eF});if(u.error)throw u.error;const d=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);c[`${S}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$r})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$r})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$r})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}const oF={getItem:t=>da()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{da()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{da()&&globalThis.localStorage.removeItem(t)}};function Ox(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function iF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ui={debug:!!(globalThis&&da()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sF extends aT{}async function aF(t,e,n){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ui.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}iF();const lF={url:xj,storageKey:wj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vx(t,e,n){return await n()}class Ba{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ba.nextInstanceID,Ba.nextInstanceID+=1,this.instanceID>0&&Nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},lF),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rF({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=iT(o.fetch),this.lock=o.lock||Vx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=aF:this.lock=Vx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:da()?this.storage=oF:(this.memoryStorage={},this.storage=Ox(this.memoryStorage)):(this.memoryStorage={},this.storage=Ox(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Lj(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pj(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new rT("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Tr}),{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,o;try{let i;if("email"in e){const{email:u,password:d,options:p}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await ci(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:Tr})}else if("phone"in e){const{phone:u,password:d,options:p}=e;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(o=p==null?void 0:p.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Tr})}else throw new Gl("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:a}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fx})}else if("phone"in e){const{phone:i,password:s,options:a}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fx})}else throw new Gl("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:i,error:s}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tr});if(await ql(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:i,nonce:s}=e,a=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,i,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ci(this.storage,this.storageKey));const{error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Gl("You must provide either an email or phone number.")}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let o,i;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Tr});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await ci(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Qj})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new br;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:i}=e,{error:s}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:o,options:i}=e,{data:s,error:a}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Gl("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$r}):await this._useSession(async n=>{var r,o,i;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:$r})})}catch(n){if(ue(n))return _j(n)&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new br;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ci(this.storage,this.storageKey));const{data:c,error:u}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:$r});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new br;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:s}=gf(e.access_token);if(s.exp&&(r=s.exp,o=r<=n),o){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new br;const{session:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Nn())throw new Wl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rx("No code detected.");const{data:w,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!s||!c)throw new Wl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let p=u+d;l&&(p=parseInt(l));const v=p-u;v*1e3<=vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const x=p-d;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,u);const{data:y,error:S}=await this._getUser(i);if(S)throw S;const C={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:d,expires_at:p,refresh_token:s,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{error:i};const s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(Tj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Dj(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await ci(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var s,a,l,c,u;const{data:d,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return Nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)throw s;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Oj(async o=>(o>0&&await Fj(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tr})),(o,i)=>{const s=200*Math.pow(2,o);return i&&mf(i)&&Date.now()+s-r<vi})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<hf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${hf}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),mf(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new rd;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new br;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),ue(i)){const s={session:null,error:i};return mf(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await sT(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ql(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${vi}ms, refresh threshold is ${up} ticks`),o<=up&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof aT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await ci(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:a}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:o,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:i}=e;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=gf(o.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Ej>Date.now()))return r;const{data:o,error:i}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!o.keys||o.keys.length===0)throw new ua("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(s=>s.kid===e),!r)throw new ua("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};r=v.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:l}}=gf(r);if(Hj(i.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:o,signature:s},error:null}}const c=qj(o.alg),u=await this.fetchJwk(o.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,Mj(`${a}.${l}`)))throw new ua("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Ba.nextInstanceID=0;const cF=Ba;class uF extends cF{constructor(e){super(e)}}var dF=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class fF{constructor(e,n,r){var o,i,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=vj(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:cj,realtime:dj,auth:Object.assign(Object.assign({},uj),{storageKey:l}),global:lj},u=yj(r??{},c);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=mj(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new N9(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new s9(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ij(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uF({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new W9(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hF=(t,e,n)=>new fF(t,e,n),pF="https://uwbrgokfgelgxeonoqah.supabase.co",mF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3YnJnb2tmZ2VsZ3hlb25vcWFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxODQwODgsImV4cCI6MjA2Mjc2MDA4OH0.xSIMIzEhsIfpOkH4NzUqSOXb-k-tOyCQpOzMAQKvPfc",xn=hF(pF,mF);var gg=Object.defineProperty,gF=Object.getOwnPropertyDescriptor,vF=Object.getOwnPropertyNames,yF=Object.prototype.hasOwnProperty,xF=(t,e)=>{for(var n in e)gg(t,n,{get:e[n],enumerable:!0})},wF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of vF(e))!yF.call(t,o)&&o!==n&&gg(t,o,{get:()=>e[o],enumerable:!(r=gF(e,o))||r.enumerable});return t},CF=t=>wF(gg({},"__esModule",{value:!0}),t),SF=(t,e,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(c){o(c)}},s=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(t,e)).next())}),lT={};xF(lT,{SessionContextProvider:()=>bF,useSession:()=>PF,useSessionContext:()=>TF,useSupabaseClient:()=>_F,useUser:()=>AF});var hp=CF(lT),nn=g,EF=f,al=(0,nn.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),bF=({supabaseClient:t,initialSession:e=null,children:n})=>{const[r,o]=(0,nn.useState)(e),[i,s]=(0,nn.useState)(!e),[a,l]=(0,nn.useState)();(0,nn.useEffect)(()=>{!r&&e&&o(e)},[r,e]),(0,nn.useEffect)(()=>{let u=!0;function d(){return SF(this,null,function*(){const{data:{session:p},error:v}=yield t.auth.getSession();if(u){if(v){l(v),s(!1);return}o(p),s(!1)}})}return d(),()=>{u=!1}},[]),(0,nn.useEffect)(()=>{const{data:{subscription:u}}=t.auth.onAuthStateChange((d,p)=>{p&&(d==="SIGNED_IN"||d==="TOKEN_REFRESHED"||d==="USER_UPDATED")&&o(p),d==="SIGNED_OUT"&&o(null)});return()=>{u.unsubscribe()}},[]);const c=(0,nn.useMemo)(()=>i?{isLoading:!0,session:null,error:null,supabaseClient:t}:a?{isLoading:!1,session:null,error:a,supabaseClient:t}:{isLoading:!1,session:r,error:null,supabaseClient:t},[i,r,a]);return(0,EF.jsx)(al.Provider,{value:c,children:n})},TF=()=>{const t=(0,nn.useContext)(al);if(t===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return t};function _F(){const t=(0,nn.useContext)(al);if(t===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return t.supabaseClient}var PF=()=>{const t=(0,nn.useContext)(al);if(t===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return t.session},AF=()=>{var t,e;const n=(0,nn.useContext)(al);if(n===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(e=(t=n.session)==null?void 0:t.user)!=null?e:null};const cT=g.createContext(),kF=({children:t})=>f.jsx(hp.SessionContextProvider,{supabaseClient:xn,children:f.jsx(NF,{children:t})}),NF=({children:t})=>{const e=hp.useSession(),n=hp.useSupabaseClient(),[r,o]=g.useState(null),[i,s]=g.useState(!0),[a,l]=g.useState(null);return g.useEffect(()=>{e!=null&&e.user?(l(e.user),s(!0),n.from("profiles").select("role").eq("id",e.user.id).single().then(({data:c,error:u})=>{c?o(c.role):u&&(console.error("Error fetching user role:",u),o("store_owner")),s(!1)}).catch(c=>{console.error("Error in promise fetching user role:",c),o("store_owner"),s(!1)})):(l(null),o(null),s(!1))},[e,n]),g.useEffect(()=>{const{data:c}=xn.auth.onAuthStateChange(async(d,p)=>{l((p==null?void 0:p.user)??null),d==="SIGNED_OUT"&&o(null)}),u=c==null?void 0:c.subscription;return xn.auth.getUser().then(({data:d})=>{l((d==null?void 0:d.user)??null)}),()=>{u==null||u.unsubscribe()}},[]),f.jsx(cT.Provider,{value:{session:e,user:a,userRole:r,loadingRole:i,isAuthenticated:!!(e!=null&&e.user)},children:t})},vg=()=>{const t=g.useContext(cT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},uT=()=>{const{isAuthenticated:t,user:e}=vg(),n=Gn(),r=async()=>{const{error:o}=await xn.auth.signOut();o?console.error("Error logging out:",o):n("/auth")};return f.jsxs(we.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full py-4 px-6 flex justify-between items-center sticky top-0 z-50 bg-background/80 backdrop-blur-md border-b",children:[f.jsxs(zo,{to:"/",className:"flex items-center gap-2",children:[f.jsx("div",{className:"bg-primary rounded-full p-1.5",children:f.jsx(Bu,{className:"h-5 w-5 text-primary-foreground"})}),f.jsx("span",{className:"font-bold text-xl",children:"StoreGen"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(we.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-3 py-1.5 rounded-full text-sm font-medium flex items-center gap-1.5",children:[f.jsx(eu,{className:"h-3.5 w-3.5"}),f.jsx("span",{children:"AI-Powered"})]}),t?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:e==null?void 0:e.email}),f.jsxs(q,{variant:"outline",size:"sm",onClick:r,children:[f.jsx(pD,{className:"mr-2 h-4 w-4"})," Logout"]})]}):f.jsx(zo,{to:"/auth",children:f.jsxs(q,{variant:"outline",size:"sm",children:[f.jsx(hD,{className:"mr-2 h-4 w-4"})," Login"]})})]})]})},no=k.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));no.displayName="Textarea";function Ux(t){return new Promise((e,n)=>{const r=new Image;t.startsWith("http")&&(r.crossOrigin="Anonymous"),r.onload=()=>e(r),r.onerror=o=>{console.error("Failed to load image:",t,o),n(new Error(`Failed to load image: ${t}`))},r.src=t})}async function IF(t,e,n={}){const{logoScale:r=.15,position:o="bottom-right",margin:i=.05}=n;if(!t||!e)return console.warn("overlayLogoOnProductImage: Missing base image or logo data URL."),t;try{const[s,a]=await Promise.all([Ux(t),Ux(e)]),l=document.createElement("canvas");l.width=s.naturalWidth||s.width,l.height=s.naturalHeight||s.height;const c=l.getContext("2d");c.drawImage(s,0,0,l.width,l.height);const u=Math.min(l.width,l.height),d=u*r,p=d/(a.naturalHeight||a.height),v=(a.naturalWidth||a.width)*p,x=d,y=u*i;let S,C;switch(o){case"bottom-left":S=y,C=l.height-x-y;break;case"top-right":S=l.width-v-y,C=y;break;case"top-left":S=y,C=y;break;case"bottom-right":default:S=l.width-v-y,C=l.height-x-y;break}return c.drawImage(a,S,C,v,x),l.toDataURL("image/png")}catch(s){return console.error("Error overlaying logo on product image:",s),t}}const RF="2025-04",od=async(t,e,n,r={})=>{var a,l;if(!t||t==="your-shop-name.myshopify.com"||!e||e==="YOUR_SHOPIFY_STOREFRONT_ACCESS_TOKEN")throw new Error("Shopify domain or access token is not configured or is using placeholder values.");let o=t.trim().replace(/^(https?:\/\/)/,"").replace(/\/$/,"");o.includes(".")?!o.endsWith(".myshopify.com")&&o.includes("."):o=`${o}.myshopify.com`,o.includes(".")||(o=`${o}.myshopify.com`);let i=t.trim().replace(/^(https?:\/\/)/,"").replace(/\/$/,"");i.includes(".")||(i=`${i}.myshopify.com`);const s=`https://${i}/api/${RF}/graphql.json`;try{const c=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":e},body:JSON.stringify({query:n,variables:r})});if(!c.ok){let d;try{d=await c.json()}catch{}const p=((l=(a=d==null?void 0:d.errors)==null?void 0:a[0])==null?void 0:l.message)||`Shopify API request failed: ${c.status} ${c.statusText}`;throw console.error("Shopify API Error:",d||c.statusText),new Error(p)}const u=await c.json();if(u.errors)throw console.error("Shopify GraphQL Errors:",u.errors),new Error(u.errors.map(d=>d.message).join(", "));return u.data}catch(c){throw console.error("Error fetching from Shopify Storefront API:",c),c}},MF=`
  query GetShopMetadata {
    shop {
      name
      description 
      primaryDomain {
        host
        url
      }
      brand {
        logo {
          image { # Reverted to use image field
            url
            altText
          }
        }
        squareLogo { # Added, assuming similar structure
          image {
            url
            altText # Assuming altText is available, can be removed if not
          }
        }
        coverImage {
          image { # Reverted to use image field
            url
            altText
          }
        }
        slogan
        shortDescription # Added
        colors {
          primary {
            background
            foreground
          }
          secondary {
            background
            foreground
          }
        }
      }
    }
  }
`,$F=`
  query GetProducts($first: Int = 10, $cursor: String) {
    products(first: $first, after: $cursor) {
      edges {
        node {
          id
          title
          description # Changed from descriptionHtml
          handle
          tags
          images(first: 5) { # Changed from first: 1
            edges {
              node {
                url
                altText
              }
            }
          }
          variants(first: 5) { # Changed from first: 1
            edges {
              node {
                id # Added for variants
                title # Added for variants
                availableForSale # Added
                sku # Added from debug guide example
                price: priceV2 { # Changed from priceRange.minVariantPrice to priceV2, aliased to price
                    amount
                    currencyCode
                }
                image {
                   url
                   altText
                }
              }
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
`,DF=`
  query GetCollections($first: Int = 10, $cursor: String) {
    collections(first: $first, after: $cursor) {
      edges {
        node {
          id
          title
          description
          handle
          products(first: 5) { # Example: fetch first 5 products in each collection
            edges {
              node {
                id
                title
              }
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
`,LF=`
  query GetLocalizationInfo @inContext(country: "US") { # Defaulting to US, can be parameterized
    localization {
      availableCountries {
        isoCode
        name
        currency {
          isoCode
          name
          symbol
        }
      }
      availableLanguages {
        isoCode
        name
        endonymName
      }
    }
  }
`,ss=()=>["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B","#EF4444","#6366F1","#14B8A6","#F97316"][Math.floor(Math.random()*9)],yg=()=>["Inter","Roboto","Poppins","Montserrat","Open Sans"][Math.floor(Math.random()*5)],xg=()=>["grid","list"][Math.floor(Math.random()*2)],dT=async(t,e,n,r,{fetchPexelsImages:o=es,generateId:i=Gt}={})=>{const s=[],a={fashion:{min:20,max:200},electronics:{min:50,max:1300},food:{min:5,max:50},jewelry:{min:100,max:1e3},general:{min:10,max:300}},l=a[t]||a.general,c={fashion:["Classic Tee","Urban Jeans","Silk Scarf","Leather Boots","Summer Dress","Knit Sweater"],electronics:["HD Webcam","Noise-Cancelling Buds","Smart Display","Gaming Pad","Portable Drive","VR Headset"],food:["Artisan Bread","Gourmet Cheese","Organic Berries","Craft Coffee","Spiced Nuts","Dark Chocolate Bar"],jewelry:["Pearl Necklace","Sapphire Ring","Gold Hoops","Charm Bracelet","Silver Cufflinks","Diamond Studs"],general:["Utility Tool","Desk Organizer","Travel Mug","Yoga Mat","Scented Candle","Board Game"]},d=[...c[t]||c.general].sort(()=>.5-Math.random()).slice(0,e),p=d.map(x=>`${t} ${x} product shot`),v=await o(p.join(";"),e,"square");for(let x=0;x<e;x++){const y=d[x],S=v[x];let C;if(S&&S.src&&S.src.medium&&r)try{console.log(`[generateAIProductsData] Overlaying logo on Pexels image: ${S.src.medium}`),C=await IF(S.src.medium,r)}catch(w){console.error(`[generateAIProductsData] Failed to overlay logo on ${S.src.medium}, using original.`,w),C=S.src.medium}else S&&S.src&&S.src.medium?C=S.src.medium:C=`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(y)}`;s.push({id:`product-ai-${i()}`,name:y,price:parseFloat((Math.random()*(l.max-l.min)+l.min).toFixed(2)),description:MS(t,y),rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*80)+20,image:{id:S&&S.id||i(),src:{medium:C},alt:S&&S.alt||`Product image for ${y}`},storeName:n})}return s},jF=async(t,{fetchPexelsImages:e=es,generateId:n=Gt}={})=>{var v,x;const r=`store-wizard-${n()}`,{productType:o,storeName:i,logoUrl:s,products:a,prompt:l}=t;let c=[];a.source==="ai"?c=a.items.map(y=>({id:`product-ai-${n()}`,name:y.name,price:parseFloat(y.price),description:y.description,image:{id:n(),src:{medium:y.imageUrl},alt:y.name},rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*80)+20})):a.source==="manual"&&(c=a.items.map(y=>({id:`product-manual-${n()}`,name:y.name,price:parseFloat(y.price),description:y.description||MS(o,y.name),image:{id:n(),src:{medium:y.imageUrl||`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(y.name)}`},alt:y.name},rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*50)+20})));const u=await e(`${o} store hero ${l}`,1,"landscape"),d=await RS(`${o} store ambiance ${l}`,1,"landscape"),p=Im(o,i);return{id:r,name:i,type:o,description:p.heroDescription,prompt:l||`A ${o} store called ${i}`,products:c,hero_image:u[0]||{src:{large:"https://via.placeholder.com/1200x800.png?text=Hero+Image"},alt:"Placeholder Hero Image"},hero_video_url:((v=d[0])==null?void 0:v.url)||null,hero_video_poster_url:((x=d[0])==null?void 0:x.image)||null,logo_url:s||`https://via.placeholder.com/100x100.png?text=${i.substring(0,1)}`,theme:{primaryColor:ss(),secondaryColor:ss(),fontFamily:yg(),layout:xg()},content:p,data_source:"wizard"}},FF=async(t,{storeNameOverride:e=null,productTypeOverride:n=null,storeLogoDataUrl:r=null,fetchPexelsImages:o=es,generateId:i=Gt}={})=>{var y,S;const s=`store-ai-${i()}`,a=t.toLowerCase().split(" ");let l=n||"general";n||(a.some(C=>["clothing","fashion","apparel","wear"].includes(C))?l="fashion":a.some(C=>["tech","electronics","gadget","digital"].includes(C))?l="electronics":a.some(C=>["food","grocery","meal","organic"].includes(C))?l="food":a.some(C=>["jewelry","accessory","watch","luxury"].includes(C))&&(l="jewelry"));const c=t.split(" ").filter(C=>C.charAt(0)===C.charAt(0).toUpperCase()&&C.length>2),u=e||c[0]||`${l.charAt(0).toUpperCase()+l.slice(1)} Store ${Math.floor(Math.random()*100)}`,d=await dT(l,6,u,r,{fetchPexelsImages:o,generateId:i}),p=await o(`${l} ${u} hero ${t}`,1,"landscape"),v=await RS(`${l} ${u} ambiance ${t}`,1,"landscape"),x=Im(l,u);return{id:s,name:u,type:l,description:x.heroDescription,prompt:t,products:d,hero_image:p[0]||{src:{large:"https://via.placeholder.com/1200x800.png?text=Hero+Image"},alt:"Placeholder Hero Image"},hero_video_url:((y=v[0])==null?void 0:y.url)||null,hero_video_poster_url:((S=v[0])==null?void 0:S.image)||null,logo_url:r||`https://via.placeholder.com/100x100.png?text=${u.substring(0,1)}`,theme:{primaryColor:ss(),secondaryColor:ss(),fontFamily:yg(),layout:xg()},content:x,data_source:"ai"}},OF=async(t,e)=>(await od(t,e,MF)).shop,Bx=async(t,e,n=10,r=null)=>(await od(t,e,DF,{first:n,cursor:r})).collections,zx=async(t,e,n=10,r=null)=>(await od(t,e,$F,{first:n,cursor:r})).products,VF=async(t,e,n="US",r="EN")=>(await od(t,e,LF,{})).localization,Gx=(t,e,n,r,{generateId:o=Gt}={},i=null)=>{var p,v,x,y,S,C,w,E,b,T,A,P,_,N,I,R,D,U,$,O,F,K,L,M,V,z;const s=e.map(H=>{var ie,de,ye,ce,X,le,Ee,fe,ne,he,Ke,De,xt,Zt,Ot,Pn,Hn,Vt,mo,go;return{id:H.id,name:H.title,description:H.description?H.description.substring(0,250)+(H.description.length>250?"...":""):"No description available.",price:parseFloat(((ye=(de=(ie=H.variants)==null?void 0:ie.edges[0])==null?void 0:de.node.price)==null?void 0:ye.amount)||0),currencyCode:((le=(X=(ce=H.variants)==null?void 0:ce.edges[0])==null?void 0:X.node.price)==null?void 0:le.currencyCode)||"USD",image:{id:((fe=(Ee=H.images)==null?void 0:Ee.edges[0])==null?void 0:fe.node.id)||o(),src:{medium:((he=(ne=H.images)==null?void 0:ne.edges[0])==null?void 0:he.node.url)||((xt=(De=(Ke=H.variants)==null?void 0:Ke.edges[0])==null?void 0:De.node.image)==null?void 0:xt.url)||`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(H.title)}`},alt:((Ot=(Zt=H.images)==null?void 0:Zt.edges[0])==null?void 0:Ot.node.altText)||((Vt=(Hn=(Pn=H.variants)==null?void 0:Pn.edges[0])==null?void 0:Hn.node.image)==null?void 0:Vt.altText)||H.title},tags:H.tags,availableForSale:(go=(mo=H.variants)==null?void 0:mo.edges[0])==null?void 0:go.node.availableForSale,rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*100)+10}});n.map(H=>{var ie,de;return{id:H.id,title:H.title,description:H.description,handle:H.handle,productCount:((de=(ie=H.products)==null?void 0:ie.edges)==null?void 0:de.length)||0}});const a=((y=(x=(v=(p=t.brand)==null?void 0:p.colors)==null?void 0:v.primary)==null?void 0:x[0])==null?void 0:y.background)||ss(),l={id:o(),src:{large:((w=(C=(S=t.brand)==null?void 0:S.coverImage)==null?void 0:C.image)==null?void 0:w.url)||`https://via.placeholder.com/1200x800.png?text=${encodeURIComponent(t.name)}`},alt:((T=(b=(E=t.brand)==null?void 0:E.coverImage)==null?void 0:b.image)==null?void 0:T.altText)||t.name},c=((_=(P=(A=t.brand)==null?void 0:A.logo)==null?void 0:P.image)==null?void 0:_.url)||((R=(I=(N=t.brand)==null?void 0:N.squareLogo)==null?void 0:I.image)==null?void 0:R.url),u=i||c||`https://via.placeholder.com/100x100.png?text=${t.name.substring(0,1)}`,d=Im("general",t.name);return{id:`store-shopify-${t.primaryDomain.host.replace(/\./g,"-")}-${o()}`,name:t.name,type:"shopify-imported",description:t.description||((D=t.brand)==null?void 0:D.shortDescription)||((U=t.brand)==null?void 0:U.slogan)||d.heroDescription,products:s,hero_image:l,logo_url:u,theme:{primaryColor:a,secondaryColor:((K=(F=(O=($=t.brand)==null?void 0:$.colors)==null?void 0:O.secondary)==null?void 0:F[0])==null?void 0:K.background)||ss(),fontFamily:yg(),layout:xg()},content:{...d,heroTitle:`Welcome to ${t.name}`,heroDescription:t.description||((L=t.brand)==null?void 0:L.shortDescription)||((M=t.brand)==null?void 0:M.slogan)||d.heroDescription,brandSlogan:(V=t.brand)==null?void 0:V.slogan,brandShortDescription:(z=t.brand)==null?void 0:z.shortDescription},data_source:"shopify"}},fT=g.createContext(null),lt=()=>{const t=g.useContext(fT);if(!t)throw new Error("useStore must be used within a StoreProvider");return t},Wx="ecommerce-cart",UF=({children:t})=>{const[e,n]=g.useState([]),[r,o]=g.useState(null),[i,s]=g.useState(!1),[a,l]=g.useState(!0),[c,u]=g.useState([]),[d,p]=g.useState(null),[v,x]=g.useState("published"),{toast:y}=vr(),S=Gn(),C=G=>{G==="published"||G==="edit"?x(G):(console.warn(`Invalid view mode: ${G}. Defaulting to 'published'.`),x("published"))},[w,E]=g.useState(0),[b,T]=g.useState(""),[A,P]=g.useState(""),[_,N]=g.useState(null),[I,R]=g.useState({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),[D,U]=g.useState({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),[$,O]=g.useState(null),[F,K]=g.useState(!1),[L,M]=g.useState(null),[V,z]=g.useState(null),[H,ie]=g.useState(!1),[de,ye]=g.useState(null),ce=G=>G?G.map(W=>{const j={...W};if(j.logo_url&&j.logo_url.startsWith("data:image/")&&j.logo_url.length>2048&&(j.logo_url=`${j.logo_url.substring(0,30)}...[truncated]`),j.hero_image&&j.hero_image.src){const Y={...j.hero_image.src};Y.large&&Y.large.startsWith("data:image/")&&Y.large.length>2048&&(Y.large=`${Y.large.substring(0,30)}...[truncated]`),Y.medium&&Y.medium.startsWith("data:image/")&&Y.medium.length>2048&&(Y.medium=`${Y.medium.substring(0,30)}...[truncated]`),j.hero_image={...j.hero_image,src:Y}}return j.products&&Array.isArray(j.products)&&(j.products=j.products.map(Y=>{const Z={...Y};if(Z.image&&Z.image.src){const Ce={...Z.image.src};Ce.medium&&Ce.medium.startsWith("data:image/")&&Ce.medium.length>2048&&(Ce.medium=`${Ce.medium.substring(0,30)}...[truncated]`),Ce.large&&Ce.large.startsWith("data:image/")&&Ce.large.length>2048&&(Ce.large=`${Ce.large.substring(0,30)}...[truncated]`),Z.image={...Z.image,src:Ce}}return Z})),j}):[],X=g.useCallback(async G=>{if(!G){l(!1),n([]);return}l(!0);const{data:W,error:j}=await xn.from("stores").select("*").eq("user_id",G).order("created_at",{ascending:!1});if(j){console.error("Error loading stores:",j),y({title:"Error",description:"Failed to load your stores from the cloud.",variant:"destructive"});const Y=localStorage.getItem("ecommerce-stores");if(Y)try{n(JSON.parse(Y))}catch(Z){console.error("Failed to parse localStorage stores:",Z)}}else n(W||[]),localStorage.setItem("ecommerce-stores",JSON.stringify(ce(W||[])));l(!1)},[y]);g.useEffect(()=>{(async()=>{const{data:{session:j}}=await xn.auth.getSession();if(p((j==null?void 0:j.user)??null),j!=null&&j.user)X(j.user.id);else{const Y=localStorage.getItem("ecommerce-stores");if(Y)try{const Z=JSON.parse(Y);n(Z)}catch(Z){console.error("Failed to parse localStorage stores:",Z),n([])}else n([]);l(!1)}})();const{data:W}=xn.auth.onAuthStateChange(async(j,Y)=>{const Z=(Y==null?void 0:Y.user)??null;p(Z),Z?X(Z.id):(n([]),localStorage.removeItem("ecommerce-stores"),l(!1))});return()=>{var j;(j=W==null?void 0:W.subscription)==null||j.unsubscribe()}},[X]),g.useEffect(()=>{localStorage.setItem(Wx,JSON.stringify(c))},[c]),g.useEffect(()=>{const G=localStorage.getItem(Wx);if(G)try{u(JSON.parse(G))}catch(W){console.error("Failed to parse stored cart:",W)}},[]);const le=async G=>{let W={...G},j;if(d){W.user_id=d.id;const{id:Y,...Z}=W,{data:Ce,error:An}=await xn.from("stores").insert(Z).select().single();if(An)return console.error("Error creating store in Supabase:",An),y({title:"Store Creation Failed",description:An.message,variant:"destructive"}),null;j=Ce}else j={...W,id:W.id||Gt(),createdAt:new Date().toISOString()},y({title:"Store Created Locally",description:"Store created locally. Log in to save to the cloud."});return n(Y=>[j,...Y]),o(j),n(Y=>{const Z=[j,...Y.filter(Ce=>Ce.id!==j.id)];return localStorage.setItem("ecommerce-stores",JSON.stringify(ce(Z))),Z}),y({title:"Store Created!",description:`Store "${j.name}" has been created.`}),S(`/store/${j.id}`),j},Ee=async G=>{s(!0);try{const W=await jF(G,{fetchPexelsImages:es,generateId:Gt});return await le(W)}catch(W){return console.error("Error generating store from wizard:",W),y({title:"Wizard Generation Failed",description:W.message||"Failed to generate store.",variant:"destructive"}),null}finally{s(!1)}},fe=async(G,W=null,j=null)=>{s(!0);try{const Y=await FF(G,{storeNameOverride:W,productTypeOverride:j,fetchPexelsImages:es,generateId:Gt});return await le(Y)}catch(Y){return console.error("Error generating store from prompt:",Y),y({title:"Generation Failed",description:Y.message||"Failed to generate store.",variant:"destructive"}),null}finally{s(!1)}},ne=()=>{E(0),T(""),P(""),N(null),R({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),U({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),O(null),K(!1),M(null),z(null),ie(!1),ye(null)},he=async(G,W)=>{s(!0),M(null);try{y({title:"Importing Shopify Store...",description:"Fetching data and creating your store. This may take a moment."});const j=await OF(G,W);if(!j)throw new Error("Failed to fetch Shopify store metadata.");const Z=(await zx(G,W,50)).edges.map(xd=>xd.node),An=(await Bx(G,W,20)).edges.map(xd=>xd.node),tP=Gx(j,Z,An,G,{generateId:Gt},null);if(await le(tP))return ne(),s(!1),!0;throw new Error("Store creation failed after fetching Shopify data.")}catch(j){return console.error("Error during direct Shopify import:",j),M(j.message||"Failed to import Shopify store directly."),y({title:"Shopify Import Failed",description:j.message||"Could not complete the import.",variant:"destructive"}),s(!1),ne(),!1}},Ke=async(G=10,W=null)=>{if(!b||!A){M("Domain or token missing for fetching products.");return}K(!0),M(null);try{const j=await zx(b,A,G,W);R(Y=>({edges:W?[...Y.edges,...j.edges]:j.edges,pageInfo:j.pageInfo}))}catch(j){console.error("Error fetching Shopify products for wizard:",j),M(j.message||"Failed to fetch products."),y({title:"Product Fetch Failed",description:j.message,variant:"destructive"})}finally{K(!1)}},De=async(G=10,W=null)=>{if(!b||!A){M("Domain or token missing for fetching collections.");return}K(!0),M(null);try{const j=await Bx(b,A,G,W);U(Y=>({edges:W?[...Y.edges,...j.edges]:j.edges,pageInfo:j.pageInfo}))}catch(j){console.error("Error fetching Shopify collections for wizard:",j),M(j.message||"Failed to fetch collections."),y({title:"Collection Fetch Failed",description:j.message,variant:"destructive"})}finally{K(!1)}},xt=async(G="US",W="EN")=>{if(!b||!A){M("Domain or token missing for fetching localization.");return}K(!0),M(null);try{const j=await VF(b,A,G,W);O(j)}catch(j){console.error("Error fetching Shopify localization for wizard:",j),M(j.message||"Failed to fetch localization info."),y({title:"Localization Info Fetch Failed",description:j.message,variant:"default"})}finally{K(!1)}},Zt=async()=>{if(console.log("[StoreContext] Attempting to generate Shopify store logo..."),!_||!_.name){console.warn("[StoreContext] Cannot generate logo: Shopify preview metadata or store name is missing.",_),ye("Store name is not available to generate a logo."),y({title:"Logo Generation Error",description:"Store name missing. Ensure Shopify store details were fetched correctly.",variant:"destructive"});return}const G=_.name;console.log(`[StoreContext] Generating logo for store name: "${G}"`),ie(!0),ye(null),z(null);try{throw console.warn("[StoreContext] generateLogoWithGemini call is temporarily disabled due to build issues."),new Error("Logo generation feature is temporarily disabled.")}catch(W){console.error("[StoreContext] Error during Shopify store logo generation (or disabled feature):",W.message,W.stack),ye(W.message||"Failed to generate logo / feature disabled."),y({title:"Logo Generation Failed",description:`Error: ${W.message}`,variant:"destructive"})}finally{ie(!1),console.log("[StoreContext] Finished logo generation attempt (feature might be disabled).")}},Ot=async()=>{if(!_||!b||!A)return y({title:"Import Error",description:"Missing essential Shopify data to finalize import.",variant:"destructive"}),!1;s(!0),M(null);try{const G=I.edges.map(Z=>Z.node),W=D.edges.map(Z=>Z.node),j=Gx(_,G,W,b,{generateId:Gt},V);return await le(j)?(ne(),!0):!1}catch(G){return console.error("Error finalizing Shopify import from wizard:",G),M(G.message||"Failed to finalize Shopify import."),y({title:"Import Failed",description:G.message||"Could not complete Shopify store import.",variant:"destructive"}),!1}finally{s(!1)}},Pn=G=>e.find(W=>W.id===G)||null,Hn=(G,W)=>{const j=Pn(G);return(j==null?void 0:j.products.find(Y=>Y.id===W))||null},Vt=async(G,W)=>{if(!d){n(j=>{const Y=j.map(Z=>Z.id===G?{...Z,...W}:Z);return localStorage.setItem("ecommerce-stores",JSON.stringify(ce(Y))),r&&r.id===G&&o(Z=>Z?{...Z,...W}:null),Y}),y({title:"Store Updated (Locally)",description:"Changes saved locally."});return}l(!0);try{const{data:j,error:Y}=await xn.from("stores").update(W).eq("id",G).eq("user_id",d.id).select().single();if(Y){console.error("Error updating store in Supabase:",Y),y({title:"Update Failed",description:Y.message,variant:"destructive"}),l(!1);return}n(Z=>{const Ce=Z.map(An=>An.id===G?j:An);return localStorage.setItem("ecommerce-stores",JSON.stringify(ce(Ce))),Ce}),r&&r.id===G&&o(j),y({title:"Store Updated",description:"Your store has been updated in the cloud."})}catch(j){console.error("Unexpected error in updateStore:",j),y({title:"Update Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{l(!1)}},mo=async(G,W,j)=>{const Y=e.find(Ce=>Ce.id===G);if(!Y){console.warn(`[StoreContext] updateProductImage: Store with ID ${G} not found.`);return}const Z=Y.products.map(Ce=>Ce.id===W?{...Ce,image:j}:Ce);await Vt(G,{products:Z})},go=async G=>{if(!d){y({title:"Authentication Required",description:"Please log in to delete a store.",variant:"destructive"});return}const W=[...e];n(Y=>{const Z=Y.filter(Ce=>Ce.id!==G);return localStorage.setItem("ecommerce-stores",JSON.stringify(ce(Z))),Z}),r&&r.id===G&&o(null);const{error:j}=await xn.from("stores").delete().eq("id",G).eq("user_id",d.id);if(j){console.error("Error deleting store from Supabase:",j),y({title:"Deletion Failed",description:j.message,variant:"destructive"}),n(W),localStorage.setItem("ecommerce-stores",JSON.stringify(ce(W))),W.find(Y=>Y.id===G)&&o(W.find(Y=>Y.id===G)||null);return}y({title:"Store Deleted",description:"Your store has been deleted."})},pl=(G,W)=>{u(j=>j.find(Z=>Z.id===G.id&&Z.storeId===W)?j.map(Z=>Z.id===G.id&&Z.storeId===W?{...Z,quantity:Z.quantity+1}:Z):[...j,{...G,quantity:1,storeId:W}]),y({title:"Added to Cart",description:`${G.name} has been added to your cart.`})},As=(G,W)=>{u(j=>j.filter(Y=>!(Y.id===G&&Y.storeId===W))),y({title:"Removed from Cart",description:"Item removed from your cart.",variant:"destructive"})},Te={stores:e,currentStore:r,isGenerating:i,isLoadingStores:a,cart:c,user:d,generateStore:fe,getStoreById:Pn,updateStore:Vt,deleteStore:go,setCurrentStore:o,getProductById:Hn,updateProductImage:mo,generateStoreFromWizard:Ee,addToCart:pl,removeFromCart:As,updateQuantity:(G,W,j)=>{if(j<1){As(G,W);return}u(Y=>Y.map(Z=>Z.id===G&&Z.storeId===W?{...Z,quantity:j}:Z))},clearCart:()=>{u([]),y({title:"Cart Cleared",description:"Your shopping cart is now empty."})},generateAIProducts:dT,viewMode:v,setViewMode:C,shopifyWizardStep:w,setShopifyWizardStep:E,shopifyDomain:b,shopifyToken:A,shopifyPreviewMetadata:_,shopifyPreviewProducts:I,shopifyPreviewCollections:D,shopifyLocalization:$,isFetchingShopifyPreviewData:F,shopifyImportError:L,generatedLogoImage:V,isGeneratingLogo:H,logoGenerationError:de,startShopifyImportWizard:he,fetchShopifyWizardProducts:Ke,fetchShopifyWizardCollections:De,fetchShopifyWizardLocalization:xt,generateShopifyStoreLogo:Zt,finalizeShopifyImportFromWizard:Ot,resetShopifyWizardState:ne};return f.jsx(fT.Provider,{value:Te,children:t})},qt=k.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qt.displayName="Card";const Ln=k.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));Ln.displayName="CardHeader";const jn=k.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));jn.displayName="CardTitle";const cr=k.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));cr.displayName="CardDescription";const Sn=k.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));Sn.displayName="CardContent";const Ss=k.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));Ss.displayName="CardFooter";const Hx=["Create a luxury jewelry store called 'Elegance' with diamond rings and gold necklaces, featuring a dark, sophisticated theme.","Build a tech gadget store named 'FutureTech' with the latest smartphones and accessories, using a futuristic blue and silver color scheme.","Design an organic food market 'GreenHarvest' with fresh produce and healthy snacks, emphasizing natural textures and earthy tones.","Make a trendy fashion boutique 'Urban Threads' with summer dresses and casual wear, aiming for a bright, minimalist aesthetic."],BF=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(null),{generateStore:o,isGenerating:i}=lt(),s=l=>{r(l),e(Hx[l])},a=async l=>{l.preventDefault(),t.trim()&&await o(t)};return f.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:f.jsxs(qt,{className:"border-2 shadow-lg",children:[f.jsxs(Ln,{children:[f.jsx(jn,{className:"text-2xl font-bold",children:"Generate Store with AI Prompt"}),f.jsx(cr,{children:"Describe your dream store in detail. The AI will use your store name, product types, and style preferences to create it."})]}),f.jsx(Sn,{children:f.jsxs("form",{onSubmit:a,className:"space-y-4",children:[f.jsx(no,{placeholder:"e.g., 'A vibrant bookstore named BookNook, specializing in fantasy novels and graphic novels. Use a cozy, warm color palette with lots of wood textures. Feature at least 6 book products.'",className:"min-h-[120px] text-base resize-none",value:t,onChange:l=>e(l.target.value),disabled:i}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Or try one of these examples for inspiration:"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Hx.map((l,c)=>f.jsx(q,{type:"button",variant:n===c?"default":"outline",className:"h-auto py-2 px-3 justify-start text-left text-sm font-normal",onClick:()=>s(c),disabled:i,children:l},c))})]})]})}),f.jsx(Ss,{children:f.jsx(q,{onClick:a,disabled:!t.trim()||i,className:"w-full",size:"lg",children:i?f.jsxs(f.Fragment,{children:[f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Store..."]}):f.jsxs(f.Fragment,{children:[f.jsx(ja,{className:"mr-2 h-4 w-4"}),"Generate AI Store"]})})})]})})};var zF=xu[" useId ".trim().toString()]||(()=>{}),GF=0;function fa(t){const[e,n]=g.useState(zF());return ts(()=>{t||n(r=>r??String(GF++))},[t]),t||(e?`radix-${e}`:"")}var vf="focusScope.autoFocusOnMount",yf="focusScope.autoFocusOnUnmount",qx={bubbles:!1,cancelable:!0},WF="FocusScope",hT=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=t,[a,l]=g.useState(null),c=Un(o),u=Un(i),d=g.useRef(null),p=Tt(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(E){if(v.paused||!a)return;const b=E.target;a.contains(b)?d.current=b:_r(d.current,{select:!0})},S=function(E){if(v.paused||!a)return;const b=E.relatedTarget;b!==null&&(a.contains(b)||_r(d.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&_r(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const w=new MutationObserver(C);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){Yx.add(v);const y=document.activeElement;if(!a.contains(y)){const C=new CustomEvent(vf,qx);a.addEventListener(vf,c),a.dispatchEvent(C),C.defaultPrevented||(HF(XF(pT(a)),{select:!0}),document.activeElement===y&&_r(a))}return()=>{a.removeEventListener(vf,c),setTimeout(()=>{const C=new CustomEvent(yf,qx);a.addEventListener(yf,u),a.dispatchEvent(C),C.defaultPrevented||_r(y??document.body,{select:!0}),a.removeEventListener(yf,u),Yx.remove(v)},0)}}},[a,c,u,v]);const x=g.useCallback(y=>{if(!n&&!r||v.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(S&&C){const w=y.currentTarget,[E,b]=qF(w);E&&b?!y.shiftKey&&C===b?(y.preventDefault(),n&&_r(E,{select:!0})):y.shiftKey&&C===E&&(y.preventDefault(),n&&_r(b,{select:!0})):C===w&&y.preventDefault()}},[n,r,v.paused]);return f.jsx(Fe.div,{tabIndex:-1,...s,ref:p,onKeyDown:x})});hT.displayName=WF;function HF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_r(r,{select:e}),document.activeElement!==n)return}function qF(t){const e=pT(t),n=Kx(e,t),r=Kx(e.reverse(),t);return[n,r]}function pT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Kx(t,e){for(const n of t)if(!KF(n,{upTo:e}))return n}function KF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YF(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YF(t)&&e&&t.select()}}var Yx=JF();function JF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Jx(t,e),t.unshift(e)},remove(e){var n;t=Jx(t,e),(n=t[0])==null||n.resume()}}}function Jx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XF(t){return t.filter(e=>e.tagName!=="A")}var xf=0;function QF(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Xx()),document.body.insertAdjacentElement("beforeend",t[1]??Xx()),xf++,()=>{xf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xf--}},[])}function Xx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gt=function(){return gt=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gt.apply(this,arguments)};function wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function mT(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ha="right-scroll-bar-position",pa="width-before-scroll-bar",ZF="with-scroll-bars-hidden",eO="--removed-body-scroll-bar-size";function wf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tO(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var nO=typeof window<"u"?g.useLayoutEffect:g.useEffect,Qx=new WeakMap;function gT(t,e){var n=tO(e||null,function(r){return t.forEach(function(o){return wf(o,r)})});return nO(function(){var r=Qx.get(n);if(r){var o=new Set(r),i=new Set(t),s=n.current;o.forEach(function(a){i.has(a)||wf(a,null)}),i.forEach(function(a){o.has(a)||wf(a,s)})}Qx.set(n,t)},[t]),n}function rO(t){return t}function oO(t,e){e===void 0&&(e=rO);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var s=e(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function vT(t){t===void 0&&(t={});var e=oO(null);return e.options=gt({async:!0,ssr:!1},t),e}var yT=function(t){var e=t.sideCar,n=wg(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,gt({},n))};yT.isSideCarExport=!0;function xT(t,e){return t.useMedium(e),yT}var wT=vT(),Cf=function(){},id=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Cf,onWheelCapture:Cf,onTouchMoveCapture:Cf}),o=r[0],i=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,w=t.gapMode,E=wg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,T=gT([n,e]),A=gt(gt({},E),o);return g.createElement(g.Fragment,null,u&&g.createElement(b,{sideCar:wT,removeScrollBar:c,shards:d,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),s?g.cloneElement(g.Children.only(a),gt(gt({},A),{ref:T})):g.createElement(C,gt({},A,{className:l,ref:T}),a))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:pa,zeroRight:ha};var Zx,iO=function(){if(Zx)return Zx;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iO();return e&&t.setAttribute("nonce",e),t}function aO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function lO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sO())&&(aO(e,n),lO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uO=function(){var t=cO();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Cg=function(){var t=uO(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},dO={left:0,top:0,right:0,gap:0},Sf=function(t){return parseInt(t||"",10)||0},fO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Sf(n),Sf(r),Sf(o)]},hO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dO;var e=fO(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},pO=Cg(),zi="data-scroll-locked",mO=function(t,e,n,r){var o=t.left,i=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ha,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pa,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ha," .").concat(ha,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pa," .").concat(pa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zi,`] {
    `).concat(eO,": ").concat(a,`px;
  }
`)},e1=function(){var t=parseInt(document.body.getAttribute(zi)||"0",10);return isFinite(t)?t:0},gO=function(){g.useEffect(function(){return document.body.setAttribute(zi,(e1()+1).toString()),function(){var t=e1()-1;t<=0?document.body.removeAttribute(zi):document.body.setAttribute(zi,t.toString())}},[])},CT=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;gO();var i=g.useMemo(function(){return hO(o)},[o]);return g.createElement(pO,{styles:mO(i,!e,o,n?"":"!important")})},pp=!1;if(typeof window<"u")try{var Kl=Object.defineProperty({},"passive",{get:function(){return pp=!0,!0}});window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{pp=!1}var di=pp?{passive:!1}:!1,vO=function(t){return t.tagName==="TEXTAREA"},ST=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vO(t)&&n[e]==="visible")},yO=function(t){return ST(t,"overflowY")},xO=function(t){return ST(t,"overflowX")},t1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=ET(t,r);if(o){var i=bT(t,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wO=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},CO=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ET=function(t,e){return t==="v"?yO(e):xO(e)},bT=function(t,e){return t==="v"?wO(e):CO(e)},SO=function(t,e){return t==="h"&&e==="rtl"?-1:1},EO=function(t,e,n,r,o){var i=SO(t,window.getComputedStyle(e).direction),s=i*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,p=0;do{var v=bT(t,a),x=v[0],y=v[1],S=v[2],C=y-S-i*x;(x||C)&&ET(t,a)&&(d+=C,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(o&&Math.abs(d)<1||!o&&s>d)||!u&&(o&&Math.abs(p)<1||!o&&-s>p))&&(c=!0),c},Yl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n1=function(t){return[t.deltaX,t.deltaY]},r1=function(t){return t&&"current"in t?t.current:t},bO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},TO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_O=0,fi=[];function PO(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(_O++)[0],i=g.useState(Cg)[0],s=g.useRef(t);g.useEffect(function(){s.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var y=mT([t.lockRef.current],(t.shards||[]).map(r1),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var C=Yl(y),w=n.current,E="deltaX"in y?y.deltaX:w[0]-C[0],b="deltaY"in y?y.deltaY:w[1]-C[1],T,A=y.target,P=Math.abs(E)>Math.abs(b)?"h":"v";if("touches"in y&&P==="h"&&A.type==="range")return!1;var _=t1(P,A);if(!_)return!0;if(_?T=P:(T=P==="v"?"h":"v",_=t1(P,A)),!_)return!1;if(!r.current&&"changedTouches"in y&&(E||b)&&(r.current=T),!T)return!0;var N=r.current||T;return EO(N,S,y,N==="h"?E:b,!0)},[]),l=g.useCallback(function(y){var S=y;if(!(!fi.length||fi[fi.length-1]!==i)){var C="deltaY"in S?n1(S):Yl(S),w=e.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&bO(T.delta,C)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var E=(s.current.shards||[]).map(r1).filter(Boolean).filter(function(T){return T.contains(S.target)}),b=E.length>0?a(S,E[0]):!s.current.noIsolation;b&&S.cancelable&&S.preventDefault()}}},[]),c=g.useCallback(function(y,S,C,w){var E={name:y,delta:S,target:C,should:w,shadowParent:AO(C)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(b){return b!==E})},1)},[]),u=g.useCallback(function(y){n.current=Yl(y),r.current=void 0},[]),d=g.useCallback(function(y){c(y.type,n1(y),y.target,a(y,t.lockRef.current))},[]),p=g.useCallback(function(y){c(y.type,Yl(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return fi.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,di),document.addEventListener("touchmove",l,di),document.addEventListener("touchstart",u,di),function(){fi=fi.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,di),document.removeEventListener("touchmove",l,di),document.removeEventListener("touchstart",u,di)}},[]);var v=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:TO(o)}):null,v?g.createElement(CT,{gapMode:t.gapMode}):null)}function AO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kO=xT(wT,PO);var TT=g.forwardRef(function(t,e){return g.createElement(id,gt({},t,{ref:e,sideCar:kO}))});TT.classNames=id.classNames;const NO=TT;var IO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hi=new WeakMap,Jl=new WeakMap,Xl={},Ef=0,_T=function(t){return t&&(t.host||_T(t.parentNode))},RO=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_T(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MO=function(t,e,n,r){var o=RO(e,Array.isArray(t)?t:[t]);Xl[n]||(Xl[n]=new WeakMap);var i=Xl[n],s=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var v=p.getAttribute(r),x=v!==null&&v!=="false",y=(hi.get(p)||0)+1,S=(i.get(p)||0)+1;hi.set(p,y),i.set(p,S),s.push(p),y===1&&x&&Jl.set(p,!0),S===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",p,C)}})};return u(e),a.clear(),Ef++,function(){s.forEach(function(d){var p=hi.get(d)-1,v=i.get(d)-1;hi.set(d,p),i.set(d,v),p||(Jl.has(d)||d.removeAttribute(r),Jl.delete(d)),v||d.removeAttribute(n)}),Ef--,Ef||(hi=new WeakMap,hi=new WeakMap,Jl=new WeakMap,Xl={})}},PT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=e||IO(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),MO(r,o,n,"aria-hidden")):function(){return null}},sd="Dialog",[AT,kT]=ys(sd),[$O,_n]=AT(sd),NT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=t,a=g.useRef(null),l=g.useRef(null),[c,u]=Vu({prop:r,defaultProp:o??!1,onChange:i,caller:sd});return f.jsx($O,{scope:e,triggerRef:a,contentRef:l,contentId:fa(),titleId:fa(),descriptionId:fa(),open:c,onOpenChange:u,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};NT.displayName=sd;var IT="DialogTrigger",RT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=_n(IT,n),i=Tt(e,o.triggerRef);return f.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":bg(o.open),...r,ref:i,onClick:Pe(t.onClick,o.onOpenToggle)})});RT.displayName=IT;var Sg="DialogPortal",[DO,MT]=AT(Sg,{forceMount:void 0}),$T=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,i=_n(Sg,e);return f.jsx(DO,{scope:e,forceMount:n,children:g.Children.map(r,s=>f.jsx(xs,{present:n||i.open,children:f.jsx(Mm,{asChild:!0,container:o,children:s})}))})};$T.displayName=Sg;var du="DialogOverlay",DT=g.forwardRef((t,e)=>{const n=MT(du,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=_n(du,t.__scopeDialog);return i.modal?f.jsx(xs,{present:r||i.open,children:f.jsx(jO,{...o,ref:e})}):null});DT.displayName=du;var LO=La("DialogOverlay.RemoveScroll"),jO=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=_n(du,n);return f.jsx(NO,{as:LO,allowPinchZoom:!0,shards:[o.contentRef],children:f.jsx(Fe.div,{"data-state":bg(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Go="DialogContent",LT=g.forwardRef((t,e)=>{const n=MT(Go,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=_n(Go,t.__scopeDialog);return f.jsx(xs,{present:r||i.open,children:i.modal?f.jsx(FO,{...o,ref:e}):f.jsx(OO,{...o,ref:e})})});LT.displayName=Go;var FO=g.forwardRef((t,e)=>{const n=_n(Go,t.__scopeDialog),r=g.useRef(null),o=Tt(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return PT(i)},[]),f.jsx(jT,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,i=>i.preventDefault())})}),OO=g.forwardRef((t,e)=>{const n=_n(Go,t.__scopeDialog),r=g.useRef(!1),o=g.useRef(!1);return f.jsx(jT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),jT=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=t,a=_n(Go,n),l=g.useRef(null),c=Tt(e,l);return QF(),f.jsxs(f.Fragment,{children:[f.jsx(hT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:f.jsx(Rm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bg(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(UO,{titleId:a.titleId}),f.jsx(zO,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Eg="DialogTitle",FT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=_n(Eg,n);return f.jsx(Fe.h2,{id:o.titleId,...r,ref:e})});FT.displayName=Eg;var OT="DialogDescription",VT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=_n(OT,n);return f.jsx(Fe.p,{id:o.descriptionId,...r,ref:e})});VT.displayName=OT;var UT="DialogClose",BT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=_n(UT,n);return f.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Pe(t.onClick,()=>o.onOpenChange(!1))})});BT.displayName=UT;function bg(t){return t?"open":"closed"}var zT="DialogTitleWarning",[VO,GT]=c$(zT,{contentName:Go,titleName:Eg,docsSlug:"dialog"}),UO=({titleId:t})=>{const e=GT(zT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},BO="DialogDescriptionWarning",zO=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GT(BO).contentName}}.`;return g.useEffect(()=>{var i;const o=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},WT=NT,GO=RT,HT=$T,Tg=DT,_g=LT,Pg=FT,Ag=VT,ad=BT,qT="AlertDialog",[WO,ZW]=ys(qT,[kT]),yr=kT(),KT=t=>{const{__scopeAlertDialog:e,...n}=t,r=yr(e);return f.jsx(WT,{...r,...n,modal:!0})};KT.displayName=qT;var HO="AlertDialogTrigger",YT=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=yr(n);return f.jsx(GO,{...o,...r,ref:e})});YT.displayName=HO;var qO="AlertDialogPortal",JT=t=>{const{__scopeAlertDialog:e,...n}=t,r=yr(e);return f.jsx(HT,{...r,...n})};JT.displayName=qO;var KO="AlertDialogOverlay",XT=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=yr(n);return f.jsx(Tg,{...o,...r,ref:e})});XT.displayName=KO;var Gi="AlertDialogContent",[YO,JO]=WO(Gi),XO=h$("AlertDialogContent"),QT=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...o}=t,i=yr(n),s=g.useRef(null),a=Tt(e,s),l=g.useRef(null);return f.jsx(VO,{contentName:Gi,titleName:ZT,docsSlug:"alert-dialog",children:f.jsx(YO,{scope:n,cancelRef:l,children:f.jsxs(_g,{role:"alertdialog",...i,...o,ref:a,onOpenAutoFocus:Pe(o.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(XO,{children:r}),f.jsx(ZO,{contentRef:s})]})})})});QT.displayName=Gi;var ZT="AlertDialogTitle",e2=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=yr(n);return f.jsx(Pg,{...o,...r,ref:e})});e2.displayName=ZT;var t2="AlertDialogDescription",n2=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=yr(n);return f.jsx(Ag,{...o,...r,ref:e})});n2.displayName=t2;var QO="AlertDialogAction",r2=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=yr(n);return f.jsx(ad,{...o,...r,ref:e})});r2.displayName=QO;var o2="AlertDialogCancel",i2=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:o}=JO(o2,n),i=yr(n),s=Tt(e,o);return f.jsx(ad,{...i,...r,ref:s})});i2.displayName=o2;var ZO=({contentRef:t})=>{const e=`\`${Gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gi}\` by passing a \`${t2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},eV=KT,tV=YT,nV=JT,s2=XT,a2=QT,l2=r2,c2=i2,u2=e2,d2=n2;const rV=eV,oV=tV,iV=nV,f2=k.forwardRef(({className:t,...e},n)=>f.jsx(s2,{className:ae("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));f2.displayName=s2.displayName;const h2=k.forwardRef(({className:t,...e},n)=>f.jsxs(iV,{children:[f.jsx(f2,{}),f.jsx(a2,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));h2.displayName=a2.displayName;const p2=({className:t,...e})=>f.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});p2.displayName="AlertDialogHeader";const m2=({className:t,...e})=>f.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});m2.displayName="AlertDialogFooter";const g2=k.forwardRef(({className:t,...e},n)=>f.jsx(u2,{ref:n,className:ae("text-lg font-semibold",t),...e}));g2.displayName=u2.displayName;const v2=k.forwardRef(({className:t,...e},n)=>f.jsx(d2,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));v2.displayName=d2.displayName;const y2=k.forwardRef(({className:t,...e},n)=>f.jsx(l2,{ref:n,className:ae(ug(),t),...e}));y2.displayName=l2.displayName;const x2=k.forwardRef(({className:t,...e},n)=>f.jsx(c2,{ref:n,className:ae(ug({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));x2.displayName=c2.displayName;const sV=({store:t})=>{const e=Gn(),{deleteStore:n}=lt(),r=i=>{if(!i)return"N/A";try{const s=new Date(i);return isNaN(s.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(s)}catch(s){return console.error("Error formatting date:",i,s),"Error Date"}},o=i=>{switch(i){case"fashion":return f.jsx(Bu,{className:"h-5 w-5 text-pink-500"});case"electronics":return f.jsx(Ol,{className:"h-5 w-5 text-blue-500"});case"food":return f.jsx(Ol,{className:"h-5 w-5 text-green-500"});case"jewelry":return f.jsx(Ol,{className:"h-5 w-5 text-amber-500"});default:return f.jsx(Ol,{className:"h-5 w-5 text-gray-500"})}};return f.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"store-preview",children:f.jsxs(qt,{className:"h-full overflow-hidden border-2 hover:border-primary/50 transition-all duration-300",children:[f.jsxs(Ln,{className:"pb-2",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[o(t.type),f.jsx(jn,{className:"text-xl",children:t.name})]}),f.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]}),f.jsx(cr,{className:"line-clamp-2 mt-1",children:t.description})]}),f.jsxs(Sn,{className:"pb-2",children:[f.jsxs("div",{className:"flex items-center text-sm text-muted-foreground gap-1 mb-3",children:[f.jsx(nD,{className:"h-3.5 w-3.5 mr-1"}),"Created on ",r(t.createdAt)]}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.products.slice(0,4).map((i,s)=>f.jsxs("div",{className:"bg-muted/50 p-2 rounded-md text-xs flex flex-col",children:[f.jsx("span",{className:"font-medium truncate",children:i.name}),f.jsxs("span",{className:"text-primary",children:["$",i.price.toFixed(2)]})]},i.id))})]}),f.jsxs(Ss,{className:"flex justify-between pt-2",children:[f.jsx(q,{variant:"outline",size:"sm",onClick:()=>e(`/store/${t.id}`),children:"Preview"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(q,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>e(`/store/${t.id}?edit=true`),children:[f.jsx(cE,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Edit"})]}),f.jsxs(rV,{children:[f.jsx(oV,{asChild:!0,children:f.jsxs(q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:[f.jsx(Um,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Delete"})]})}),f.jsxs(h2,{children:[f.jsxs(p2,{children:[f.jsx(g2,{children:"Are you sure?"}),f.jsxs(v2,{children:['This will permanently delete the "',t.name,'" store and all its data. This action cannot be undone.']})]}),f.jsxs(m2,{children:[f.jsx(x2,{children:"Cancel"}),f.jsx(y2,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>n(t.id),children:"Delete"})]})]})]})]})]})]})})},aV=()=>{const{stores:t}=lt();return t.length===0?null:f.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"w-full max-w-6xl mx-auto mt-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Stores"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>f.jsx(sV,{store:e},e.id))})]})},as=WT,lV=HT,mp=ad,w2=k.forwardRef(({className:t,...e},n)=>f.jsx(Tg,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));w2.displayName=Tg.displayName;const Wo=k.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(lV,{children:[f.jsx(w2,{}),f.jsxs(_g,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(ad,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Fa,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wo.displayName=_g.displayName;const Ho=({className:t,...e})=>f.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ho.displayName="DialogHeader";const qo=({className:t,...e})=>f.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});qo.displayName="DialogFooter";const Ko=k.forwardRef(({className:t,...e},n)=>f.jsx(Pg,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Ko.displayName=Pg.displayName;const ll=k.forwardRef(({className:t,...e},n)=>f.jsx(Ag,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));ll.displayName=Ag.displayName;const Se=k.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Se.displayName="Input";var cV="Label",C2=g.forwardRef((t,e)=>f.jsx(Fe.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));C2.displayName=cV;var S2=C2;const pe=k.forwardRef(({className:t,...e},n)=>f.jsx(S2,{ref:n,className:ae("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));pe.displayName=S2.displayName;const uV=({open:t,onOpenChange:e,onSuccessfulConnect:n})=>{const[r,o]=g.useState(""),[i,s]=g.useState(""),{startShopifyImportWizard:a,isFetchingShopifyPreviewData:l,shopifyImportError:c,setShopifyWizardStep:u}=lt(),d=async p=>{if(p.preventDefault(),!r||!i){alert("Please enter both Shopify domain and access token.");return}await a(r,i)&&n&&n()};return f.jsx(as,{open:t,onOpenChange:p=>{e(p)},children:f.jsxs(Wo,{className:"sm:max-w-[425px]",children:[f.jsxs(Ho,{children:[f.jsx(Ko,{children:"Connect to Shopify"}),f.jsx(ll,{children:"Enter your Shopify store domain and Storefront Access Token to begin importing."})]}),f.jsxs("form",{onSubmit:d,className:"grid gap-4 py-4",children:[c&&f.jsx("div",{className:"col-span-4 p-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded",children:c}),f.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[f.jsx(pe,{htmlFor:"domain",className:"text-right",children:"Domain"}),f.jsx(Se,{id:"domain",value:r,onChange:p=>o(p.target.value),placeholder:s$,className:"col-span-3",disabled:l})]}),f.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[f.jsx(pe,{htmlFor:"token",className:"text-right",children:"Token"}),f.jsx(Se,{id:"token",type:"password",value:i,onChange:p=>s(p.target.value),placeholder:"Storefront Access Token",className:"col-span-3",disabled:l})]}),f.jsxs(qo,{children:[f.jsx(q,{type:"button",variant:"outline",disabled:l,onClick:()=>e(!1),children:"Cancel"}),f.jsx(q,{type:"submit",disabled:l||!r||!i,children:l?f.jsxs(f.Fragment,{children:[f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Connect & Fetch Info"})]})]})]})})};function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},te.apply(null,arguments)}function dV(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function E2(...t){return e=>t.forEach(n=>dV(n,e))}function ri(...t){return g.useCallback(E2(...t),t)}const b2=g.forwardRef((t,e)=>{const{children:n,...r}=t,o=g.Children.toArray(n),i=o.find(hV);if(i){const s=i.props.children,a=o.map(l=>l===i?g.Children.count(s)>1?g.Children.only(null):g.isValidElement(s)?s.props.children:null:l);return g.createElement(gp,te({},r,{ref:e}),g.isValidElement(s)?g.cloneElement(s,void 0,a):null)}return g.createElement(gp,te({},r,{ref:e}),n)});b2.displayName="Slot";const gp=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...pV(r,n.props),ref:e?E2(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});gp.displayName="SlotClone";const fV=({children:t})=>g.createElement(g.Fragment,null,t);function hV(t){return g.isValidElement(t)&&t.type===fV}function pV(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}const mV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cl=mV.reduce((t,e)=>{const n=g.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?b2:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(a,te({},s,{ref:o}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),vp=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function gV(t,e){return g.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const ul=t=>{const{present:e,children:n}=t,r=vV(e),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ri(r.ref,o.ref);return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:i}):null};ul.displayName="Presence";function vV(t){const[e,n]=g.useState(),r=g.useRef({}),o=g.useRef(t),i=g.useRef("none"),s=t?"mounted":"unmounted",[a,l]=gV(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Ql(r.current);i.current=a==="mounted"?c:"none"},[a]),vp(()=>{const c=r.current,u=o.current;if(u!==t){const p=i.current,v=Ql(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),vp(()=>{if(e){const c=d=>{const v=Ql(r.current).includes(d.animationName);d.target===e&&v&&mr.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=Ql(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ql(t){return(t==null?void 0:t.animationName)||"none"}function yV(t,e=[]){let n=[];function r(i,s){const a=g.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:p,children:v,...x}=d,y=(p==null?void 0:p[t][l])||a,S=g.useMemo(()=>x,Object.values(x));return g.createElement(y.Provider,{value:S},v)}function u(d,p){const v=(p==null?void 0:p[t][l])||a,x=g.useContext(v);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>g.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,xV(o,...e)]}function xV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Po(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const wV=g.createContext(void 0);function CV(t){const e=g.useContext(wV);return t||e||"ltr"}function SV(t,[e,n]){return Math.min(n,Math.max(e,t))}function Lo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function EV(t,e){return g.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const T2="ScrollArea",[_2,eH]=yV(T2),[bV,fn]=_2(T2),TV=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...s}=t,[a,l]=g.useState(null),[c,u]=g.useState(null),[d,p]=g.useState(null),[v,x]=g.useState(null),[y,S]=g.useState(null),[C,w]=g.useState(0),[E,b]=g.useState(0),[T,A]=g.useState(!1),[P,_]=g.useState(!1),N=ri(e,R=>l(R)),I=CV(o);return g.createElement(bV,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:T,onScrollbarXEnabledChange:A,scrollbarY:y,onScrollbarYChange:S,scrollbarYEnabled:P,onScrollbarYEnabledChange:_,onCornerWidthChange:w,onCornerHeightChange:b},g.createElement(cl.div,te({dir:I},s,{ref:N,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})))}),_V="ScrollAreaViewport",PV=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,...o}=t,i=fn(_V,n),s=g.useRef(null),a=ri(e,s,i.onViewportChange);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(cl.div,te({"data-radix-scroll-area-viewport":""},o,{ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style}}),g.createElement("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),xr="ScrollAreaScrollbar",P2=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=fn(xr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=o,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):s(!0),()=>{a?i(!1):s(!1)}),[a,i,s]),o.type==="hover"?g.createElement(AV,te({},r,{ref:e,forceMount:n})):o.type==="scroll"?g.createElement(kV,te({},r,{ref:e,forceMount:n})):o.type==="auto"?g.createElement(A2,te({},r,{ref:e,forceMount:n})):o.type==="always"?g.createElement(kg,te({},r,{ref:e})):null}),AV=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=fn(xr,t.__scopeScrollArea),[i,s]=g.useState(!1);return g.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),g.createElement(ul,{present:n||i},g.createElement(A2,te({"data-state":i?"visible":"hidden"},r,{ref:e})))}),kV=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=fn(xr,t.__scopeScrollArea),i=t.orientation==="horizontal",s=cd(()=>l("SCROLL_END"),100),[a,l]=EV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),g.useEffect(()=>{const c=o.viewport,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const p=()=>{const v=c[u];d!==v&&(l("SCROLL"),s()),d=v};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[o.viewport,i,l,s]),g.createElement(ul,{present:n||a!=="hidden"},g.createElement(kg,te({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:Lo(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Lo(t.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),A2=g.forwardRef((t,e)=>{const n=fn(xr,t.__scopeScrollArea),{forceMount:r,...o}=t,[i,s]=g.useState(!1),a=t.orientation==="horizontal",l=cd(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return ls(n.viewport,l),ls(n.content,l),g.createElement(ul,{present:r||i},g.createElement(kg,te({"data-state":i?"visible":"hidden"},o,{ref:e})))}),kg=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,o=fn(xr,t.__scopeScrollArea),i=g.useRef(null),s=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=R2(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function d(p,v){return jV(p,s.current,a,v)}return n==="horizontal"?g.createElement(NV,te({},u,{ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const p=o.viewport.scrollLeft,v=o1(p,a,o.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=d(p,o.dir))}})):n==="vertical"?g.createElement(IV,te({},u,{ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const p=o.viewport.scrollTop,v=o1(p,a);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=d(p))}})):null}),NV=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,i=fn(xr,t.__scopeScrollArea),[s,a]=g.useState(),l=g.useRef(null),c=ri(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.createElement(N2,te({"data-orientation":"horizontal"},o,{ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ld(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),$2(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:fu(s.paddingLeft),paddingEnd:fu(s.paddingRight)}})}}))}),IV=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,i=fn(xr,t.__scopeScrollArea),[s,a]=g.useState(),l=g.useRef(null),c=ri(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.createElement(N2,te({"data-orientation":"vertical"},o,{ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ld(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),$2(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:fu(s.paddingTop),paddingEnd:fu(s.paddingBottom)}})}}))}),[RV,k2]=_2(xr),N2=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...p}=t,v=fn(xr,n),[x,y]=g.useState(null),S=ri(e,N=>y(N)),C=g.useRef(null),w=g.useRef(""),E=v.viewport,b=r.content-r.viewport,T=Po(u),A=Po(l),P=cd(d,10);function _(N){if(C.current){const I=N.clientX-C.current.left,R=N.clientY-C.current.top;c({x:I,y:R})}}return g.useEffect(()=>{const N=I=>{const R=I.target;(x==null?void 0:x.contains(R))&&T(I,b)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[E,x,b,T]),g.useEffect(A,[r,A]),ls(x,P),ls(v.content,P),g.createElement(RV,{scope:n,scrollbar:x,hasThumb:o,onThumbChange:Po(i),onThumbPointerUp:Po(s),onThumbPositionChange:A,onThumbPointerDown:Po(a)},g.createElement(cl.div,te({},p,{ref:S,style:{position:"absolute",...p.style},onPointerDown:Lo(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),C.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),_(N))}),onPointerMove:Lo(t.onPointerMove,_),onPointerUp:Lo(t.onPointerUp,N=>{const I=N.target;I.hasPointerCapture(N.pointerId)&&I.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),C.current=null})})))}),yp="ScrollAreaThumb",MV=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=k2(yp,t.__scopeScrollArea);return g.createElement(ul,{present:n||o.hasThumb},g.createElement($V,te({ref:e},r)))}),$V=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...o}=t,i=fn(yp,n),s=k2(yp,n),{onThumbPositionChange:a}=s,l=ri(e,d=>s.onThumbChange(d)),c=g.useRef(),u=cd(()=>{c.current&&(c.current(),c.current=void 0)},100);return g.useEffect(()=>{const d=i.viewport;if(d){const p=()=>{if(u(),!c.current){const v=FV(d,a);c.current=v,a()}};return a(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,u,a]),g.createElement(cl.div,te({"data-state":s.hasThumb?"visible":"hidden"},o,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Lo(t.onPointerDownCapture,d=>{const v=d.target.getBoundingClientRect(),x=d.clientX-v.left,y=d.clientY-v.top;s.onThumbPointerDown({x,y})}),onPointerUp:Lo(t.onPointerUp,s.onThumbPointerUp)}))}),I2="ScrollAreaCorner",DV=g.forwardRef((t,e)=>{const n=fn(I2,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.createElement(LV,te({},t,{ref:e})):null}),LV=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,o=fn(I2,n),[i,s]=g.useState(0),[a,l]=g.useState(0),c=!!(i&&a);return ls(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)===null||u===void 0?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),ls(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)===null||u===void 0?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),s(d)}),c?g.createElement(cl.div,te({},r,{ref:e,style:{width:i,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}})):null});function fu(t){return t?parseInt(t,10):0}function R2(t,e){const n=t/e;return isNaN(n)?0:n}function ld(t){const e=R2(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function jV(t,e,n,r="ltr"){const o=ld(n),i=o/2,s=e||i,a=o-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return M2([l,c],d)(t)}function o1(t,e,n="ltr"){const r=ld(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-o,s=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,s]:[s*-1,0],c=SV(t,l);return M2([0,s],[0,a])(c)}function M2(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function $2(t,e){return t>0&&t<e}const FV=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function o(){const i={left:t.scrollLeft,top:t.scrollTop},s=n.left!==i.left,a=n.top!==i.top;(s||a)&&e(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function cd(t,e){const n=Po(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ls(t,e){const n=Po(e);vp(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,n])}const D2=TV,OV=PV,VV=DV,za=k.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(D2,{ref:r,className:ae("relative overflow-hidden",t),...n,children:[f.jsx(OV,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(L2,{}),f.jsx(VV,{})]}));za.displayName=D2.displayName;const L2=k.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(P2,{ref:r,orientation:e,className:ae("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(MV,{className:"relative flex-1 rounded-full bg-border"})}));L2.displayName=P2.displayName;const UV=()=>{var a,l;const{shopifyPreviewMetadata:t,isFetchingShopifyPreviewData:e,shopifyImportError:n}=lt();if(e&&!t)return f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsx(Me,{className:"h-12 w-12 animate-spin text-primary mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"Fetching store information..."})]});if(n&&!t)return f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-destructive",children:[f.jsx(iE,{className:"h-12 w-12 mb-4"}),f.jsx("p",{className:"font-semibold",children:"Error Fetching Store Info"}),f.jsx("p",{className:"text-sm text-center",children:n})]});if(!t)return f.jsx("div",{className:"text-center text-muted-foreground",children:"No store metadata to display."});const{name:r,description:o,primaryDomain:i,brand:s}=t;return f.jsxs("div",{className:"w-full p-4",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Store Preview"}),f.jsxs(qt,{className:"mb-4",children:[f.jsx(Ln,{children:f.jsxs("div",{className:"flex items-center space-x-4",children:[((a=s==null?void 0:s.logo)==null?void 0:a.url)&&f.jsx("img",{src:s.logo.url,alt:`${r} logo`,className:"h-16 w-16 object-contain rounded border"}),f.jsxs("div",{children:[f.jsx(jn,{children:r||"N/A"}),(i==null?void 0:i.host)&&f.jsx(cr,{children:i.host})]})]})}),f.jsxs(Sn,{children:[f.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[f.jsx("strong",{children:"Slogan:"})," ",(s==null?void 0:s.slogan)||"N/A"]}),f.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[f.jsx("strong",{children:"Description:"})," ",o||(s==null?void 0:s.shortDescription)||"N/A"]}),((l=s==null?void 0:s.coverImage)==null?void 0:l.url)&&f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-sm font-medium mb-1",children:"Cover Image:"}),f.jsx("img",{src:s.coverImage.url,alt:"Store cover",className:"rounded max-h-40 w-auto mx-auto border"})]})]})]})]})},BV=()=>{var y,S,C,w,E,b;const{shopifyPreviewProducts:t,shopifyPreviewCollections:e,fetchShopifyWizardProducts:n,fetchShopifyWizardCollections:r,isFetchingShopifyPreviewData:o,shopifyImportError:i,shopifyPreviewMetadata:s,generatedLogoImage:a,isGeneratingLogo:l,logoGenerationError:c,generateShopifyStoreLogo:u}=lt(),d=()=>{t.pageInfo.hasNextPage&&n(10,t.pageInfo.endCursor)},p=()=>{e.pageInfo.hasNextPage&&r(10,e.pageInfo.endCursor)},v=(s==null?void 0:s.name)||"Your Store",x=((C=(S=(y=s==null?void 0:s.brand)==null?void 0:y.logo)==null?void 0:S.image)==null?void 0:C.url)||((b=(E=(w=s==null?void 0:s.brand)==null?void 0:w.squareLogo)==null?void 0:E.image)==null?void 0:b.url);return f.jsxs("div",{className:"w-full p-4 space-y-6",children:[f.jsxs(qt,{children:[f.jsxs(Ln,{children:[f.jsx(jn,{children:"Generate Store Logo"}),f.jsxs(cr,{children:['Optionally, generate a new logo for "',v,'" using AI. The generated logo will be used for your new store if you proceed.']})]}),f.jsxs(Sn,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold mb-2",children:"Current Shopify Logo (if any):"}),x?f.jsx("img",{src:x,alt:`${v} current logo`,className:"h-48 w-auto object-contain"}):f.jsx("p",{className:"text-sm text-muted-foreground",children:"No logo found in Shopify data."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold mb-2",children:"Generated Logo Preview:"}),l&&f.jsxs("div",{className:"h-48 w-full flex items-center justify-center",children:[f.jsx(Me,{className:"h-12 w-12 animate-spin text-primary"})," "]}),!l&&a&&f.jsx("div",{className:"h-48 w-auto flex items-center justify-center",children:f.jsx("img",{src:a,alt:`${v} AI generated logo`,className:"h-full w-auto object-contain"})}),!l&&!a&&f.jsxs("div",{className:"h-48 w-full flex items-center justify-center text-muted-foreground",children:[f.jsx(C0,{className:"h-12 w-12 mr-2"})," ",f.jsx("span",{children:"Logo will appear here"})]})]})]}),f.jsxs(q,{onClick:u,disabled:l||!(s!=null&&s.name),className:"w-full md:w-auto",children:[l?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(eu,{className:"mr-2 h-4 w-4"}),"Generate New Logo with AI"]}),c&&f.jsxs("p",{className:"text-sm text-destructive text-center mt-2",children:[f.jsx(iE,{className:"inline h-4 w-4 mr-1"}),c]}),!(s!=null&&s.name)&&f.jsx("p",{className:"text-sm text-amber-600 text-center mt-2",children:"Store name from Shopify is required to generate a logo."})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Products (",t.edges.length," loaded)"]}),i&&i.includes("products")&&f.jsx("p",{className:"text-destructive text-sm mb-2",children:i}),f.jsxs(za,{className:"h-60 border rounded p-2",children:[t.edges.length===0&&!o&&f.jsx("p",{className:"text-muted-foreground text-sm p-2",children:"No products loaded yet or none found."}),t.edges.map(({node:T})=>{var A,P,_,N,I,R;return f.jsxs("div",{className:"p-2 border-b text-sm flex items-center",children:[((_=(P=(A=T.images)==null?void 0:A.edges[0])==null?void 0:P.node)==null?void 0:_.url)&&f.jsx("img",{src:T.images.edges[0].node.url,alt:T.title,className:"h-10 w-10 inline-block mr-3 rounded object-cover"}),!((R=(I=(N=T.images)==null?void 0:N.edges[0])==null?void 0:I.node)!=null&&R.url)&&f.jsx("div",{className:"h-10 w-10 bg-muted rounded mr-3 flex items-center justify-center text-muted-foreground",children:f.jsx(C0,{size:16})}),f.jsx("span",{children:T.title})]},T.id)}),o&&t.pageInfo.hasNextPage&&f.jsx("div",{className:"flex justify-center py-2",children:f.jsx(Me,{className:"h-5 w-5 animate-spin"})})]}),t.pageInfo.hasNextPage&&f.jsx(q,{onClick:d,disabled:o,className:"mt-2 w-full",children:o?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):"Load More Products"}),!t.pageInfo.hasNextPage&&t.edges.length>0&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"All products loaded."})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Collections (",e.edges.length," loaded)"]}),i&&i.includes("collections")&&f.jsx("p",{className:"text-destructive text-sm mb-2",children:i}),f.jsxs(za,{className:"h-60 border rounded p-2",children:[e.edges.length===0&&!o&&f.jsx("p",{className:"text-muted-foreground text-sm p-2",children:"No collections loaded yet or none found."}),e.edges.map(({node:T})=>f.jsx("div",{className:"p-2 border-b text-sm",children:T.title},T.id)),o&&e.pageInfo.hasNextPage&&f.jsx("div",{className:"flex justify-center py-2",children:f.jsx(Me,{className:"h-5 w-5 animate-spin"})})]}),e.pageInfo.hasNextPage&&f.jsx(q,{onClick:p,disabled:o,className:"mt-2 w-full",children:o?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):"Load More Collections"}),!e.pageInfo.hasNextPage&&e.edges.length>0&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"All collections loaded."})]})]})]})},zV=({isOpen:t,onClose:e})=>{const{shopifyWizardStep:n,setShopifyWizardStep:r,resetShopifyWizardState:o,shopifyPreviewMetadata:i,shopifyPreviewProducts:s,shopifyPreviewCollections:a,isFetchingShopifyPreviewData:l,isGenerating:c,shopifyImportError:u,fetchShopifyWizardProducts:d,fetchShopifyWizardCollections:p,finalizeShopifyImportFromWizard:v}=lt();if(g.useEffect(()=>{t&&n===0&&r(1),!t&&n!==0&&o()},[t,n,r,o]),!t||n===0)return null;const x=4,y=async()=>{n<x&&(n===2?((!s||s.edges.length===0)&&d(10),(!a||a.edges.length===0)&&p(10),r(3)):n===3&&await w())},S=()=>{n>1&&r(n-1)},C=()=>{o(),e&&e()},w=async()=>{await v()&&e&&e()},E=()=>{switch(n){case 1:return f.jsx(uV,{open:n===1,onOpenChange:b=>{b||C()},onSuccessfulConnect:()=>{}});case 2:return f.jsx(UV,{});case 3:return f.jsx(BV,{});default:return n===4&&c?f.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[f.jsx(Me,{className:"h-8 w-8 animate-spin mb-4"})," ",f.jsx("p",{children:"Finalizing import, please wait..."})]}):f.jsx("div",{children:"Invalid Wizard Step or Finalizing..."})}};return n===1?E():f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs(qt,{className:"w-full max-w-2xl mx-auto shadow-xl",children:[f.jsxs(Ln,{children:[f.jsx(jn,{className:"text-2xl font-bold",children:"Import from Shopify"}),f.jsxs(cr,{children:["Step ",n," of ",x]}),f.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mt-2",children:f.jsx(we.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${n/x*100}%`},transition:{duration:.5,ease:"easeInOut"}})})]}),f.jsx(Sn,{className:"min-h-[250px] flex items-center justify-center",children:E()}),f.jsxs(Ss,{className:"flex justify-between",children:[n>1&&f.jsxs(q,{variant:"outline",onClick:C,disabled:c||l,children:[f.jsx(kD,{className:"mr-2 h-4 w-4"})," Cancel"]}),f.jsxs("div",{children:[n>1&&n<x&&f.jsxs(q,{variant:"outline",onClick:S,disabled:c||l,className:"mr-2",children:[f.jsx(ns,{className:"mr-2 h-4 w-4"})," Previous"]}),n===2&&f.jsxs(q,{onClick:y,disabled:c||l,children:["Next ",f.jsx(Om,{className:"ml-2 h-4 w-4"})]}),n===3&&f.jsxs(q,{onClick:w,disabled:c||l,children:[c?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(sE,{className:"mr-2 h-4 w-4"}),"Finalize Import"]}),n===x&&c&&f.jsxs(q,{disabled:!0,children:[f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]})]})]})]})})};function i1(t,[e,n]){return Math.min(n,Math.max(e,t))}function nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Ng(t,e=[]){let n=[];function r(i,s){const a=g.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:p,children:v,...x}=d,y=(p==null?void 0:p[t][l])||a,S=g.useMemo(()=>x,Object.values(x));return g.createElement(y.Provider,{value:S},v)}function u(d,p){const v=(p==null?void 0:p[t][l])||a,x=g.useContext(v);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>g.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,GV(o,...e)]}function GV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function WV(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function j2(...t){return e=>t.forEach(n=>WV(n,e))}function yt(...t){return g.useCallback(j2(...t),t)}const Ga=g.forwardRef((t,e)=>{const{children:n,...r}=t,o=g.Children.toArray(n),i=o.find(qV);if(i){const s=i.props.children,a=o.map(l=>l===i?g.Children.count(s)>1?g.Children.only(null):g.isValidElement(s)?s.props.children:null:l);return g.createElement(xp,te({},r,{ref:e}),g.isValidElement(s)?g.cloneElement(s,void 0,a):null)}return g.createElement(xp,te({},r,{ref:e}),n)});Ga.displayName="Slot";const xp=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...KV(r,n.props),ref:e?j2(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});xp.displayName="SlotClone";const HV=({children:t})=>g.createElement(g.Fragment,null,t);function qV(t){return g.isValidElement(t)&&t.type===HV}function KV(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function YV(t){const e=t+"CollectionProvider",[n,r]=Ng(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:x,children:y}=v,S=k.useRef(null),C=k.useRef(new Map).current;return k.createElement(o,{scope:x,itemMap:C,collectionRef:S},y)},a=t+"CollectionSlot",l=k.forwardRef((v,x)=>{const{scope:y,children:S}=v,C=i(a,y),w=yt(x,C.collectionRef);return k.createElement(Ga,{ref:w},S)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",d=k.forwardRef((v,x)=>{const{scope:y,children:S,...C}=v,w=k.useRef(null),E=yt(x,w),b=i(c,y);return k.useEffect(()=>(b.itemMap.set(w,{ref:w,...C}),()=>void b.itemMap.delete(w))),k.createElement(Ga,{[u]:"",ref:E},S)});function p(v){const x=i(t+"CollectionConsumer",v);return k.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,T)=>C.indexOf(b.ref.current)-C.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},p,r]}const JV=g.createContext(void 0);function XV(t){const e=g.useContext(JV);return t||e||"ltr"}const QV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=QV.reduce((t,e)=>{const n=g.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Ga:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(a,te({},s,{ref:o}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ZV(t,e){t&&mr.flushSync(()=>t.dispatchEvent(e))}function ur(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function eU(t,e=globalThis==null?void 0:globalThis.document){const n=ur(t);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const wp="dismissableLayer.update",tU="dismissableLayer.pointerDownOutside",nU="dismissableLayer.focusOutside";let s1;const rU=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oU=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=g.useContext(rU),[d,p]=g.useState(null),v=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,x]=g.useState({}),y=yt(e,_=>p(_)),S=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(C),E=d?S.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,T=E>=w,A=iU(_=>{const N=_.target,I=[...u.branches].some(R=>R.contains(N));!T||I||(i==null||i(_),a==null||a(_),_.defaultPrevented||l==null||l())},v),P=sU(_=>{const N=_.target;[...u.branches].some(R=>R.contains(N))||(s==null||s(_),a==null||a(_),_.defaultPrevented||l==null||l())},v);return eU(_=>{E===u.layers.size-1&&(o==null||o(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},v),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(s1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),a1(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=s1)}},[d,v,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),a1())},[d,u]),g.useEffect(()=>{const _=()=>x({});return document.addEventListener(wp,_),()=>document.removeEventListener(wp,_)},[]),g.createElement(ct.div,te({},c,{ref:y,style:{pointerEvents:b?T?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,A.onPointerDownCapture)}))});function iU(t,e=globalThis==null?void 0:globalThis.document){const n=ur(t),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){F2(tU,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sU(t,e=globalThis==null?void 0:globalThis.document){const n=ur(t),r=g.useRef(!1);return g.useEffect(()=>{const o=i=>{i.target&&!r.current&&F2(nU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function a1(){const t=new CustomEvent(wp);document.dispatchEvent(t)}function F2(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?ZV(o,i):o.dispatchEvent(i)}let bf=0;function aU(){g.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:l1()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:l1()),bf++,()=>{bf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),bf--}},[])}function l1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Tf="focusScope.autoFocusOnMount",_f="focusScope.autoFocusOnUnmount",c1={bubbles:!1,cancelable:!0},lU=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=t,[a,l]=g.useState(null),c=ur(o),u=ur(i),d=g.useRef(null),p=yt(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(E){if(v.paused||!a)return;const b=E.target;a.contains(b)?d.current=b:Pr(d.current,{select:!0})},S=function(E){if(v.paused||!a)return;const b=E.relatedTarget;b!==null&&(a.contains(b)||Pr(d.current,{select:!0}))},C=function(E){const b=document.activeElement;for(const T of E)T.removedNodes.length>0&&(a!=null&&a.contains(b)||Pr(a))};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const w=new MutationObserver(C);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){d1.add(v);const y=document.activeElement;if(!a.contains(y)){const C=new CustomEvent(Tf,c1);a.addEventListener(Tf,c),a.dispatchEvent(C),C.defaultPrevented||(cU(pU(O2(a)),{select:!0}),document.activeElement===y&&Pr(a))}return()=>{a.removeEventListener(Tf,c),setTimeout(()=>{const C=new CustomEvent(_f,c1);a.addEventListener(_f,u),a.dispatchEvent(C),C.defaultPrevented||Pr(y??document.body,{select:!0}),a.removeEventListener(_f,u),d1.remove(v)},0)}}},[a,c,u,v]);const x=g.useCallback(y=>{if(!n&&!r||v.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(S&&C){const w=y.currentTarget,[E,b]=uU(w);E&&b?!y.shiftKey&&C===b?(y.preventDefault(),n&&Pr(E,{select:!0})):y.shiftKey&&C===E&&(y.preventDefault(),n&&Pr(b,{select:!0})):C===w&&y.preventDefault()}},[n,r,v.paused]);return g.createElement(ct.div,te({tabIndex:-1},s,{ref:p,onKeyDown:x}))});function cU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pr(r,{select:e}),document.activeElement!==n)return}function uU(t){const e=O2(t),n=u1(e,t),r=u1(e.reverse(),t);return[n,r]}function O2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function u1(t,e){for(const n of t)if(!dU(n,{upTo:e}))return n}function dU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function fU(t){return t instanceof HTMLInputElement&&"select"in t}function Pr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&fU(t)&&e&&t.select()}}const d1=hU();function hU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=f1(t,e),t.unshift(e)},remove(e){var n;t=f1(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function f1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function pU(t){return t.filter(e=>e.tagName!=="A")}const dn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},mU=xu["useId".toString()]||(()=>{});let gU=0;function V2(t){const[e,n]=g.useState(mU());return dn(()=>{t||n(r=>r??String(gU++))},[t]),t||(e?`radix-${e}`:"")}const vU=["top","right","bottom","left"],ro=Math.min,zt=Math.max,hu=Math.round,Zl=Math.floor,Fn=t=>({x:t,y:t}),yU={left:"right",right:"left",bottom:"top",top:"bottom"},xU={start:"end",end:"start"};function Cp(t,e,n){return zt(t,ro(e,n))}function dr(t,e){return typeof t=="function"?t(e):t}function fr(t){return t.split("-")[0]}function Es(t){return t.split("-")[1]}function Ig(t){return t==="x"?"y":"x"}function Rg(t){return t==="y"?"height":"width"}function rr(t){return["top","bottom"].includes(fr(t))?"y":"x"}function Mg(t){return Ig(rr(t))}function wU(t,e,n){n===void 0&&(n=!1);const r=Es(t),o=Mg(t),i=Rg(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=pu(s)),[s,pu(s)]}function CU(t){const e=pu(t);return[Sp(t),e,Sp(e)]}function Sp(t){return t.replace(/start|end/g,e=>xU[e])}function SU(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:s;default:return[]}}function EU(t,e,n,r){const o=Es(t);let i=SU(fr(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(Sp)))),i}function pu(t){return t.replace(/left|right|bottom|top/g,e=>yU[e])}function bU(t){return{top:0,right:0,bottom:0,left:0,...t}}function U2(t){return typeof t!="number"?bU(t):{top:t,right:t,bottom:t,left:t}}function mu(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function h1(t,e,n){let{reference:r,floating:o}=t;const i=rr(e),s=Mg(e),a=Rg(s),l=fr(e),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let v;switch(l){case"top":v={x:u,y:r.y-o.height};break;case"bottom":v={x:u,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:d};break;case"left":v={x:r.x-o.width,y:d};break;default:v={x:r.x,y:r.y}}switch(Es(e)){case"start":v[s]-=p*(n&&c?-1:1);break;case"end":v[s]+=p*(n&&c?-1:1);break}return v}const TU=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:d}=h1(c,r,l),p=r,v={},x=0;for(let y=0;y<a.length;y++){const{name:S,fn:C}=a[y],{x:w,y:E,data:b,reset:T}=await C({x:u,y:d,initialPlacement:r,placement:p,strategy:o,middlewareData:v,rects:c,platform:s,elements:{reference:t,floating:e}});u=w??u,d=E??d,v={...v,[S]:{...v[S],...b}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):T.rects),{x:u,y:d}=h1(c,p,l)),y=-1)}return{x:u,y:d,placement:p,strategy:o,middlewareData:v}};async function Wa(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:v=0}=dr(e,t),x=U2(v),S=a[p?d==="floating"?"reference":"floating":d],C=mu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},T=mu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(C.top-T.top+x.top)/b.y,bottom:(T.bottom-C.bottom+x.bottom)/b.y,left:(C.left-T.left+x.left)/b.x,right:(T.right-C.right+x.right)/b.x}}const _U=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=dr(t,e)||{};if(c==null)return{};const d=U2(u),p={x:n,y:r},v=Mg(o),x=Rg(v),y=await s.getDimensions(c),S=v==="y",C=S?"top":"left",w=S?"bottom":"right",E=S?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[v]-p[v]-i.floating[x],T=p[v]-i.reference[v],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let P=A?A[E]:0;(!P||!await(s.isElement==null?void 0:s.isElement(A)))&&(P=a.floating[E]||i.floating[x]);const _=b/2-T/2,N=P/2-y[x]/2-1,I=ro(d[C],N),R=ro(d[w],N),D=I,U=P-y[x]-R,$=P/2-y[x]/2+_,O=Cp(D,$,U),F=!l.arrow&&Es(o)!=null&&$!==O&&i.reference[x]/2-($<D?I:R)-y[x]/2<0,K=F?$<D?$-D:$-U:0;return{[v]:p[v]+K,data:{[v]:O,centerOffset:$-O-K,...F&&{alignmentOffset:K}},reset:F}}}),PU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...S}=dr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=fr(o),w=rr(a),E=fr(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=p||(E||!y?[pu(a)]:CU(a)),A=x!=="none";!p&&A&&T.push(...EU(a,y,x,b));const P=[a,...T],_=await Wa(e,S),N=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&N.push(_[C]),d){const O=wU(o,s,b);N.push(_[O[0]],_[O[1]])}if(I=[...I,{placement:o,overflows:N}],!N.every(O=>O<=0)){var R,D;const O=(((R=i.flip)==null?void 0:R.index)||0)+1,F=P[O];if(F){var U;const L=d==="alignment"?w!==rr(F):!1,M=((U=I[0])==null?void 0:U.overflows[0])>0;if(!L||M)return{data:{index:O,overflows:I},reset:{placement:F}}}let K=(D=I.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(v){case"bestFit":{var $;const L=($=I.filter(M=>{if(A){const V=rr(M.placement);return V===w||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,z)=>V+z,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:$[0];L&&(K=L);break}case"initialPlacement":K=a;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function p1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function m1(t){return vU.some(e=>t[e]>=0)}const AU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=dr(t,e);switch(r){case"referenceHidden":{const i=await Wa(e,{...o,elementContext:"reference"}),s=p1(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:m1(s)}}}case"escaped":{const i=await Wa(e,{...o,altBoundary:!0}),s=p1(i,n.floating);return{data:{escapedOffsets:s,escaped:m1(s)}}}default:return{}}}}};async function kU(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=fr(n),a=Es(n),l=rr(n)==="y",c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,d=dr(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),l?{x:v*u,y:p*c}:{x:p*c,y:v*u}}const NU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=e,l=await kU(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},IU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x:C,y:w}=S;return{x:C,y:w}}},...l}=dr(t,e),c={x:n,y:r},u=await Wa(e,l),d=rr(fr(o)),p=Ig(d);let v=c[p],x=c[d];if(i){const S=p==="y"?"top":"left",C=p==="y"?"bottom":"right",w=v+u[S],E=v-u[C];v=Cp(w,v,E)}if(s){const S=d==="y"?"top":"left",C=d==="y"?"bottom":"right",w=x+u[S],E=x-u[C];x=Cp(w,x,E)}const y=a.fn({...e,[p]:v,[d]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[d]:s}}}}}},RU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=dr(t,e),u={x:n,y:r},d=rr(o),p=Ig(d);let v=u[p],x=u[d];const y=dr(a,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",b=i.reference[p]-i.floating[E]+S.mainAxis,T=i.reference[p]+i.reference[E]-S.mainAxis;v<b?v=b:v>T&&(v=T)}if(c){var C,w;const E=p==="y"?"width":"height",b=["top","left"].includes(fr(o)),T=i.reference[d]-i.floating[E]+(b&&((C=s.offset)==null?void 0:C[d])||0)+(b?0:S.crossAxis),A=i.reference[d]+i.reference[E]+(b?0:((w=s.offset)==null?void 0:w[d])||0)-(b?S.crossAxis:0);x<T?x=T:x>A&&(x=A)}return{[p]:v,[d]:x}}}},MU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:i,platform:s,elements:a}=e,{apply:l=()=>{},...c}=dr(t,e),u=await Wa(e,c),d=fr(o),p=Es(o),v=rr(o)==="y",{width:x,height:y}=i.floating;let S,C;d==="top"||d==="bottom"?(S=d,C=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(C=d,S=p==="end"?"top":"bottom");const w=y-u.top-u.bottom,E=x-u.left-u.right,b=ro(y-u[S],w),T=ro(x-u[C],E),A=!e.middlewareData.shift;let P=b,_=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),A&&!p){const I=zt(u.left,0),R=zt(u.right,0),D=zt(u.top,0),U=zt(u.bottom,0);v?_=x-2*(I!==0||R!==0?I+R:zt(u.left,u.right)):P=y-2*(D!==0||U!==0?D+U:zt(u.top,u.bottom))}await l({...e,availableWidth:_,availableHeight:P});const N=await s.getDimensions(a.floating);return x!==N.width||y!==N.height?{reset:{rects:!0}}:{}}}};function ud(){return typeof window<"u"}function bs(t){return B2(t)?(t.nodeName||"").toLowerCase():"#document"}function Kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wn(t){var e;return(e=(B2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B2(t){return ud()?t instanceof Node||t instanceof Kt(t).Node:!1}function bn(t){return ud()?t instanceof Element||t instanceof Kt(t).Element:!1}function Bn(t){return ud()?t instanceof HTMLElement||t instanceof Kt(t).HTMLElement:!1}function g1(t){return!ud()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kt(t).ShadowRoot}function dl(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Tn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function $U(t){return["table","td","th"].includes(bs(t))}function dd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $g(t){const e=Dg(),n=bn(t)?Tn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function DU(t){let e=oo(t);for(;Bn(e)&&!cs(e);){if($g(e))return e;if(dd(e))return null;e=oo(e)}return null}function Dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cs(t){return["html","body","#document"].includes(bs(t))}function Tn(t){return Kt(t).getComputedStyle(t)}function fd(t){return bn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(bs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||g1(t)&&t.host||Wn(t);return g1(e)?e.host:e}function z2(t){const e=oo(t);return cs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bn(e)&&dl(e)?e:z2(e)}function Ha(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=z2(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=Kt(o);if(i){const a=Ep(s);return e.concat(s,s.visualViewport||[],dl(o)?o:[],a&&n?Ha(a):[])}return e.concat(o,Ha(o,[],n))}function Ep(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function G2(t){const e=Tn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Bn(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,a=hu(n)!==i||hu(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Lg(t){return bn(t)?t:t.contextElement}function Wi(t){const e=Lg(t);if(!Bn(e))return Fn(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=G2(e);let s=(i?hu(n.width):n.width)/r,a=(i?hu(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const LU=Fn(0);function W2(t){const e=Kt(t);return!Dg()||!e.visualViewport?LU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kt(t)?!1:e}function Yo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=Lg(t);let s=Fn(1);e&&(r?bn(r)&&(s=Wi(r)):s=Wi(t));const a=jU(i,n,r)?W2(i):Fn(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const p=Kt(i),v=r&&bn(r)?Kt(r):r;let x=p,y=Ep(x);for(;y&&r&&v!==x;){const S=Wi(y),C=y.getBoundingClientRect(),w=Tn(y),E=C.left+(y.clientLeft+parseFloat(w.paddingLeft))*S.x,b=C.top+(y.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,c*=S.y,u*=S.x,d*=S.y,l+=E,c+=b,x=Kt(y),y=Ep(x)}}return mu({width:u,height:d,x:l,y:c})}function jg(t,e){const n=fd(t).scrollLeft;return e?e.left+n:Yo(Wn(t)).left+n}function H2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:jg(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function FU(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",s=Wn(r),a=e?dd(e.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Fn(1);const u=Fn(0),d=Bn(r);if((d||!d&&!i)&&((bs(r)!=="body"||dl(s))&&(l=fd(r)),Bn(r))){const v=Yo(r);c=Wi(r),u.x=v.x+r.clientLeft,u.y=v.y+r.clientTop}const p=s&&!d&&!i?H2(s,l,!0):Fn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function OU(t){return Array.from(t.getClientRects())}function VU(t){const e=Wn(t),n=fd(t),r=t.ownerDocument.body,o=zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+jg(t);const a=-n.scrollTop;return Tn(r).direction==="rtl"&&(s+=zt(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function UU(t,e){const n=Kt(t),r=Wn(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=Dg();(!c||c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function BU(t,e){const n=Yo(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Bn(t)?Wi(t):Fn(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function v1(t,e,n){let r;if(e==="viewport")r=UU(t,n);else if(e==="document")r=VU(Wn(t));else if(bn(e))r=BU(e,n);else{const o=W2(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return mu(r)}function q2(t,e){const n=oo(t);return n===e||!bn(n)||cs(n)?!1:Tn(n).position==="fixed"||q2(n,e)}function zU(t,e){const n=e.get(t);if(n)return n;let r=Ha(t,[],!1).filter(a=>bn(a)&&bs(a)!=="body"),o=null;const i=Tn(t).position==="fixed";let s=i?oo(t):t;for(;bn(s)&&!cs(s);){const a=Tn(s),l=$g(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||dl(s)&&!l&&q2(t,s))?r=r.filter(u=>u!==s):o=a,s=oo(s)}return e.set(t,r),r}function GU(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const s=[...n==="clippingAncestors"?dd(e)?[]:zU(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=v1(e,u,o);return c.top=zt(d.top,c.top),c.right=ro(d.right,c.right),c.bottom=ro(d.bottom,c.bottom),c.left=zt(d.left,c.left),c},v1(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function WU(t){const{width:e,height:n}=G2(t);return{width:e,height:n}}function HU(t,e,n){const r=Bn(e),o=Wn(e),i=n==="fixed",s=Yo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Fn(0);function c(){l.x=jg(o)}if(r||!r&&!i)if((bs(e)!=="body"||dl(o))&&(a=fd(e)),r){const v=Yo(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else o&&c();i&&!r&&o&&c();const u=o&&!r&&!i?H2(o,a):Fn(0),d=s.left+a.scrollLeft-l.x-u.x,p=s.top+a.scrollTop-l.y-u.y;return{x:d,y:p,width:s.width,height:s.height}}function Pf(t){return Tn(t).position==="static"}function y1(t,e){if(!Bn(t)||Tn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wn(t)===n&&(n=n.ownerDocument.body),n}function K2(t,e){const n=Kt(t);if(dd(t))return n;if(!Bn(t)){let o=oo(t);for(;o&&!cs(o);){if(bn(o)&&!Pf(o))return o;o=oo(o)}return n}let r=y1(t,e);for(;r&&$U(r)&&Pf(r);)r=y1(r,e);return r&&cs(r)&&Pf(r)&&!$g(r)?n:r||DU(t)||n}const qU=async function(t){const e=this.getOffsetParent||K2,n=this.getDimensions,r=await n(t.floating);return{reference:HU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KU(t){return Tn(t).direction==="rtl"}const YU={convertOffsetParentRelativeRectToViewportRelativeRect:FU,getDocumentElement:Wn,getClippingRect:GU,getOffsetParent:K2,getElementRects:qU,getClientRects:OU,getDimensions:WU,getScale:Wi,isElement:bn,isRTL:KU};function Y2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function JU(t,e){let n=null,r;const o=Wn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:p,height:v}=c;if(a||e(),!p||!v)return;const x=Zl(d),y=Zl(o.clientWidth-(u+p)),S=Zl(o.clientHeight-(d+v)),C=Zl(u),E={rootMargin:-x+"px "+-y+"px "+-S+"px "+-C+"px",threshold:zt(0,ro(1,l))||1};let b=!0;function T(A){const P=A[0].intersectionRatio;if(P!==l){if(!b)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!Y2(c,t.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(T,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(t)}return s(!0),i}function XU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Lg(t),u=o||i?[...c?Ha(c):[],...Ha(e)]:[];u.forEach(C=>{o&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const d=c&&a?JU(c,n):null;let p=-1,v=null;s&&(v=new ResizeObserver(C=>{let[w]=C;w&&w.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let x,y=l?Yo(t):null;l&&S();function S(){const C=Yo(t);y&&!Y2(y,C)&&n(),y=C,x=requestAnimationFrame(S)}return n(),()=>{var C;u.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(C=v)==null||C.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const QU=NU,ZU=IU,eB=PU,tB=MU,nB=AU,x1=_U,rB=RU,oB=(t,e,n)=>{const r=new Map,o={platform:YU,...n},i={...o.platform,_c:r};return TU(t,e,{...o,platform:i})};var xc=typeof document<"u"?g.useLayoutEffect:g.useEffect;function gu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gu(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!gu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function J2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function w1(t,e){const n=J2(t);return Math.round(e*n)/n}function Af(t){const e=g.useRef(t);return xc(()=>{e.current=t}),e}function iB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);gu(p,r)||v(r);const[x,y]=g.useState(null),[S,C]=g.useState(null),w=g.useCallback(L=>{L!==A.current&&(A.current=L,y(L))},[]),E=g.useCallback(L=>{L!==P.current&&(P.current=L,C(L))},[]),b=i||x,T=s||S,A=g.useRef(null),P=g.useRef(null),_=g.useRef(u),N=l!=null,I=Af(l),R=Af(o),D=Af(c),U=g.useCallback(()=>{if(!A.current||!P.current)return;const L={placement:e,strategy:n,middleware:p};R.current&&(L.platform=R.current),oB(A.current,P.current,L).then(M=>{const V={...M,isPositioned:D.current!==!1};$.current&&!gu(_.current,V)&&(_.current=V,mr.flushSync(()=>{d(V)}))})},[p,e,n,R,D]);xc(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(L=>({...L,isPositioned:!1})))},[c]);const $=g.useRef(!1);xc(()=>($.current=!0,()=>{$.current=!1}),[]),xc(()=>{if(b&&(A.current=b),T&&(P.current=T),b&&T){if(I.current)return I.current(b,T,U);U()}},[b,T,U,I,N]);const O=g.useMemo(()=>({reference:A,floating:P,setReference:w,setFloating:E}),[w,E]),F=g.useMemo(()=>({reference:b,floating:T}),[b,T]),K=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!F.floating)return L;const M=w1(F.floating,u.x),V=w1(F.floating,u.y);return a?{...L,transform:"translate("+M+"px, "+V+"px)",...J2(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:V}},[n,a,F.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:U,refs:O,elements:F,floatingStyles:K}),[u,U,O,F,K])}const sB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?x1({element:r.current,padding:o}).fn(n):{}:r?x1({element:r,padding:o}).fn(n):{}}}},aB=(t,e)=>({...QU(t),options:[t,e]}),lB=(t,e)=>({...ZU(t),options:[t,e]}),cB=(t,e)=>({...rB(t),options:[t,e]}),uB=(t,e)=>({...eB(t),options:[t,e]}),dB=(t,e)=>({...tB(t),options:[t,e]}),fB=(t,e)=>({...nB(t),options:[t,e]}),hB=(t,e)=>({...sB(t),options:[t,e]});function pB(t){const[e,n]=g.useState(void 0);return dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const X2="Popper",[Q2,Z2]=Ng(X2),[mB,e_]=Q2(X2),gB=t=>{const{__scopePopper:e,children:n}=t,[r,o]=g.useState(null);return g.createElement(mB,{scope:e,anchor:r,onAnchorChange:o},n)},vB="PopperAnchor",yB=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=e_(vB,n),s=g.useRef(null),a=yt(e,s);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:g.createElement(ct.div,te({},o,{ref:a}))}),t_="PopperContent",[xB,tH]=Q2(t_),wB=g.forwardRef((t,e)=>{var n,r,o,i,s,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:p=0,align:v="center",alignOffset:x=0,arrowPadding:y=0,collisionBoundary:S=[],collisionPadding:C=0,sticky:w="partial",hideWhenDetached:E=!1,avoidCollisions:b=!0,onPlaced:T,...A}=t,P=e_(t_,u),[_,N]=g.useState(null),I=yt(e,De=>N(De)),[R,D]=g.useState(null),U=pB(R),$=(n=U==null?void 0:U.width)!==null&&n!==void 0?n:0,O=(r=U==null?void 0:U.height)!==null&&r!==void 0?r:0,F=d+(v!=="center"?"-"+v:""),K=typeof C=="number"?C:{top:0,right:0,bottom:0,left:0,...C},L=Array.isArray(S)?S:[S],M=L.length>0,V={padding:K,boundary:L.filter(CB),altBoundary:M},{refs:z,floatingStyles:H,placement:ie,isPositioned:de,middlewareData:ye}=iB({strategy:"fixed",placement:F,whileElementsMounted:XU,elements:{reference:P.anchor},middleware:[aB({mainAxis:p+O,alignmentAxis:x}),b&&lB({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?cB():void 0,...V}),b&&uB({...V}),dB({...V,apply:({elements:De,rects:xt,availableWidth:Zt,availableHeight:Ot})=>{const{width:Pn,height:Hn}=xt.reference,Vt=De.floating.style;Vt.setProperty("--radix-popper-available-width",`${Zt}px`),Vt.setProperty("--radix-popper-available-height",`${Ot}px`),Vt.setProperty("--radix-popper-anchor-width",`${Pn}px`),Vt.setProperty("--radix-popper-anchor-height",`${Hn}px`)}}),R&&hB({element:R,padding:y}),SB({arrowWidth:$,arrowHeight:O}),E&&fB({strategy:"referenceHidden"})]}),[ce,X]=n_(ie),le=ur(T);dn(()=>{de&&(le==null||le())},[de,le]);const Ee=(o=ye.arrow)===null||o===void 0?void 0:o.x,fe=(i=ye.arrow)===null||i===void 0?void 0:i.y,ne=((s=ye.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[he,Ke]=g.useState();return dn(()=>{_&&Ke(window.getComputedStyle(_).zIndex)},[_]),g.createElement("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:de?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(a=ye.transformOrigin)===null||a===void 0?void 0:a.x,(l=ye.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},g.createElement(xB,{scope:u,placedSide:ce,onArrowChange:D,arrowX:Ee,arrowY:fe,shouldHideArrow:ne},g.createElement(ct.div,te({"data-side":ce,"data-align":X},A,{ref:I,style:{...A.style,animation:de?void 0:"none",opacity:(c=ye.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function CB(t){return t!==null}const SB=t=>({name:"transformOrigin",options:t,fn(e){var n,r,o,i,s;const{placement:a,rects:l,middlewareData:c}=e,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=d?0:t.arrowWidth,v=d?0:t.arrowHeight,[x,y]=n_(a),S={start:"0%",center:"50%",end:"100%"}[y],C=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+p/2,w=((i=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0)+v/2;let E="",b="";return x==="bottom"?(E=d?S:`${C}px`,b=`${-v}px`):x==="top"?(E=d?S:`${C}px`,b=`${l.floating.height+v}px`):x==="right"?(E=`${-v}px`,b=d?S:`${w}px`):x==="left"&&(E=`${l.floating.width+v}px`,b=d?S:`${w}px`),{data:{x:E,y:b}}}});function n_(t){const[e,n="center"]=t.split("-");return[e,n]}const EB=gB,bB=yB,TB=wB,_B=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?XC.createPortal(g.createElement(ct.div,te({},o,{ref:e})),r):null});function C1({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=PB({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:r,a=ur(n),l=g.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else o(c)},[i,t,o,a]);return[s,l]}function PB({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,o=g.useRef(r),i=ur(e);return g.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function AB(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const kB=g.forwardRef((t,e)=>g.createElement(ct.span,te({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var r_=vT(),kf=function(){},hd=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),o=r[0],i=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,w=wg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=p,b=gT([n,e]),T=gt(gt({},w),o);return g.createElement(g.Fragment,null,u&&g.createElement(E,{sideCar:r_,removeScrollBar:c,shards:d,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n}),s?g.cloneElement(g.Children.only(a),gt(gt({},T),{ref:b})):g.createElement(C,gt({},T,{className:l,ref:b}),a))});hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hd.classNames={fullWidth:pa,zeroRight:ha};var bp=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return bp=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{bp=!1}var pi=bp?{passive:!1}:!1,NB=function(t){return t.tagName==="TEXTAREA"},o_=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NB(t)&&n[e]==="visible")},IB=function(t){return o_(t,"overflowY")},RB=function(t){return o_(t,"overflowX")},S1=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=i_(t,n);if(r){var o=s_(t,n),i=o[1],s=o[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},MB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$B=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},i_=function(t,e){return t==="v"?IB(e):RB(e)},s_=function(t,e){return t==="v"?MB(e):$B(e)},DB=function(t,e){return t==="h"&&e==="rtl"?-1:1},LB=function(t,e,n,r,o){var i=DB(t,window.getComputedStyle(e).direction),s=i*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,p=0;do{var v=s_(t,a),x=v[0],y=v[1],S=v[2],C=y-S-i*x;(x||C)&&i_(t,a)&&(d+=C,p+=x),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(o&&d===0||!o&&s>d)||!u&&(o&&p===0||!o&&-s>p))&&(c=!0),c},tc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E1=function(t){return[t.deltaX,t.deltaY]},b1=function(t){return t&&"current"in t?t.current:t},jB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OB=0,mi=[];function VB(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(OB++)[0],i=g.useState(function(){return Cg()})[0],s=g.useRef(t);g.useEffect(function(){s.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var y=mT([t.lockRef.current],(t.shards||[]).map(b1),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,S){if("touches"in y&&y.touches.length===2)return!s.current.allowPinchZoom;var C=tc(y),w=n.current,E="deltaX"in y?y.deltaX:w[0]-C[0],b="deltaY"in y?y.deltaY:w[1]-C[1],T,A=y.target,P=Math.abs(E)>Math.abs(b)?"h":"v";if("touches"in y&&P==="h"&&A.type==="range")return!1;var _=S1(P,A);if(!_)return!0;if(_?T=P:(T=P==="v"?"h":"v",_=S1(P,A)),!_)return!1;if(!r.current&&"changedTouches"in y&&(E||b)&&(r.current=T),!T)return!0;var N=r.current||T;return LB(N,S,y,N==="h"?E:b,!0)},[]),l=g.useCallback(function(y){var S=y;if(!(!mi.length||mi[mi.length-1]!==i)){var C="deltaY"in S?E1(S):tc(S),w=e.current.filter(function(T){return T.name===S.type&&T.target===S.target&&jB(T.delta,C)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var E=(s.current.shards||[]).map(b1).filter(Boolean).filter(function(T){return T.contains(S.target)}),b=E.length>0?a(S,E[0]):!s.current.noIsolation;b&&S.cancelable&&S.preventDefault()}}},[]),c=g.useCallback(function(y,S,C,w){var E={name:y,delta:S,target:C,should:w};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(b){return b!==E})},1)},[]),u=g.useCallback(function(y){n.current=tc(y),r.current=void 0},[]),d=g.useCallback(function(y){c(y.type,E1(y),y.target,a(y,t.lockRef.current))},[]),p=g.useCallback(function(y){c(y.type,tc(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return mi.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,pi),document.addEventListener("touchmove",l,pi),document.addEventListener("touchstart",u,pi),function(){mi=mi.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,pi),document.removeEventListener("touchmove",l,pi),document.removeEventListener("touchstart",u,pi)}},[]);var v=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:FB(o)}):null,v?g.createElement(CT,{gapMode:"margin"}):null)}const UB=xT(r_,VB);var a_=g.forwardRef(function(t,e){return g.createElement(hd,gt({},t,{ref:e,sideCar:UB}))});a_.classNames=hd.classNames;const BB=a_,zB=[" ","Enter","ArrowUp","ArrowDown"],GB=[" ","Enter"],pd="Select",[md,gd,WB]=YV(pd),[Ts,nH]=Ng(pd,[WB,Z2]),Fg=Z2(),[HB,oi]=Ts(pd),[qB,KB]=Ts(pd),YB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:i,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:v}=t,x=Fg(e),[y,S]=g.useState(null),[C,w]=g.useState(null),[E,b]=g.useState(!1),T=XV(c),[A=!1,P]=C1({prop:r,defaultProp:o,onChange:i}),[_,N]=C1({prop:s,defaultProp:a,onChange:l}),I=g.useRef(null),R=y?!!y.closest("form"):!0,[D,U]=g.useState(new Set),$=Array.from(D).map(O=>O.props.value).join(";");return g.createElement(EB,x,g.createElement(HB,{required:v,scope:e,trigger:y,onTriggerChange:S,valueNode:C,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:b,contentId:V2(),value:_,onValueChange:N,open:A,onOpenChange:P,dir:T,triggerPointerDownPosRef:I,disabled:p},g.createElement(md.Provider,{scope:e},g.createElement(qB,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(O=>{U(F=>new Set(F).add(O))},[]),onNativeOptionRemove:g.useCallback(O=>{U(F=>{const K=new Set(F);return K.delete(O),K})},[])},n)),R?g.createElement(d_,{key:$,"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:d,value:_,onChange:O=>N(O.target.value),disabled:p},_===void 0?g.createElement("option",{value:""}):null,Array.from(D)):null))},JB="SelectTrigger",XB=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,i=Fg(n),s=oi(JB,n),a=s.disabled||r,l=yt(e,s.onTriggerChange),c=gd(n),[u,d,p]=f_(x=>{const y=c().filter(w=>!w.disabled),S=y.find(w=>w.value===s.value),C=h_(y,x,S);C!==void 0&&s.onValueChange(C.value)}),v=()=>{a||(s.onOpenChange(!0),p())};return g.createElement(bB,te({asChild:!0},i),g.createElement(ct.button,te({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":s.value===void 0?"":void 0},o,{ref:l,onClick:nt(o.onClick,x=>{x.currentTarget.focus()}),onPointerDown:nt(o.onPointerDown,x=>{const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&(v(),s.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)},x.preventDefault())}),onKeyDown:nt(o.onKeyDown,x=>{const y=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&d(x.key),!(y&&x.key===" ")&&zB.includes(x.key)&&(v(),x.preventDefault())})})))}),QB="SelectValue",ZB=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s,...a}=t,l=oi(QB,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=yt(e,l.onValueNodeChange);return dn(()=>{c(u)},[c,u]),g.createElement(ct.span,te({},a,{ref:d,style:{pointerEvents:"none"}}),l.value===void 0&&s!==void 0?s:i)}),ez=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return g.createElement(ct.span,te({"aria-hidden":!0},o,{ref:e}),r||"")}),tz=t=>g.createElement(_B,te({asChild:!0},t)),us="SelectContent",nz=g.forwardRef((t,e)=>{const n=oi(us,t.__scopeSelect),[r,o]=g.useState();if(dn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?mr.createPortal(g.createElement(l_,{scope:t.__scopeSelect},g.createElement(md.Slot,{scope:t.__scopeSelect},g.createElement("div",null,t.children))),i):null}return g.createElement(rz,te({},t,{ref:e}))}),Yn=10,[l_,ii]=Ts(us),rz=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:S,...C}=t,w=oi(us,n),[E,b]=g.useState(null),[T,A]=g.useState(null),P=yt(e,X=>b(X)),[_,N]=g.useState(null),[I,R]=g.useState(null),D=gd(n),[U,$]=g.useState(!1),O=g.useRef(!1);g.useEffect(()=>{if(E)return PT(E)},[E]),aU();const F=g.useCallback(X=>{const[le,...Ee]=D().map(he=>he.ref.current),[fe]=Ee.slice(-1),ne=document.activeElement;for(const he of X)if(he===ne||(he==null||he.scrollIntoView({block:"nearest"}),he===le&&T&&(T.scrollTop=0),he===fe&&T&&(T.scrollTop=T.scrollHeight),he==null||he.focus(),document.activeElement!==ne))return},[D,T]),K=g.useCallback(()=>F([_,E]),[F,_,E]);g.useEffect(()=>{U&&K()},[U,K]);const{onOpenChange:L,triggerPointerDownPosRef:M}=w;g.useEffect(()=>{if(E){let X={x:0,y:0};const le=fe=>{var ne,he,Ke,De;X={x:Math.abs(Math.round(fe.pageX)-((ne=(he=M.current)===null||he===void 0?void 0:he.x)!==null&&ne!==void 0?ne:0)),y:Math.abs(Math.round(fe.pageY)-((Ke=(De=M.current)===null||De===void 0?void 0:De.y)!==null&&Ke!==void 0?Ke:0))}},Ee=fe=>{X.x<=10&&X.y<=10?fe.preventDefault():E.contains(fe.target)||L(!1),document.removeEventListener("pointermove",le),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[E,L,M]),g.useEffect(()=>{const X=()=>L(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[L]);const[V,z]=f_(X=>{const le=D().filter(ne=>!ne.disabled),Ee=le.find(ne=>ne.ref.current===document.activeElement),fe=h_(le,X,Ee);fe&&setTimeout(()=>fe.ref.current.focus())}),H=g.useCallback((X,le,Ee)=>{const fe=!O.current&&!Ee;(w.value!==void 0&&w.value===le||fe)&&(N(X),fe&&(O.current=!0))},[w.value]),ie=g.useCallback(()=>E==null?void 0:E.focus(),[E]),de=g.useCallback((X,le,Ee)=>{const fe=!O.current&&!Ee;(w.value!==void 0&&w.value===le||fe)&&R(X)},[w.value]),ye=r==="popper"?T1:oz,ce=ye===T1?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:S}:{};return g.createElement(l_,{scope:n,content:E,viewport:T,onViewportChange:A,itemRefCallback:H,selectedItem:_,onItemLeave:ie,itemTextRefCallback:de,focusSelectedItem:K,selectedItemText:I,position:r,isPositioned:U,searchRef:V},g.createElement(BB,{as:Ga,allowPinchZoom:!0},g.createElement(lU,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:nt(o,X=>{var le;(le=w.trigger)===null||le===void 0||le.focus({preventScroll:!0}),X.preventDefault()})},g.createElement(oU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1)},g.createElement(ye,te({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault()},C,ce,{onPlaced:()=>$(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:nt(C.onKeyDown,X=>{const le=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!le&&X.key.length===1&&z(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let fe=D().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(X.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ne=X.target,he=fe.indexOf(ne);fe=fe.slice(he+1)}setTimeout(()=>F(fe)),X.preventDefault()}})}))))))}),oz=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,i=oi(us,n),s=ii(us,n),[a,l]=g.useState(null),[c,u]=g.useState(null),d=yt(e,P=>u(P)),p=gd(n),v=g.useRef(!1),x=g.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:C,focusSelectedItem:w}=s,E=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&S&&C){const P=i.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),I=C.getBoundingClientRect();if(i.dir!=="rtl"){const ne=I.left-_.left,he=N.left-ne,Ke=P.left-he,De=P.width+Ke,xt=Math.max(De,_.width),Zt=window.innerWidth-Yn,Ot=i1(he,[Yn,Zt-xt]);a.style.minWidth=De+"px",a.style.left=Ot+"px"}else{const ne=_.right-I.right,he=window.innerWidth-N.right-ne,Ke=window.innerWidth-P.right-he,De=P.width+Ke,xt=Math.max(De,_.width),Zt=window.innerWidth-Yn,Ot=i1(he,[Yn,Zt-xt]);a.style.minWidth=De+"px",a.style.right=Ot+"px"}const R=p(),D=window.innerHeight-Yn*2,U=y.scrollHeight,$=window.getComputedStyle(c),O=parseInt($.borderTopWidth,10),F=parseInt($.paddingTop,10),K=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),M=O+F+U+L+K,V=Math.min(S.offsetHeight*5,M),z=window.getComputedStyle(y),H=parseInt(z.paddingTop,10),ie=parseInt(z.paddingBottom,10),de=P.top+P.height/2-Yn,ye=D-de,ce=S.offsetHeight/2,X=S.offsetTop+ce,le=O+F+X,Ee=M-le;if(le<=de){const ne=S===R[R.length-1].ref.current;a.style.bottom="0px";const he=c.clientHeight-y.offsetTop-y.offsetHeight,Ke=Math.max(ye,ce+(ne?ie:0)+he+K),De=le+Ke;a.style.height=De+"px"}else{const ne=S===R[0].ref.current;a.style.top="0px";const Ke=Math.max(de,O+y.offsetTop+(ne?H:0)+ce)+Ee;a.style.height=Ke+"px",y.scrollTop=le-de+y.offsetTop}a.style.margin=`${Yn}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,S,C,i.dir,r]);dn(()=>E(),[E]);const[b,T]=g.useState();dn(()=>{c&&T(window.getComputedStyle(c).zIndex)},[c]);const A=g.useCallback(P=>{P&&x.current===!0&&(E(),w==null||w(),x.current=!1)},[E,w]);return g.createElement(iz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:A},g.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b}},g.createElement(ct.div,te({},o,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),T1=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Yn,...i}=t,s=Fg(n);return g.createElement(TB,te({},s,i,{ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[iz,Og]=Ts(us,{}),_1="SelectViewport",sz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=ii(_1,n),i=Og(_1,n),s=yt(e,o.onViewportChange),a=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(md.Slot,{scope:n},g.createElement(ct.div,te({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:nt(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&u){const p=Math.abs(a.current-c.scrollTop);if(p>0){const v=window.innerHeight-Yn*2,x=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),S=Math.max(x,y);if(S<v){const C=S+p,w=Math.min(v,C),E=C-w;u.style.height=w+"px",u.style.bottom==="0px"&&(c.scrollTop=E>0?E:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),az="SelectGroup",[rH,lz]=Ts(az),cz="SelectLabel",uz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=lz(cz,n);return g.createElement(ct.div,te({id:o.id},r,{ref:e}))}),Tp="SelectItem",[dz,c_]=Ts(Tp),fz=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...s}=t,a=oi(Tp,n),l=ii(Tp,n),c=a.value===r,[u,d]=g.useState(i??""),[p,v]=g.useState(!1),x=yt(e,C=>{var w;return(w=l.itemRefCallback)===null||w===void 0?void 0:w.call(l,C,r,o)}),y=V2(),S=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};return g.createElement(dz,{scope:n,value:r,disabled:o,textId:y,isSelected:c,onItemTextChange:g.useCallback(C=>{d(w=>{var E;return w||((E=C==null?void 0:C.textContent)!==null&&E!==void 0?E:"").trim()})},[])},g.createElement(md.ItemSlot,{scope:n,value:r,disabled:o,textValue:u},g.createElement(ct.div,te({role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},s,{ref:x,onFocus:nt(s.onFocus,()=>v(!0)),onBlur:nt(s.onBlur,()=>v(!1)),onPointerUp:nt(s.onPointerUp,S),onPointerMove:nt(s.onPointerMove,C=>{if(o){var w;(w=l.onItemLeave)===null||w===void 0||w.call(l)}else C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(s.onPointerLeave,C=>{if(C.currentTarget===document.activeElement){var w;(w=l.onItemLeave)===null||w===void 0||w.call(l)}}),onKeyDown:nt(s.onKeyDown,C=>{var w;((w=l.searchRef)===null||w===void 0?void 0:w.current)!==""&&C.key===" "||(GB.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})}))))}),nc="SelectItemText",hz=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...i}=t,s=oi(nc,n),a=ii(nc,n),l=c_(nc,n),c=KB(nc,n),[u,d]=g.useState(null),p=yt(e,C=>d(C),l.onItemTextChange,C=>{var w;return(w=a.itemTextRefCallback)===null||w===void 0?void 0:w.call(a,C,l.value,l.disabled)}),v=u==null?void 0:u.textContent,x=g.useMemo(()=>g.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},v),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=c;return dn(()=>(y(x),()=>S(x)),[y,S,x]),g.createElement(g.Fragment,null,g.createElement(ct.span,te({id:l.textId},i,{ref:p})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?mr.createPortal(i.children,s.valueNode):null)}),pz="SelectItemIndicator",mz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c_(pz,n).isSelected?g.createElement(ct.span,te({"aria-hidden":!0},r,{ref:e})):null}),P1="SelectScrollUpButton",gz=g.forwardRef((t,e)=>{const n=ii(P1,t.__scopeSelect),r=Og(P1,t.__scopeSelect),[o,i]=g.useState(!1),s=yt(e,r.onScrollButtonChange);return dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollTop>0;i(c)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?g.createElement(u_,te({},t,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),A1="SelectScrollDownButton",vz=g.forwardRef((t,e)=>{const n=ii(A1,t.__scopeSelect),r=Og(A1,t.__scopeSelect),[o,i]=g.useState(!1),s=yt(e,r.onScrollButtonChange);return dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;i(u)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?g.createElement(u_,te({},t,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),u_=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,i=ii("SelectScrollButton",n),s=g.useRef(null),a=gd(n),l=g.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),dn(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),g.createElement(ct.div,te({"aria-hidden":!0},o,{ref:e,style:{flexShrink:0,...o.style},onPointerDown:nt(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:nt(o.onPointerMove,()=>{var c;(c=i.onItemLeave)===null||c===void 0||c.call(i),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:nt(o.onPointerLeave,()=>{l()})}))}),yz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.createElement(ct.div,te({"aria-hidden":!0},r,{ref:e}))}),d_=g.forwardRef((t,e)=>{const{value:n,...r}=t,o=g.useRef(null),i=yt(e,o),s=AB(n);return g.useEffect(()=>{const a=o.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[s,n]),g.createElement(kB,{asChild:!0},g.createElement("select",te({},r,{ref:i,defaultValue:n})))});d_.displayName="BubbleSelect";function f_(t){const e=ur(t),n=g.useRef(""),r=g.useRef(0),o=g.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function h_(t,e,n){const o=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let s=xz(t,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function xz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const wz=YB,p_=XB,Cz=ZB,Sz=ez,Ez=tz,m_=nz,bz=sz,g_=uz,v_=fz,Tz=hz,_z=mz,y_=gz,x_=vz,w_=yz,wc=wz,Cc=Cz,ma=k.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(p_,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(Sz,{asChild:!0,children:f.jsx(Vm,{className:"h-4 w-4 opacity-50"})})]}));ma.displayName=p_.displayName;const C_=k.forwardRef(({className:t,...e},n)=>f.jsx(y_,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(aE,{className:"h-4 w-4"})}));C_.displayName=y_.displayName;const S_=k.forwardRef(({className:t,...e},n)=>f.jsx(x_,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(Vm,{className:"h-4 w-4"})}));S_.displayName=x_.displayName;const ga=k.forwardRef(({className:t,children:e,position:n="popper",...r},o)=>f.jsx(Ez,{children:f.jsxs(m_,{ref:o,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(C_,{}),f.jsx(bz,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(S_,{})]})}));ga.displayName=m_.displayName;const Pz=k.forwardRef(({className:t,...e},n)=>f.jsx(g_,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Pz.displayName=g_.displayName;const Ze=k.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(v_,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(_z,{children:f.jsx(rD,{className:"h-4 w-4"})})}),f.jsx(Tz,{children:e})]}));Ze.displayName=v_.displayName;const Az=k.forwardRef(({className:t,...e},n)=>f.jsx(w_,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));Az.displayName=w_.displayName;const kz="AIzaSyBp4y2ZMJTbIODvgULuCygQE-E5B0gDueU";async function Nz(t){const e=new Za({apiKey:kz});try{const n=`Suggest 5 creative and catchy store name options based on the following description or keywords: "${t}". Return the names as a JSON array of strings. For example: ["StoreName1", "StoreName2", "StoreName3", "StoreName4", "StoreName5"]`,r=await e.models.generateContent({model:"gemini-2.0-flash",contents:n});let o="";if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts&&r.candidates[0].content.parts.length>0&&r.candidates[0].content.parts[0].text)o=r.candidates[0].content.parts[0].text;else return console.error("Could not extract text from AI response for store name suggestions. Response:",JSON.stringify(r)),{error:"AI response structure not as expected or empty.",rawResponse:JSON.stringify(r)};const i=o.match(/```json\s*([\s\S]*?)\s*```/);let s=[];if(i&&i[1])s=JSON.parse(i[1]);else try{s=JSON.parse(o)}catch{if(console.error("Failed to parse suggestions as JSON from:",o),s=o.split(/[\n,]+/).map(l=>l.trim()).filter(l=>l.length>0).slice(0,5),s.length===0)return{error:"Could not parse store name suggestions from AI response.",rawResponse:o}}return!Array.isArray(s)||s.some(a=>typeof a!="string")?(console.error("Parsed suggestions are not a valid array of strings:",s),{error:"AI response was not in the expected format (array of strings).",rawResponse:o}):{suggestions:s.slice(0,5)}}catch(n){return console.error("Error generating store name suggestions:",n),{error:`Error generating suggestions: ${n.message}`}}}const Iz="AIzaSyBp4y2ZMJTbIODvgULuCygQE-E5B0gDueU",Rz=[{category:Mt.HARM_CATEGORY_HARASSMENT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_HATE_SPEECH,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE}];async function Mz(t,e,n=null,r="image/png"){if(!t||!e)throw new Error("Product type and store name are required to generate a product.");const o=new Za({apiKey:Iz});let i=`Generate a product for a store named "${e}" that sells ${t}.
The product should include:
1. A catchy title.
2. A brief description (15-25 words).
3. A realistic price (e.g., 29.99, 45.00).
4. A visually appealing product image.

Return the text details (title, description, price) as a single JSON object in the text part of your response.
IMPORTANT: The text part of your response must contain ONLY this JSON object and NO other text, explanations, or conversational remarks. For example:
{
  "title": "Example Product Title",
  "description": "This is a fantastic example product, perfect for your needs and desires.",
  "price": "19.99"
}

Generate an image for this product in the image part of your response.`;const s=[];n?(i+=`

A logo image is also provided. Subtly incorporate this logo onto the product, its packaging, or in the scene if appropriate. For example, it could be a small brand mark on the item or a logo in the background if it's a lifestyle shot. Ensure the product remains the main focus.`,s.push({text:i}),s.push({inlineData:{data:n,mimeType:r}}),console.log(`[geminiProductGeneration Function] Generating product with logo for type: ${t}, store: ${e}`)):(s.push({text:i}),console.log(`[geminiProductGeneration Function] Generating product without logo for type: ${t}, store: ${e}`));try{const a=await o.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:s,safetySettings:Rz,config:{responseModalities:[Vn.TEXT,Vn.IMAGE]}});let l=null,c=null,u="";if(a.candidates&&a.candidates.length>0&&a.candidates[0].content&&a.candidates[0].content.parts)for(const d of a.candidates[0].content.parts)if(d.text){u+=d.text;try{let p=null;const v=d.text.trim(),x=v.match(/```json\s*([\s\S]*?)\s*```/);if(x&&x[1])p=x[1];else{let y=v.indexOf("{"),S=v.lastIndexOf("{"),C=S!==-1?S:y;if(C!==-1){let w=0,E=-1;for(let b=C;b<v.length&&(v[b]==="{"?w++:v[b]==="}"&&w--,!(w===0&&C===b&&v[b]!=="{"));b++)if(w===0&&v[b]==="}"){E=b,p=v.substring(C,E+1);try{JSON.parse(p);break}catch{if(p=null,C===S&&y!==-1&&y!==S){C=y,b=y-1,w=0;continue}break}}}}p?l=JSON.parse(p):console.warn("[geminiProductGeneration Function] Could not extract JSON from text part:",d.text)}catch(p){console.warn("[geminiProductGeneration Function] Error parsing extracted JSON string:",jsonStringToParse,"Original text:",d.text,p)}}else d.inlineData&&d.inlineData.data&&(c=d.inlineData.data,console.log("[geminiProductGeneration Function] Image data found for product."));if(!l||!c){let d="Failed to generate complete product data. ";throw l||(d+="Text details missing. "),c||(d+="Image data missing. "),console.error(d,"Raw text response:",u),new Error(d+`Raw text (if any): ${u}`)}if(typeof l.title!="string"||typeof l.description!="string"||typeof l.price!="string"&&typeof l.price!="number")throw console.error("[geminiProductGeneration Function] Parsed product details are not in the expected format:",l),new Error("AI response for product details was not in the expected format (title, description, price).");return l.price=String(l.price),console.log("[geminiProductGeneration Function] Successfully generated product details and image data."),{...l,imageData:c}}catch(a){throw console.error("[geminiProductGeneration Function] Error:",a.message,a.stack),new Error(`Product generation failed: ${a.message}`)}}const k1=[{value:"fashion",label:"Fashion & Apparel"},{value:"electronics",label:"Electronics & Gadgets"},{value:"food",label:"Food & Beverage"},{value:"jewelry",label:"Jewelry & Accessories"},{value:"homedecor",label:"Home Decor & Furnishings"},{value:"beauty",label:"Beauty & Personal Care"},{value:"books",label:"Books & Media"},{value:"sports",label:"Sports & Outdoors"},{value:"toys",label:"Toys & Games"},{value:"general",label:"General Merchandise"}],$z=(t,e)=>{const{formData:n,handleInputChange:r,handleProductTypeChange:o,handleProductSourceChange:i,handleProductCountChange:s,handleManualProductChange:a,addManualProduct:l,removeManualProduct:c,suggestStoreName:u,generateLogo:d,generateAiProducts:p,isProcessing:v,productTypeOptions:x,storeNameSuggestions:y,handleSuggestionClick:S,suggestionError:C}=e;switch(t){case 1:return f.jsxs(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[f.jsx(pe,{htmlFor:"productType",className:"text-lg font-semibold",children:"What kind of products will your store sell?"}),f.jsx(Se,{id:"productType",name:"productType",value:n.productType,onChange:w=>o(w.target.value),placeholder:"e.g., Fashion, Electronics, Home Decor",list:"productTypeSuggestions"}),f.jsx("datalist",{id:"productTypeSuggestions",children:x.map(w=>f.jsx("option",{value:w.label},w.value))}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"This helps us tailor product suggestions and store design. Type to see suggestions."})]},"step1");case 2:return f.jsxs(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[f.jsx(pe,{htmlFor:"storeName",className:"text-lg font-semibold",children:"What's your store name?"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Se,{id:"storeName",name:"storeName",value:n.storeName,onChange:r,placeholder:"e.g., 'The Cozy Corner Bookstore'"}),f.jsxs(q,{type:"button",variant:"outline",onClick:u,disabled:v||!n.productType,children:[v?f.jsx(Me,{className:"h-4 w-4 animate-spin"}):f.jsx(eu,{className:"h-4 w-4"}),f.jsx("span",{className:"ml-2 hidden sm:inline",children:"Suggest"})]})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a catchy name or let us suggest one based on your product type!"}),C&&f.jsx("p",{className:"text-sm text-red-500 mt-2",children:C}),y&&y.length>0&&f.jsxs("div",{className:"mt-3 space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Suggestions:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((w,E)=>f.jsx(q,{variant:"outline",size:"sm",onClick:()=>S(w),className:"bg-primary-foreground hover:bg-primary/10",children:w},E))})]})]},"step2");case 3:return f.jsxs(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[f.jsx(pe,{className:"text-lg font-semibold",children:"Design a logo for your store"}),f.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 border rounded-md",children:[n.logoUrl?f.jsx("img",{src:n.logoUrl,alt:"Generated logo",className:"w-32 h-32 object-contain rounded-md border"}):f.jsx("div",{className:"w-32 h-32 bg-muted rounded-md flex items-center justify-center text-muted-foreground",children:"Logo Preview"}),f.jsxs(q,{type:"button",onClick:d,disabled:v||!n.storeName,children:[v?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(ja,{className:"mr-2 h-4 w-4"}),"Generate Logo with AI"]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"AI will generate a logo based on your store name and product type. (Uses Gemini API - Placeholder)"})]}),f.jsx(pe,{htmlFor:"logoUrl",className:"text-sm",children:"Or paste an image URL:"}),f.jsx(Se,{id:"logoUrl",name:"logoUrl",value:n.logoUrl,onChange:r,placeholder:"https://example.com/logo.png"})]},"step3");case 4:return f.jsxs(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6 w-full",children:[f.jsx(pe,{className:"text-lg font-semibold",children:"How do you want to add products?"}),f.jsxs(wc,{onValueChange:i,value:n.products.source,children:[f.jsx(ma,{children:f.jsx(Cc,{placeholder:"Choose product source..."})}),f.jsxs(ga,{children:[f.jsx(Ze,{value:"ai",children:"Generate with AI"}),f.jsx(Ze,{value:"manual",children:"Add Manually"}),f.jsx(Ze,{value:"csv",disabled:!0,children:"Upload CSV (Coming Soon)"})]})]}),n.products.source==="ai"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(pe,{htmlFor:"productCount",children:"Number of AI Products to Generate"}),f.jsx(Se,{id:"productCount",type:"number",min:"1",max:"5",value:n.products.count,onChange:s})]}),f.jsxs(q,{type:"button",onClick:p,disabled:v||!n.productType||!n.storeName,className:"w-full",children:[v?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(eu,{className:"mr-2 h-4 w-4"}),"Generate Products with AI"]}),C&&n.products.source==="ai"&&f.jsx("p",{className:"text-sm text-red-500 mt-2",children:C}),n.products.items.length>0&&f.jsxs("div",{className:"space-y-3 max-h-72 overflow-y-auto pr-2 mt-4",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Generated Products:"}),n.products.items.map((w,E)=>f.jsxs(qt,{className:"p-4 flex gap-4 items-start",children:[w.imageUrl?f.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-24 h-24 object-cover rounded-md border"}):f.jsx("div",{className:"w-24 h-24 bg-muted rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"No Image"}),f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("h4",{className:"font-semibold text-md",children:w.name||"Untitled Product"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",w.price||"0.00"]}),f.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:w.description||"No description."})]})]},E))]})]}),n.products.source==="manual"&&f.jsxs("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:[n.products.items.map((w,E)=>f.jsxs(qt,{className:"p-4 space-y-3 relative",children:[f.jsx(q,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-7 w-7",onClick:()=>c(E),disabled:n.products.items.length<=1,children:f.jsx(Um,{className:"h-4 w-4 text-destructive"})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx(pe,{htmlFor:`productName-${E}`,children:"Product Name"}),f.jsx(Se,{id:`productName-${E}`,value:w.name,onChange:b=>a(E,"name",b.target.value),placeholder:"e.g., 'Handmade Coffee Mug'"})]}),f.jsxs("div",{children:[f.jsx(pe,{htmlFor:`productPrice-${E}`,children:"Price (USD)"}),f.jsx(Se,{id:`productPrice-${E}`,type:"number",value:w.price,onChange:b=>a(E,"price",b.target.value),placeholder:"e.g., '24.99'"})]})]}),f.jsxs("div",{children:[f.jsx(pe,{htmlFor:`productDescription-${E}`,children:"Short Description (Optional)"}),f.jsx(no,{id:`productDescription-${E}`,value:w.description,onChange:b=>a(E,"description",b.target.value),placeholder:"e.g., 'Beautifully crafted ceramic mug, perfect for your morning coffee.'",rows:2})]})]},E)),f.jsxs(q,{type:"button",variant:"outline",onClick:l,className:"w-full",children:[f.jsx(wD,{className:"mr-2 h-4 w-4"})," Add Another Product"]})]})]},"step4");case 5:return f.jsxs(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[f.jsx(pe,{htmlFor:"prompt",className:"text-lg font-semibold",children:"Describe your store's overall style and feel"}),f.jsx(no,{id:"prompt",name:"prompt",value:n.prompt,onChange:r,placeholder:"e.g., 'A minimalist and modern design with a focus on high-quality product imagery. Use a cool color palette.' OR 'A vibrant and playful store with bold colors and fun animations.'",className:"min-h-[100px]"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"This will influence the theme, layout, and imagery. Your store name, logo, and products are already included."})]},"step5");default:return null}},Dz=(t,e)=>!!(t===1&&!e.productType||t===2&&!e.storeName||t===4&&e.products.source==="manual"&&e.products.items.some(n=>!n.name||!n.price)||t===5&&!e.prompt),Lz=()=>{const[t,e]=g.useState(1),[n,r]=g.useState([]),[o,i]=g.useState({productType:"",storeName:"",logoUrl:"",products:{source:"ai",count:3,items:[]},prompt:""}),[s,a]=g.useState(!1),[l,c]=g.useState(null),{generateStoreFromWizard:u,isGenerating:d}=lt(),p=R=>{const{name:D,value:U}=R.target;i($=>({...$,[D]:U}))},v=R=>{i(D=>({...D,productType:R}))},x=R=>{i(D=>({...D,products:{...D.products,source:R}}))},y=R=>{i(D=>({...D,products:{...D.products,count:parseInt(R.target.value)||1}}))},S=(R,D,U)=>{const $=[...o.products.items];$[R][D]=U,i(O=>({...O,products:{...O.products,items:$}}))},C=()=>{i(R=>({...R,products:{...R.products,items:[...R.products.items,{name:"",price:"",description:"",imageUrl:""}]}}))},w=R=>{const D=o.products.items.filter((U,$)=>$!==R);i(U=>({...U,products:{...U.products,items:D}}))},E=async()=>{var R;if(!o.productType){c("Please select a product type first.");return}a(!0),r([]),c(null);try{const D=((R=k1.find($=>$.value===o.productType))==null?void 0:R.label)||o.productType,U=await Nz(D);U.error?(console.error("Failed to suggest store names:",U.error),c(U.error),r([])):U.suggestions&&U.suggestions.length>0?r(U.suggestions):(c("No suggestions received, or response was empty."),r([]))}catch(D){console.error("Error in suggestStoreNameHandler:",D),c(`An unexpected error occurred: ${D.message}`),r([])}a(!1)},b=R=>{i(D=>({...D,storeName:R})),r([])},T=async()=>{if(!o.storeName){console.warn("Store name is required to generate a logo."),c("Please ensure a store name is set before generating a logo.");return}a(!0),c(null);try{throw console.warn("[StoreWizard] generateLogoWithGemini call is temporarily disabled due to build issues."),new Error("Logo generation feature is temporarily disabled in StoreWizard.")}catch(R){console.error("Failed to generate logo (or feature disabled):",R),c(`Logo generation failed: ${R.message}`)}a(!1)},A=async()=>{if(!o.productType||!o.storeName){c("Please provide a product type and store name before generating AI products.");return}a(!0),c(null);const R=[];try{let D=null,U="image/png";if(o.logoUrl&&o.logoUrl.startsWith("data:")){const $=o.logoUrl.split(",");if($.length===2){const O=$[0];D=$[1];const F=O.match(/:(.*?);/);F&&F[1]&&(U=F[1]),console.log(`[StoreWizard] Using logo for product generation. MimeType: ${U}`)}else console.warn("[StoreWizard] formData.logoUrl is not a valid data URL format.")}for(let $=0;$<o.products.count;$++){console.log(`Generating AI product ${$+1} of ${o.products.count}...`);const O=await Mz(o.productType,o.storeName,D,U);O&&O.imageData?R.push({name:O.title,description:O.description,price:O.price,imageUrl:`data:image/png;base64,${O.imageData}`}):console.warn(`Failed to generate full data for product ${$+1}. Skipping.`)}i($=>({...$,products:{...$.products,items:R}})),R.length===0&&o.products.count>0&&c("AI failed to generate any products. Please try again or adjust settings.")}catch(D){console.error("Error generating AI products:",D),c(`Failed to generate AI products: ${D.message}`)}a(!1)},P=()=>e(R=>R+1),_=()=>e(R=>R-1),N=async()=>{await u(o)},I={formData:o,handleInputChange:p,handleProductTypeChange:v,handleProductSourceChange:x,handleProductCountChange:y,handleManualProductChange:S,addManualProduct:C,removeManualProduct:w,suggestStoreName:E,generateLogo:T,generateAiProducts:A,isProcessing:s,productTypeOptions:k1,storeNameSuggestions:n,handleSuggestionClick:b,suggestionError:l};return f.jsxs(qt,{className:"w-full max-w-2xl mx-auto shadow-xl",children:[f.jsxs(Ln,{children:[f.jsx(jn,{className:"text-2xl font-bold",children:"Store Creation Wizard"}),f.jsxs(cr,{children:["Step ",t," of 5: Let's build your online store together!"]}),f.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mt-2",children:f.jsx(we.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${t/5*100}%`},transition:{duration:.5,ease:"easeInOut"}})})]}),f.jsx(Sn,{className:"min-h-[250px] flex items-center",children:f.jsx(op,{mode:"wait",children:$z(t,I)})}),f.jsxs(Ss,{className:"flex justify-between",children:[f.jsxs(q,{variant:"outline",onClick:_,disabled:t===1||d,children:[f.jsx(ns,{className:"mr-2 h-4 w-4"})," Previous"]}),t<5?f.jsxs(q,{onClick:P,disabled:Dz(t,o)||d,children:["Next ",f.jsx(Om,{className:"ml-2 h-4 w-4"})]}):f.jsxs(q,{onClick:N,disabled:d||!o.prompt,children:[d?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(ja,{className:"mr-2 h-4 w-4"}),"Generate Store"]})]})]})};var jz=g.createContext(void 0);function E_(t){const e=g.useContext(jz);return t||e||"ltr"}var Nf="rovingFocusGroup.onEntryFocus",Fz={bubbles:!1,cancelable:!0},fl="RovingFocusGroup",[_p,b_,Oz]=DS(fl),[Vz,T_]=ys(fl,[Oz]),[Uz,Bz]=Vz(fl),__=g.forwardRef((t,e)=>f.jsx(_p.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(_p.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(zz,{...t,ref:e})})}));__.displayName=fl;var zz=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=g.useRef(null),v=Tt(e,p),x=E_(i),[y,S]=Vu({prop:s,defaultProp:a??null,onChange:l,caller:fl}),[C,w]=g.useState(!1),E=Un(c),b=b_(n),T=g.useRef(!1),[A,P]=g.useState(0);return g.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(Nf,E),()=>_.removeEventListener(Nf,E)},[E]),f.jsx(Uz,{scope:n,orientation:r,dir:x,loop:o,currentTabStopId:y,onItemFocus:g.useCallback(_=>S(_),[S]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>P(_=>_+1),[]),onFocusableItemRemove:g.useCallback(()=>P(_=>_-1),[]),children:f.jsx(Fe.div,{tabIndex:C||A===0?-1:0,"data-orientation":r,...d,ref:v,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{T.current=!0}),onFocus:Pe(t.onFocus,_=>{const N=!T.current;if(_.target===_.currentTarget&&N&&!C){const I=new CustomEvent(Nf,Fz);if(_.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=b().filter(F=>F.focusable),D=R.find(F=>F.active),U=R.find(F=>F.id===y),O=[D,U,...R].filter(Boolean).map(F=>F.ref.current);k_(O,u)}}T.current=!1}),onBlur:Pe(t.onBlur,()=>w(!1))})})}),P_="RovingFocusGroupItem",A_=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:s,...a}=t,l=fa(),c=i||l,u=Bz(P_,n),d=u.currentTabStopId===c,p=b_(n),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:y}=u;return g.useEffect(()=>{if(r)return v(),()=>x()},[r,v,x]),f.jsx(_p.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:f.jsx(Fe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Pe(t.onMouseDown,S=>{r?u.onItemFocus(c):S.preventDefault()}),onFocus:Pe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Pe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=Hz(S,u.orientation,u.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=p().filter(b=>b.focusable).map(b=>b.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const b=E.indexOf(S.currentTarget);E=u.loop?qz(E,b+1):E.slice(b+1)}setTimeout(()=>k_(E))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:y!=null}):s})})});A_.displayName=P_;var Gz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Hz(t,e,n){const r=Wz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gz[r]}function k_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Kz=__,Yz=A_,vd="Tabs",[Jz,oH]=ys(vd,[T_]),N_=T_(),[Xz,Vg]=Jz(vd),I_=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=E_(a),[d,p]=Vu({prop:r,onChange:o,defaultProp:i??"",caller:vd});return f.jsx(Xz,{scope:n,baseId:fa(),value:d,onValueChange:p,orientation:s,dir:u,activationMode:l,children:f.jsx(Fe.div,{dir:u,"data-orientation":s,...c,ref:e})})});I_.displayName=vd;var R_="TabsList",M_=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...o}=t,i=Vg(R_,n),s=N_(n);return f.jsx(Kz,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:e})})});M_.displayName=R_;var $_="TabsTrigger",D_=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=t,s=Vg($_,n),a=N_(n),l=F_(s.baseId,r),c=O_(s.baseId,r),u=r===s.value;return f.jsx(Yz,{asChild:!0,...a,focusable:!o,active:u,children:f.jsx(Fe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...i,ref:e,onMouseDown:Pe(t.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:Pe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:Pe(t.onFocus,()=>{const d=s.activationMode!=="manual";!u&&!o&&d&&s.onValueChange(r)})})})});D_.displayName=$_;var L_="TabsContent",j_=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...s}=t,a=Vg(L_,n),l=F_(a.baseId,r),c=O_(a.baseId,r),u=r===a.value,d=g.useRef(u);return g.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(xs,{present:o||u,children:({present:p})=>f.jsx(Fe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});j_.displayName=L_;function F_(t,e){return`${t}-trigger-${e}`}function O_(t,e){return`${t}-content-${e}`}var Qz=I_,V_=M_,U_=D_,B_=j_;const Zz=Qz,z_=k.forwardRef(({className:t,...e},n)=>f.jsx(V_,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));z_.displayName=V_.displayName;const Sc=k.forwardRef(({className:t,...e},n)=>f.jsx(U_,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Sc.displayName=U_.displayName;const Ec=k.forwardRef(({className:t,...e},n)=>f.jsx(B_,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ec.displayName=B_.displayName;const eG=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState("ai-prompt");return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(uT,{}),f.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-1 container mx-auto px-4 py-8",children:[f.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-10",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:"Build Your Dream E-commerce Store"}),f.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Choose your path: use our AI-powered prompt generator, follow a step-by-step wizard, or import an existing store from Shopify."})]}),f.jsxs(Zz,{value:n,onValueChange:r,className:"w-full max-w-3xl mx-auto mb-12",children:[f.jsxs(z_,{className:"grid w-full grid-cols-2 md:grid-cols-3 mb-6",children:[f.jsx(Sc,{value:"ai-prompt",children:"AI Prompt"}),f.jsx(Sc,{value:"wizard",children:"Step-by-Step Wizard"}),f.jsx(Sc,{value:"shopify-import",className:"hidden md:inline-flex",onClick:()=>e(!0),children:"Import Shopify"})]}),f.jsx(Ec,{value:"ai-prompt",children:f.jsx(BF,{})}),f.jsx(Ec,{value:"wizard",children:f.jsx(Lz,{})}),f.jsx(Ec,{value:"shopify-import",children:f.jsxs("div",{className:"text-center p-8 border rounded-lg bg-card",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"Click the button below to open the Shopify import dialog."}),f.jsxs(q,{onClick:()=>e(!0),variant:"default",size:"lg",children:[f.jsx(w0,{className:"mr-2 h-5 w-5"}),"Import from Shopify"]})]})})]}),f.jsxs("div",{className:"mb-8 flex justify-center md:hidden",children:[" ",f.jsxs(q,{onClick:()=>e(!0),variant:"outline",size:"lg",className:"w-full max-w-xs",children:[f.jsx(w0,{className:"mr-2 h-5 w-5"}),"Import from Shopify"]})]}),f.jsx(aV,{})]}),f.jsx("footer",{className:"mt-auto py-6 text-center text-sm text-muted-foreground",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," StoreGen AI. All rights reserved."]})}),f.jsx(zV,{isOpen:t,onClose:()=>{e(!1)}})]})},tG=()=>{const{user:t}=vg();return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(uT,{}),f.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),f.jsxs("p",{className:"mb-4",children:["Welcome, ",(t==null?void 0:t.email)||"Admin","!"]}),f.jsxs("div",{className:"bg-card p-6 rounded-lg shadow",children:[f.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Admin-Specific Content"}),f.jsx("p",{children:"This area is restricted to administrators. Here you can manage users, view all stores, access Stripe data, etc."}),f.jsx("div",{className:"mt-4 p-4 border border-dashed rounded",children:"Admin tools and data will be displayed here."})]})]}),f.jsx("footer",{className:"mt-auto py-6 text-center text-sm text-muted-foreground",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," StoreGen AI - Admin Panel"]})})]})},nG=Fm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pp({className:t,variant:e,...n}){return f.jsx("div",{className:ae(nG({variant:e}),t),...n})}var rG="Separator",N1="horizontal",oG=["horizontal","vertical"],G_=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=N1,...o}=t,i=iG(r)?r:N1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(Fe.div,{"data-orientation":i,...a,...o,ref:e})});G_.displayName=rG;function iG(t){return oG.includes(t)}var W_=G_;const Jo=k.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},o)=>f.jsx(W_,{ref:o,decorative:n,orientation:e,className:ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Jo.displayName=W_.displayName;const H_=({store:t,isPublishedView:e=!1})=>{const{name:n,theme:r,logo_url:o,id:i}=t,{cart:s,removeFromCart:a,updateQuantity:l}=lt(),[c,u]=g.useState(!1),[d,p]=g.useState(!1),v=Gn(),x=s.filter(T=>T.storeId===i),y=x.reduce((T,A)=>T+A.quantity,0),S=x.reduce((T,A)=>T+A.price*A.quantity,0),C=`/store/${i}`,w=[{href:C,label:"Home"},{href:`#products-${i}`,label:"Products"},{href:`#features-${i}`,label:"Features"},{href:`#contact-${i}`,label:"Contact"}],E=(T,A)=>{if(T.preventDefault(),u(!1),A.startsWith("/store/"))v(A);else{const P=A.substring(1),_=document.getElementById(P);_?_.scrollIntoView({behavior:"smooth"}):v(C)}},b=()=>{p(!1),v("/checkout",{state:{cart:x,storeName:n,storeId:i}})};return f.jsxs(f.Fragment,{children:[f.jsx(we.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"sticky top-0 z-40 w-full bg-background/90 backdrop-blur-md border-b",style:{borderColor:`${r.primaryColor}30`},children:f.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[f.jsxs(zo,{to:C,className:"flex items-center gap-2 group",children:[o&&f.jsx("img",{src:o,alt:`${n} logo`,className:"h-12 w-12 object-contain group-hover:scale-110 transition-transform duration-200"}),f.jsx("span",{className:"font-bold text-xl tracking-tight group-hover:text-primary transition-colors",style:{color:r.primaryColor},children:n})]}),f.jsx("nav",{className:"hidden md:flex items-center gap-x-6",children:w.map(T=>f.jsx("a",{href:T.href,onClick:A=>E(A,T.href),className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",style:{"--hover-color":r.primaryColor},children:T.label},T.label))}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(q,{variant:"ghost",size:"icon",className:"hidden md:flex text-muted-foreground hover:text-primary",style:{"--hover-color":r.primaryColor},children:f.jsx(ED,{className:"h-5 w-5"})}),f.jsxs(q,{variant:"outline",className:"relative",onClick:()=>p(!0),style:{borderColor:r.primaryColor,color:r.primaryColor},children:[f.jsx(Zc,{className:"h-5 w-5"}),y>0&&f.jsx(Pp,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",style:{backgroundColor:r.secondaryColor||"red"},children:y}),f.jsx("span",{className:"ml-2 hidden sm:inline",children:"Cart"})]}),f.jsx(q,{variant:"ghost",size:"icon",className:"md:hidden text-muted-foreground hover:text-primary",onClick:()=>u(!0),style:{"--hover-color":r.primaryColor},children:f.jsx(gD,{className:"h-6 w-6"})})]})]})}),f.jsx(op,{children:c&&f.jsxs(we.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 z-50 bg-background p-6 md:hidden",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs(zo,{to:C,className:"flex items-center gap-2",onClick:()=>u(!1),children:[o&&f.jsx("img",{src:o,alt:`${n} logo`,className:"h-12 w-12 object-contain"}),f.jsx("span",{className:"font-bold text-xl",style:{color:r.primaryColor},children:n})]}),f.jsx(q,{variant:"ghost",size:"icon",onClick:()=>u(!1),children:f.jsx(Fa,{className:"h-6 w-6"})})]}),f.jsx("nav",{className:"flex flex-col gap-y-4",children:w.map(T=>f.jsx("a",{href:T.href,onClick:A=>E(A,T.href),className:"text-lg font-medium text-foreground hover:text-primary transition-colors",style:{"--hover-color":r.primaryColor},children:T.label},T.label))})]})}),f.jsx(op,{children:d&&f.jsx($i.Root,{open:d,onOpenChange:p,children:f.jsxs($i.Portal,{children:[f.jsx($i.Overlay,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),f.jsxs($i.Content,{className:"fixed z-50 inset-y-0 right-0 h-full w-full max-w-md bg-background border-l shadow-xl flex flex-col",as:we.div,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Your Cart"}),f.jsx(q,{variant:"ghost",size:"icon",onClick:()=>p(!1),children:f.jsx(Fa,{className:"h-5 w-5"})})]}),x.length===0?f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[f.jsx(Zc,{className:"h-16 w-16 text-muted-foreground mb-4"}),f.jsx("p",{className:"text-lg font-medium",children:"Your cart is empty"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added anything yet."}),f.jsx(q,{onClick:()=>p(!1),className:"mt-6",style:{backgroundColor:r.primaryColor},children:"Continue Shopping"})]}):f.jsxs(f.Fragment,{children:[f.jsx(za,{className:"flex-1 p-6",children:f.jsx("div",{className:"space-y-4",children:x.map(T=>{var A,P,_,N;return f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("img",{src:((P=(A=T.image)==null?void 0:A.src)==null?void 0:P.tiny)||((N=(_=T.image)==null?void 0:_.src)==null?void 0:N.medium)||`https://via.placeholder.com/80x80.png?text=${T.name.substring(0,1)}`,alt:T.name,className:"w-20 h-20 object-cover rounded-md border"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:T.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: $",T.price.toFixed(2)]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(q,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>l(T.id,i,T.quantity-1),children:f.jsx("span",{className:"text-lg leading-none",children:"-"})}),f.jsx("span",{className:"text-sm w-4 text-center",children:T.quantity}),f.jsx(q,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>l(T.id,i,T.quantity+1),children:f.jsx("span",{className:"text-lg leading-none",children:"+"})})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"font-semibold text-sm",children:["$",(T.price*T.quantity).toFixed(2)]}),f.jsx(q,{variant:"ghost",size:"icon",className:"h-7 w-7 mt-1 text-muted-foreground hover:text-destructive",onClick:()=>a(T.id,i),children:f.jsx(Um,{className:"h-4 w-4"})})]})]},T.id)})})}),f.jsx(Jo,{}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"flex justify-between font-medium",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["$",S.toFixed(2)]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Shipping and taxes calculated at checkout."}),f.jsx(q,{className:"w-full",size:"lg",style:{backgroundColor:r.primaryColor},onClick:b,children:"Proceed to Checkout"})]})]})]})]})})})]})},$i={Root:({children:t,...e})=>f.jsx("div",{...e,children:t}),Portal:({children:t})=>f.jsx(f.Fragment,{children:t}),Overlay:k.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("fixed inset-0 z-50",t),...e})),Content:k.forwardRef(({className:t,children:e,...n},r)=>f.jsx("div",{ref:r,className:ae("fixed z-50",t),...n,children:e}))};$i.Overlay.displayName="DialogPrimitive.Overlay";$i.Content.displayName="DialogPrimitive.Content";const Ug="AIzaSyBp4y2ZMJTbIODvgULuCygQE-E5B0gDueU",vu=new Za({apiKey:Ug}),sG=async(t,e={})=>{var n,r,o;if(!t||typeof t!="string"||t.trim()==="")throw new Error("A valid prompt string is required.");console.log(`Starting video generation with prompt: "${t}"`);try{let i=await vu.models.generateVideos({model:"veo-2.0-generate-001",prompt:t,config:{personGeneration:"dont_allow",aspectRatio:"16:9",numberOfVideos:1,durationSeconds:6,...e}});for(console.log("Video generation operation started:",i.name);!i.done;)console.log(`Polling operation ${i.name}, current status: ${((n=i.metadata)==null?void 0:n.state)||"UNKNOWN"}`),await new Promise(a=>setTimeout(a,1e4)),i=await vu.operations.getVideosOperation({operation:i});if(console.log("Video generation operation completed:",i.name,"Done:",i.done),i.error)throw console.error("Error during video generation operation:",i.error),new Error(`Video generation failed: ${i.error.message||"Unknown error"}`);const s=(r=i.response)==null?void 0:r.generatedVideos;if(s&&s.length>0&&((o=s[0].video)!=null&&o.uri)){const l=`${s[0].video.uri}&key=${Ug}`;return console.log("Generated video URI (with key appended):",l),l}else throw console.error("No video URI found in the response:",i.response),new Error("Video generation completed, but no video URI was returned.")}catch(i){throw console.error("Failed to generate video with Veo:",i),i.message&&i.message.includes("Quota")?new Error("Video generation failed due to quota limits. Please check your Google Cloud project quotas."):i.message&&i.message.includes("API key not valid")?new Error("Video generation failed due to an invalid API key. Please check your VITE_GEMINI_API_KEY."):i}},aG=async(t,e,n,r={})=>{var o,i,s;if(!t||typeof t!="string"||t.trim()==="")throw new Error("A valid prompt string is required.");if(!e||typeof e!="string")throw new Error("Valid base64 image data string is required.");if(!n||typeof n!="string")throw new Error("Valid image MIME type string is required.");console.log(`Starting image-to-video generation with prompt: "${t}" and image (mimeType: ${n})`);try{const a={model:"veo-2.0-generate-001",prompt:t,image:{imageBytes:e,mimeType:n},config:{personGeneration:"dont_allow",aspectRatio:"16:9",numberOfVideos:1,durationSeconds:6,...r}};console.log("Veo image-to-video payload (excluding imageBytes):",{...a,image:{mimeType:a.image.mimeType,imageBytes:"..."}});let l=await vu.models.generateVideos(a);for(console.log("Image-to-video generation operation started:",l.name);!l.done;)console.log(`Polling operation ${l.name}, current status: ${((o=l.metadata)==null?void 0:o.state)||"UNKNOWN"}`),await new Promise(u=>setTimeout(u,1e4)),l=await vu.operations.getVideosOperation({operation:l});if(console.log("Image-to-video generation operation completed:",l.name,"Done:",l.done),l.error)throw console.error("Error during image-to-video generation operation:",l.error),new Error(`Image-to-video generation failed: ${l.error.message||"Unknown error"}`);const c=(i=l.response)==null?void 0:i.generatedVideos;if(c&&c.length>0&&((s=c[0].video)!=null&&s.uri)){const d=`${c[0].video.uri}&key=${Ug}`;return console.log("Generated image-to-video URI (with key appended):",d),d}else throw console.error("No video URI found in the image-to-video response:",l.response),new Error("Image-to-video generation completed, but no video URI was returned.")}catch(a){throw console.error("Failed to generate image-to-video with Veo:",a),a.message&&a.message.includes("Quota")?new Error("Image-to-video generation failed due to quota limits."):a.message&&a.message.includes("API key not valid")?new Error("Image-to-video generation failed due to an invalid API key."):a}},lG=({open:t,onOpenChange:e,storeId:n,currentVideoUrl:r,onVideoReplaced:o})=>{const[i,s]=g.useState(""),[a,l]=g.useState(!1),[c,u]=g.useState(null),d=async()=>{if(!i.trim()){u("Please enter a prompt for the video.");return}l(!0),u(null);try{console.log(`Generating video for store ${n} with prompt: "${i}"`);const p=await sG(i);o&&o(p),e(!1),s("")}catch(p){console.error("Error generating video:",p),u(p.message||"Failed to generate video. Please try again.")}finally{l(!1)}};return f.jsx(as,{open:t,onOpenChange:e,children:f.jsxs(Wo,{className:"sm:max-w-[572px]",children:[f.jsxs(Ho,{className:"text-left",children:[f.jsx(Ko,{children:"Replace Hero Video"}),f.jsxs(ll,{className:"text-left",children:["Generate a new video using a text prompt with Veo 2. The current video is: ",f.jsx("br",{}),f.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline truncate block max-w-full",children:r||"No video set"})]})]}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{children:[f.jsx(pe,{htmlFor:"prompt",className:"text-left block mb-1",children:"Prompt"}),f.jsx(Se,{id:"prompt",value:i,onChange:p=>s(p.target.value),placeholder:"e.g., A futuristic cityscape at sunset",disabled:a})]}),c&&f.jsx("p",{className:"text-sm text-red-500 text-center",children:c})]}),f.jsxs(qo,{className:"justify-start",children:[f.jsx(q,{variant:"outline",onClick:()=>e(!1),disabled:a,children:"Cancel"}),f.jsx(q,{onClick:d,disabled:a||!i.trim(),children:a?"Generating...":"Generate Video"})]})]})})},cG=({store:t,isPublishedView:e=!1})=>{var b;const{name:n,theme:r,heroImage:o,content:i,id:s,hero_video_url:a,hero_video_poster_url:l}=t,{updateStore:c}=lt(),[u,d]=g.useState(!1),p=(i==null?void 0:i.heroTitle)||`Welcome to ${n}`,v=(i==null?void 0:i.heroDescription)||`Explore ${n}, your destination for amazing products.`,x=((b=o==null?void 0:o.src)==null?void 0:b.large)||(o==null?void 0:o.url)||"https://via.placeholder.com/1200x800.png?text=Store+Image",y=(o==null?void 0:o.alt)||(o==null?void 0:o.altText)||`${n} hero image`,S=l||x,C=()=>{d(!0)},w=async T=>{if(s&&T)try{await c(s,{hero_video_url:T,hero_video_poster_url:""})}catch(A){console.error("Failed to update store with new video URL:",A)}},E=()=>{const T=document.getElementById(`products-${s}`);T&&T.scrollIntoView({behavior:"smooth"})};return f.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 dark:from-slate-900 dark:to-slate-800/50",children:[f.jsx("div",{className:"absolute inset-0 hero-pattern opacity-10 dark:opacity-5"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-background to-transparent"}),f.jsx("div",{className:"container mx-auto px-4 py-20 md:py-32 relative z-10",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[f.jsxs(we.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2,ease:"easeOut"},className:"space-y-6 text-center md:text-left",children:[f.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight",style:{color:r.primaryColor},children:p}),f.jsx("p",{className:"text-lg text-muted-foreground max-w-lg mx-auto md:mx-0",children:v}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-4 pt-4",children:[f.jsxs(q,{size:"lg",className:"rounded-full shadow-lg hover:shadow-xl transition-shadow duration-300",style:{backgroundColor:r.primaryColor,color:"white"},onClick:E,children:["Shop Collection",f.jsx(Bu,{className:"ml-2 h-5 w-5"})]}),f.jsxs(q,{variant:"outline",size:"lg",className:"rounded-full shadow-sm hover:shadow-md transition-shadow duration-300",style:{borderColor:r.primaryColor,color:r.primaryColor},onClick:E,children:["Explore More",f.jsx(Om,{className:"ml-2 h-5 w-5"})]})]})]}),f.jsxs(we.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.4,type:"spring",stiffness:100},className:"relative group",children:[f.jsx("div",{className:"absolute -inset-2 rounded-xl opacity-30 group-hover:opacity-50 transition-opacity duration-300",style:{background:`linear-gradient(45deg, ${r.primaryColor}, ${r.secondaryColor||r.primaryColor})`}}),f.jsxs("div",{className:"aspect-video md:aspect-[5/4] rounded-xl overflow-hidden shadow-2xl relative z-10 transform group-hover:scale-105 transition-transform duration-300 bg-black",children:[" ",!e&&a&&f.jsx(q,{variant:"outline",size:"icon",className:"absolute top-2 right-2 z-20 bg-background/70 hover:bg-background/90 text-foreground",onClick:C,title:"Replace Video",children:f.jsx(xD,{className:"h-5 w-5"})}),a?f.jsx("video",{src:a,poster:S,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",onError:T=>console.error("Error playing video:",T),children:"Your browser does not support the video tag."},a):f.jsx("img",{alt:y,className:"w-full h-full object-cover",src:x}),f.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"absolute bottom-4 left-4 right-4 md:left-auto md:bottom-4 md:right-4 md:w-auto bg-background/80 backdrop-blur-sm rounded-lg p-4 shadow-xl z-20 hidden md:block",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-full flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:r.primaryColor},children:n.substring(0,1).toUpperCase()}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-foreground",children:n}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"New Arrivals Daily"})]})]})})]})]})]})}),!e&&a&&s&&f.jsx(lG,{open:u,onOpenChange:d,storeId:s,currentVideoUrl:a,onVideoReplaced:w})]})},uG=({product:t,theme:e,index:n,storeId:r,isPublishedView:o=!1})=>{var w;const{name:i,price:s,rating:a,description:l,image:c,currencyCode:u="USD",id:d}=t,{addToCart:p}=lt(),x=(E=>typeof E=="string"&&E.startsWith("gid://shopify/"))(d)?btoa(d):d,y=((w=c==null?void 0:c.src)==null?void 0:w.medium)||(c==null?void 0:c.url)||`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(i)}`,S=(c==null?void 0:c.alt)||`${i} product image`,C=E=>{E.preventDefault(),E.stopPropagation(),p(t,r)};return f.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:n*.05,ease:"easeOut"},whileHover:{y:-8,boxShadow:"0px 10px 20px rgba(0,0,0,0.1)"},className:"product-card h-full",children:f.jsxs(qt,{className:"h-full overflow-hidden border hover:border-primary/50 transition-all duration-300 flex flex-col group bg-card shadow-sm hover:shadow-lg",children:[f.jsx(zo,{to:`/store/${r}/product/${x}`,className:"block",children:f.jsxs("div",{className:"aspect-square relative overflow-hidden bg-muted",children:[f.jsx("img",{alt:S,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",src:y}),f.jsx("div",{className:"absolute top-3 right-3 px-2.5 py-1 text-xs font-semibold text-white rounded-full shadow-md",style:{backgroundColor:e.primaryColor},children:"NEW"}),f.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:f.jsx(lE,{className:"h-10 w-10 text-white"})})]})}),f.jsxs(Sn,{className:"p-4 flex-grow",children:[f.jsx(zo,{to:`/store/${r}/product/${x}`,className:"block",children:f.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[f.jsx("h3",{className:"font-semibold text-md lg:text-lg line-clamp-2 group-hover:text-primary transition-colors",style:{"--hover-color":e.primaryColor},children:i}),f.jsxs("span",{className:"font-bold text-md lg:text-lg whitespace-nowrap",style:{color:e.primaryColor},children:[u," ",s.toFixed(2)]})]})}),f.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:l}),f.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((E,b)=>f.jsx(uE,{className:`h-3.5 w-3.5 ${b<Math.floor(a)?"fill-amber-400 text-amber-400":"text-muted-foreground/50"}`},b)),f.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a," reviews)"]})]})]}),f.jsx(Ss,{className:"p-4 pt-0 mt-auto",children:f.jsxs(q,{className:"w-full transition-transform duration-200 hover:scale-105",style:{backgroundColor:e.primaryColor,color:"white"},onClick:C,children:[f.jsx(Zc,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})})]})})},dG=({store:t,isPublishedView:e=!1})=>{const{products:n,theme:r,id:o}=t;return!n||n.length===0?f.jsxs("section",{id:`products-${o}`,className:"py-12 container mx-auto px-4 text-center",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Products"}),f.jsx("p",{className:"text-muted-foreground",children:"No products available at the moment. Check back soon!"})]}):f.jsx("section",{id:`products-${o}`,className:"py-12 bg-background",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-3 tracking-tight",children:"Featured Products"}),f.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto text-md md:text-lg",children:"Explore our curated selection of high-quality items, handpicked for you."})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:n.map((i,s)=>f.jsx(uG,{product:i,theme:r,index:s,storeId:o,isPublishedView:e},i.id||`product-${s}`))})]})})},fG=[{icon:TD,title:"Fast Worldwide Shipping",description:"Get your orders delivered quickly and reliably, no matter where you are."},{icon:bD,title:"Secure Online Payments",description:"Shop with confidence using our encrypted and secure payment gateways."},{icon:vD,title:"24/7 Customer Support",description:"Our dedicated team is here to help you around the clock with any queries."},{icon:CD,title:"Easy Returns & Exchanges",description:"Not satisfied? We offer a hassle-free return and exchange policy."}],hG=({store:t,isPublishedView:e=!1})=>{const{theme:n,content:r,id:o}=t,i=fG.map((s,a)=>{var l,c;return{...s,title:((l=r==null?void 0:r.featureTitles)==null?void 0:l[a])||s.title,description:((c=r==null?void 0:r.featureDescriptions)==null?void 0:c[a])||s.description}});return f.jsx("section",{id:`features-${o}`,className:"py-16 bg-muted/50 dark:bg-slate-800/30",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Why Shop With Us?"}),f.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto mt-2",children:"We are committed to providing you with the best shopping experience."})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((s,a)=>f.jsxs(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2+a*.1,ease:"easeOut"},className:"bg-card p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:`${n.primaryColor}20`},children:f.jsx(s.icon,{className:"w-8 h-8",style:{color:n.primaryColor}})}),f.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:s.title}),f.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]},a))})]})})},pG=({store:t,isPublishedView:e=!1})=>{const{theme:n,content:r,name:o}=t,{toast:i}=vr(),[s,a]=g.useState(""),[l,c]=g.useState(!1),u=(r==null?void 0:r.newsletterHeading)||`Stay Updated with ${o}`,d=(r==null?void 0:r.newsletterText)||"Subscribe to our newsletter for the latest products, offers, and news.",p=async v=>{if(v.preventDefault(),!s.trim()){i({title:"Email required",description:"Please enter your email address.",variant:"destructive"});return}c(!0),await new Promise(x=>setTimeout(x,1e3)),i({title:"Subscribed!",description:`Thanks for subscribing to ${o}'s newsletter.`}),a(""),c(!1)};return f.jsx("section",{className:"py-16 bg-background",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto text-center bg-muted/60 dark:bg-slate-800/40 p-8 md:p-12 rounded-xl shadow-lg",style:{borderColor:`${n.primaryColor}30`,borderWidth:"1px"},children:[f.jsx(mD,{className:"w-12 h-12 mx-auto mb-4",style:{color:n.primaryColor}}),f.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3 tracking-tight text-foreground",children:u}),f.jsx("p",{className:"text-muted-foreground mb-6",children:d}),f.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[f.jsx(Se,{type:"email",placeholder:"Enter your email address",className:"flex-grow h-12 text-base",value:s,onChange:v=>a(v.target.value),disabled:l,required:!0}),f.jsxs(q,{type:"submit",className:"h-12 text-base",style:{backgroundColor:n.primaryColor,color:"white"},disabled:l,children:[l?f.jsx(mG,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Subscribe"]})]})]})})})},mG=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),q_=({store:t,isPublishedView:e=!1})=>{const{name:n,theme:r,id:o}=t,i=new Date().getFullYear(),s=[{icon:aD,href:"#",label:"Facebook"},{icon:uD,href:"#",label:"Instagram"},{icon:_D,href:"#",label:"Twitter"},{icon:dD,href:"#",label:"LinkedIn"}],l=[{href:`/store/${o}`,label:"Home"},{href:`#products-${o}`,label:"Products"},{href:"#",label:"About Us"},{href:"#",label:"Contact"},{href:"#",label:"FAQ"},{href:"#",label:"Privacy Policy"},{href:"#",label:"Terms of Service"}];return f.jsx(we.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"bg-muted dark:bg-slate-900 text-muted-foreground pt-12 pb-8",id:`contact-${o}`,children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 mb-8",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-xl font-semibold text-foreground",style:{color:r.primaryColor},children:n}),f.jsxs("p",{className:"text-sm",children:["Your favorite destination for ",t.type||"quality products",". We are committed to bringing you the best."]}),f.jsx("div",{className:"flex space-x-3 pt-2",children:s.map(c=>f.jsx("a",{href:c.href,"aria-label":c.label,className:"p-2 rounded-full bg-background/50 hover:bg-primary/10 transition-colors",style:{"--hover-bg-color":`${r.primaryColor}1A`,"--hover-text-color":r.primaryColor},children:f.jsx(c.icon,{className:"h-5 w-5"})},c.label))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Quick Links"}),f.jsx("ul",{className:"space-y-2",children:l.slice(0,4).map(c=>f.jsx("li",{children:f.jsx("a",{href:c.href,className:"text-sm hover:text-primary transition-colors",style:{"--hover-color":r.primaryColor},children:c.label})},c.label))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Customer Service"}),f.jsx("ul",{className:"space-y-2",children:l.slice(4).map(c=>f.jsx("li",{children:f.jsx("a",{href:c.href,className:"text-sm hover:text-primary transition-colors",style:{"--hover-color":r.primaryColor},children:c.label})},c.label))})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Contact Us"}),f.jsx("p",{children:"123 Store Street, Cityville, ST 12345"}),f.jsxs("p",{children:["Email: ",f.jsxs("a",{href:`mailto:info@${n.toLowerCase().replace(/\s+/g,"")}.com`,className:"hover:text-primary",style:{"--hover-color":r.primaryColor},children:["info@",n.toLowerCase().replace(/\s+/g,""),".com"]})]}),f.jsxs("p",{children:["Phone: ",f.jsx("a",{href:"tel:+1234567890",className:"hover:text-primary",style:{"--hover-color":r.primaryColor},children:"(123) 456-7890"})]})]})]}),f.jsx("div",{className:"border-t pt-6 text-center text-xs",children:f.jsxs("p",{children:[" ",i," ",n,". All Rights Reserved. Powered by StoreGen AI."]})})]})})},gG=({store:t,onEdit:e})=>{const n=Gn(),{toast:r}=vr(),{viewMode:o,setViewMode:i}=lt(),s=()=>{r({title:"Export Started",description:"Your store code is being prepared for download."}),setTimeout(()=>{r({title:"Export Complete",description:"Your store code has been downloaded successfully."})},2e3)},a=()=>{navigator.clipboard.writeText(`${window.location.origin}/store/${t.id}`),r({title:"Link Copied",description:"Store link has been copied to clipboard."})},l=()=>{const u=o==="edit"?"published":"edit";i(u),r({title:`Switched to ${u==="published"?"Consumer View":"Admin View"}`,description:`Store is now in ${u==="published"?"consumer":"admin editing"} mode.`})},c=()=>{o!=="edit"&&i("edit"),e()};return f.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-md border-t z-50 py-3",children:f.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[f.jsxs(q,{variant:"outline",size:"sm",onClick:()=>n("/"),children:[f.jsx(ns,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[o==="edit"&&f.jsxs(f.Fragment,{children:[f.jsxs(q,{variant:"outline",size:"sm",onClick:a,children:[f.jsx(oD,{className:"mr-2 h-4 w-4"}),"Copy Link"]}),f.jsxs(q,{variant:"outline",size:"sm",onClick:s,children:[f.jsx(iD,{className:"mr-2 h-4 w-4"}),"Export Code"]}),f.jsxs(q,{size:"sm",onClick:c,children:[f.jsx(cE,{className:"mr-2 h-4 w-4"}),"Edit Store"]})]}),f.jsx(q,{size:"sm",onClick:l,variant:"outline",className:o==="edit"?"text-green-600 border-green-600 hover:bg-green-50 hover:text-green-700":"text-blue-600 border-blue-600 hover:bg-blue-50 hover:text-blue-700",children:o==="edit"?f.jsxs(f.Fragment,{children:[f.jsx(lE,{className:"mr-2 h-4 w-4"})," View as Consumer"]}):f.jsxs(f.Fragment,{children:[f.jsx(sD,{className:"mr-2 h-4 w-4"})," View as Admin"]})})]})]})})},vG=({store:t,open:e,onOpenChange:n})=>{const r=Gn(),{updateStore:o}=lt(),[i,s]=g.useState({name:t.name,description:t.description,type:t.type,theme:{primaryColor:t.theme.primaryColor,secondaryColor:t.theme.secondaryColor,fontFamily:t.theme.fontFamily,layout:t.theme.layout}}),a=u=>{const{name:d,value:p}=u.target;s(v=>({...v,[d]:p}))},l=(u,d)=>{s(p=>({...p,theme:{...p.theme,[u]:d}}))},c=u=>{u.preventDefault(),o(t.id,i),n(!1),r(`/preview/${t.id}`)};return f.jsx(as,{open:e,onOpenChange:n,children:f.jsxs(Wo,{className:"sm:max-w-[600px]",children:[f.jsxs(Ho,{children:[f.jsx(Ko,{children:"Edit Store"}),f.jsx(ll,{children:"Customize your store's details and appearance."})]}),f.jsxs("form",{onSubmit:c,className:"space-y-6 py-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"name",children:"Store Name"}),f.jsx(Se,{id:"name",name:"name",value:i.name,onChange:a,required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"description",children:"Description"}),f.jsx(no,{id:"description",name:"description",value:i.description,onChange:a,rows:3})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"type",children:"Store Type"}),f.jsxs(wc,{value:i.type,onValueChange:u=>s(d=>({...d,type:u})),children:[f.jsx(ma,{id:"type",children:f.jsx(Cc,{placeholder:"Select store type"})}),f.jsxs(ga,{children:[f.jsx(Ze,{value:"fashion",children:"Fashion"}),f.jsx(Ze,{value:"electronics",children:"Electronics"}),f.jsx(Ze,{value:"food",children:"Food"}),f.jsx(Ze,{value:"jewelry",children:"Jewelry"}),f.jsx(Ze,{value:"general",children:"General"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Theme Settings"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"primaryColor",children:"Primary Color"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Se,{id:"primaryColor",name:"primaryColor",type:"color",value:i.theme.primaryColor,onChange:u=>l("primaryColor",u.target.value),className:"w-12 h-10 p-1"}),f.jsx(Se,{value:i.theme.primaryColor,onChange:u=>l("primaryColor",u.target.value),className:"flex-1"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"secondaryColor",children:"Secondary Color"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Se,{id:"secondaryColor",name:"secondaryColor",type:"color",value:i.theme.secondaryColor,onChange:u=>l("secondaryColor",u.target.value),className:"w-12 h-10 p-1"}),f.jsx(Se,{value:i.theme.secondaryColor,onChange:u=>l("secondaryColor",u.target.value),className:"flex-1"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"fontFamily",children:"Font Family"}),f.jsxs(wc,{value:i.theme.fontFamily,onValueChange:u=>l("fontFamily",u),children:[f.jsx(ma,{id:"fontFamily",children:f.jsx(Cc,{placeholder:"Select font"})}),f.jsxs(ga,{children:[f.jsx(Ze,{value:"Inter",children:"Inter"}),f.jsx(Ze,{value:"Roboto",children:"Roboto"}),f.jsx(Ze,{value:"Poppins",children:"Poppins"}),f.jsx(Ze,{value:"Montserrat",children:"Montserrat"}),f.jsx(Ze,{value:"Open Sans",children:"Open Sans"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pe,{htmlFor:"layout",children:"Layout Style"}),f.jsxs(wc,{value:i.theme.layout,onValueChange:u=>l("layout",u),children:[f.jsx(ma,{id:"layout",children:f.jsx(Cc,{placeholder:"Select layout"})}),f.jsxs(ga,{children:[f.jsx(Ze,{value:"grid",children:"Grid"}),f.jsx(Ze,{value:"list",children:"List"}),f.jsx(Ze,{value:"masonry",children:"Masonry"}),f.jsx(Ze,{value:"carousel",children:"Carousel"})]})]})]})]})]})]}),f.jsx(qo,{children:f.jsx(q,{type:"submit",children:"Save Changes"})})]})]})})},yG=()=>{const{storeId:t}=oS(),{getStoreById:e,setCurrentStore:n,viewMode:r,isLoadingStores:o}=lt(),{toast:i}=vr(),[s,a]=g.useState(null),[l,c]=g.useState(!1);if(g.useEffect(()=>{if(o)return;const d=e(t);d?(a(d),n(d)):i({title:"Store Not Found",description:`Could not find store with ID: ${t}`,variant:"destructive"})},[t,e,n,i,o]),o||!s)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading store..."})]})});const u=r==="published";return f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsx(H_,{store:s,isPublishedView:u}),f.jsx(cG,{store:s,isPublishedView:u}),f.jsx(dG,{store:s,isPublishedView:u}),f.jsx(hG,{store:s,isPublishedView:u}),f.jsx(pG,{store:s,isPublishedView:u}),f.jsx(q_,{store:s,isPublishedView:u}),f.jsx(gG,{store:s,onEdit:()=>c(!0)}),!u&&f.jsx(vG,{store:s,open:l,onOpenChange:c})]})},xG=t=>new Promise((e,n)=>{if(!t)return n(new Error("Image source is undefined or null."));if(t.startsWith("data:"))try{const r=t.split(",");if(r.length<2)throw new Error("Invalid data URL structure.");const o=r[0],i=r[1],s=o.match(/:(.*?);/);if(!s||!s[1])throw new Error("Could not parse MIME type from data URL.");const a=s[1];e({base64ImageData:i,mimeType:a})}catch(r){console.error("Error parsing data URL:",t,r),n(new Error(`Invalid data URL format: ${r.message}`))}else{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{const o=document.createElement("canvas");o.width=r.naturalWidth,o.height=r.naturalHeight,o.getContext("2d").drawImage(r,0,0);try{let s="image/png";(t.toLowerCase().endsWith(".jpg")||t.toLowerCase().endsWith(".jpeg"))&&(s="image/jpeg");const c=o.toDataURL(s).split(",")[1];e({base64ImageData:c,mimeType:s})}catch(s){console.error("Canvas toDataURL failed:",s),n(new Error("Canvas toDataURL failed. "+s.message))}},r.onerror=o=>{console.error("Failed to load image from URL for conversion:",t,o),n(new Error("Failed to load image from URL for conversion."))},r.src=t}}),wG=({open:t,onOpenChange:e,product:n,onVideoGenerated:r})=>{var b,T,A,P;const[o,i]=g.useState(""),[s,a]=g.useState(null),[l,c]=g.useState(null),[u,d]=g.useState(!1),[p,v]=g.useState(!1),[x,y]=g.useState(null),{toast:S}=vr(),C=((T=(b=n==null?void 0:n.image)==null?void 0:b.src)==null?void 0:T.large)||((P=(A=n==null?void 0:n.image)==null?void 0:A.src)==null?void 0:P.medium);g.useEffect(()=>{t&&C&&(y(null),i(""),a(null),c(null),xG(C).then(_=>{a(_.base64ImageData),c(_.mimeType)}).catch(_=>{console.error("Error loading product image data:",_),y(`Failed to load product image: ${_.message}`),S({title:"Error",description:`Failed to load product image: ${_.message}`,variant:"destructive"})}))},[t,C,S]);const w=async()=>{if(!s||!l){S({title:"Error",description:"Product image data is not available to suggest a prompt.",variant:"destructive"});return}d(!0),y(null);try{throw console.warn("[GenerateProductVideoModal] generateCaptionForImageData call is temporarily disabled due to build issues."),new Error("Prompt suggestion feature is temporarily disabled.")}catch(_){console.error("Error generating prompt suggestion (or feature disabled):",_),y(`Failed to suggest prompt: ${_.message}`),S({title:"Suggestion Failed",description:`Could not suggest a prompt: ${_.message}`,variant:"destructive"})}finally{d(!1)}},E=async()=>{if(!o.trim()){y("Please enter a prompt for the video.");return}if(!s||!l){y("Product image data is not available.");return}v(!0),y(null);try{const _=await aG(o,s,l);r&&r(_),e(!1)}catch(_){console.error("Error generating product video:",_),y(_.message||"Failed to generate video. Please try again."),S({title:"Video Generation Failed",description:_.message,variant:"destructive"})}finally{v(!1)}};return n?f.jsx(as,{open:t,onOpenChange:e,children:f.jsxs(Wo,{className:"sm:max-w-lg",children:[f.jsxs(Ho,{children:[f.jsx(Ko,{children:"Generate Product Video"}),f.jsxs(ll,{children:['Create a short video for "',n.name,'" using its image and a prompt.']})]}),f.jsxs("div",{className:"grid gap-4 py-4",children:[C&&f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("img",{src:C,alt:n.name,className:"w-32 h-32 object-contain rounded border"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Using this image as the base."})]}),f.jsxs("div",{className:"grid w-full gap-1.5",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx(pe,{htmlFor:"video-prompt",children:"Video Prompt"}),f.jsxs(q,{variant:"outline",size:"sm",onClick:w,disabled:u||p||!s,children:[u?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(tu,{className:"mr-2 h-4 w-4"}),"Suggest"]})]}),f.jsx(no,{id:"video-prompt",value:o,onChange:_=>i(_.target.value),placeholder:"e.g., A dynamic shot of the product with vibrant background...",rows:4,disabled:u||p}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will use the product image and this prompt to create a video."})]}),x&&f.jsx("p",{className:"text-sm text-red-500 col-span-4 text-center",children:x})]}),f.jsxs(qo,{children:[f.jsx(mp,{asChild:!0,children:f.jsx(q,{variant:"outline",disabled:p,children:"Cancel"})}),f.jsxs(q,{onClick:E,disabled:u||p||!o.trim()||!s,children:[p?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(tu,{className:"mr-2 h-4 w-4"}),"Generate Video"]})]})]})}):null},CG="AIzaSyBp4y2ZMJTbIODvgULuCygQE-E5B0gDueU",SG=new Za({apiKey:CG}),EG="gemini-2.0-flash-preview-image-generation";async function If(t,e){if(!t)throw new Error("Image source is undefined or null.");let n,r=e;if(typeof t=="string"&&(t.startsWith("http://")||t.startsWith("https://"))){console.log(`Fetching image from URL: ${t}`);const i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch image from ${t}: ${i.statusText}`);const s=await i.blob();r=s.type||r||"image/jpeg",n=await new Promise((a,l)=>{const c=new FileReader;c.onloadend=()=>{typeof c.result=="string"?a(c.result.split(",")[1]):l(new Error("FileReader did not return a string for URL image."))},c.onerror=u=>l(new Error(`FileReader failed for URL image: ${u}`)),c.readAsDataURL(s)})}else if(typeof t=="string"&&t.startsWith("data:")){console.log("Processing Data URL image.");try{const i=t.split(",");if(i.length<2)throw new Error("Invalid data URL structure.");const s=i[0];n=i[1];const a=s.match(/:(.*?);/);if(!a||!a[1])throw new Error("Could not parse MIME type from data URL.");r=a[1]}catch(i){throw console.error("Error parsing data URL:",t,i),new Error(`Invalid data URL format: ${i.message}`)}}else if(typeof File<"u"&&t instanceof File)console.log(`Processing File object: ${t.name}`),r=t.type,n=await new Promise((i,s)=>{const a=new FileReader;a.onloadend=()=>{typeof a.result=="string"?i(a.result.split(",")[1]):s(new Error("FileReader did not return a string for File object."))},a.onerror=l=>s(new Error(`FileReader failed for File object: ${l}`)),a.readAsDataURL(t)});else if(typeof t=="string"){console.warn(`Received string imageSource that is not a URL or Data URL: "${t}". This path is intended for Node.js file paths.`);try{console.log(`Attempting to read image from local path (Node.js context): ${t}`),n=(await(await to(()=>import("./__vite-browser-external-b25bb000.js"),[])).readFile(t)).toString("base64");const l=(await to(()=>import("./__vite-browser-external-b25bb000.js"),[])).extname(t).toLowerCase();if(!r)if(l===".png")r="image/png";else if(l===".jpg"||l===".jpeg")r="image/jpeg";else if(l===".webp")r="image/webp";else if(l===".gif")r="image/gif";else throw new Error(`Unsupported image extension or MIME type not provided for path: ${t}`)}catch(i){throw console.error("Failed to process string as Node.js file path (this is expected in browser):",i),new Error("Unsupported string imageSource in browser. Must be URL or Data URL, or provide a File object.")}}else throw new Error("Unsupported image source type. Provide a URL, Data URL, or File object.");if(!n)throw new Error("Could not obtain base64 image data.");r||(r="image/jpeg",console.warn("MIME type could not be determined, defaulting to image/jpeg."));const o=["image/png","image/jpeg","image/webp","image/heic","image/heif"];return o.includes(r)||console.warn(`MIME type ${r} may not be optimally supported. Supported types are: ${o.join(", ")}.`),{inlineData:{data:n,mimeType:r}}}async function bG({mainProduct:t,referenceSceneSource:e,additionalProducts:n=[],customInstructions:r=""}){var s,a,l,c,u,d,p,v;if(!t||!t.name||!t.imageSource)throw new Error("Main product with name and imageSource is required.");if(!e)throw new Error("Reference scene imageSource is required.");const o=[];let i=`Visually integrate the product named "${t.name}" into a scene inspired by the provided reference scene image.
The main product is described as: "${t.description||"Not specified"}".
The reference scene image sets the style, lighting, and overall environment.
Make the main product the primary focus, well-lit, and naturally fitting the scene's perspective.
`;n.length>0&&(i+=`
Also, incorporate the following additional products naturally into the scene:
`,n.forEach((x,y)=>{i+=`- Product ${y+1}: "${x.name}" (Description: "${x.description||"Not specified"}")
`})),r.trim()!==""&&(i+=`
Specific User Instructions: "${r.trim()}"
`),i+=`
Please generate a high-quality, photorealistic image based on these instructions and the provided images. Also provide a brief text commentary about the generated image or any challenges encountered.`,o.push({text:i});try{o.push(await If(e)),o.push(await If(t.imageSource));for(const x of n)if(x.imageSource)try{o.push(await If(x.imageSource))}catch(y){console.warn(`Could not process image for additional product "${x.name}": ${y.message}. Skipping this image.`)}}catch(x){throw new Error(`Failed to process one or more input images: ${x.message}`)}console.log("Constructed prompt parts. Total parts:",o.length);try{const x=await SG.models.generateContent({model:EG,contents:[{role:"user",parts:o}],generationConfig:{temperature:.6,candidateCount:1},safetySettings:[{category:Mt.HARM_CATEGORY_HARASSMENT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_HATE_SPEECH,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE},{category:Mt.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:$t.BLOCK_MEDIUM_AND_ABOVE}],config:{responseModalities:[Vn.TEXT,Vn.IMAGE]}}),y=x;if(!y)throw console.error("Full API result from Gemini was undefined:",x),new Error("Invalid or empty response from Gemini API.");let S=null,C="No specific commentary from the model.";console.log("Full API response from Gemini:",JSON.stringify(y,null,2)),(s=y.promptFeedback)!=null&&s.blockReason&&(C=`Image generation may have been blocked. Reason: ${y.promptFeedback.blockReason}.`,console.warn(C));const w=(a=y.candidates)==null?void 0:a[0];if(w){if(w.finishReason&&w.finishReason!=="STOP"&&w.finishReason!=="MAX_TOKENS"){const E=`Generation stopped. Reason: ${w.finishReason}.`;C=C==="No specific commentary from the model."?E:`${C}. ${E}`,console.warn(E)}if(((c=(l=w.content)==null?void 0:l.parts)==null?void 0:c.length)>0)for(const E of w.content.parts)E.text?C=C==="No specific commentary from the model."||!C.includes(E.text)?C==="No specific commentary from the model."?E.text:C+" "+E.text:C:(d=(u=E.inlineData)==null?void 0:u.mimeType)!=null&&d.startsWith("image/")&&(S=`data:${E.inlineData.mimeType};base64,${E.inlineData.data}`,console.log(`Image generated successfully. MIME type: ${E.inlineData.mimeType}`))}else(p=y.promptFeedback)!=null&&p.blockReason||(C=C==="No specific commentary from the model."?"No candidates returned by the model.":`${C}. Also, no candidates were returned.`);return!S&&C==="No specific commentary from the model."&&(C="Image generation failed, and no specific reason or commentary was provided."),{imageUrl:S,commentary:C,promptUsed:i}}catch(x){console.error("Error during Gemini API call or response processing:",x);let y=x.message;throw(v=x.response)!=null&&v.message?y=x.response.message:x.response&&(y=JSON.stringify(x.response)),new Error(`Product visualization failed: ${y}`)}}const TG=({product:t,storeId:e,isPublishedView:n=!1})=>{const{toast:r}=vr(),{getStoreById:o}=lt(),[i,s]=g.useState(null),[a,l]=g.useState(null),[c,u]=g.useState(""),[d,p]=g.useState([]),[v,x]=g.useState([]),[y,S]=g.useState(null),[C,w]=g.useState(!1),[E,b]=g.useState(""),[T,A]=g.useState("#FFFFFF"),[P,_]=g.useState(""),[N,I]=g.useState(""),[R,D]=g.useState(!1),[U,$]=g.useState(!1);g.useEffect(()=>{if(e){const M=o(e);s(M),M&&t&&p(M.products.filter(V=>{var z,H;return V.id!==t.id&&((H=(z=V.image)==null?void 0:z.src)==null?void 0:H.medium)}))}},[e,t,o]);const O=M=>{const V=M.target.files[0];if(V){V.size>5*1024*1024&&r({title:"File too large",description:"Reference image should ideally be under 5MB.",variant:"destructive"}),l(V);const z=new FileReader;z.onloadend=()=>u(z.result),z.readAsDataURL(V),S(null),_(""),I("")}},F=()=>{l(null),u(""),S(null),_(""),I("")},K=M=>{x(V=>V.find(z=>z.id===M.id)?V.filter(z=>z.id!==M.id):[...V,M]),S(null),_(""),I("")},L=async()=>{var V,z,H,ie;if(!t||!a){r({title:"Missing inputs",description:"Main product and a reference image are required.",variant:"destructive"});return}w(!0),S(null),_(""),I("Generating visualization, please wait...");let M=E;T&&T!=="#FFFFFF"&&(M=`${E}. The main product should be ${T} color`.trim());try{const de={name:t.name,description:t.description,imageSource:((z=(V=t.image)==null?void 0:V.src)==null?void 0:z.large)||((ie=(H=t.image)==null?void 0:H.src)==null?void 0:ie.medium)},ye=v.map(X=>{var le,Ee,fe,ne;return{name:X.name,description:X.description,imageSource:((Ee=(le=X.image)==null?void 0:le.src)==null?void 0:Ee.large)||((ne=(fe=X.image)==null?void 0:fe.src)==null?void 0:ne.medium)}}),ce=await bG({mainProduct:de,referenceSceneSource:a,additionalProducts:ye,customInstructions:M});_(ce.promptUsed||"Prompt details not available."),I(ce.commentary||"Processing complete."),ce&&ce.imageUrl?(S(ce.imageUrl),r({title:"Visualization Generated!",description:ce.commentary||"Image created."})):r({title:"Visualization Issue",description:ce.commentary||"No image generated by AI.",variant:"default",duration:7e3})}catch(de){console.error("Error in ProductVisualizer calling generateProductVisualization:",de);const ye=de.message||"An unknown error occurred during visualization.";I(`Error: ${ye}`),r({title:"Visualization Failed",description:ye,variant:"destructive",duration:1e4})}finally{w(!1)}};return!t||!i?f.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Initializing Product Visualizer..."}):f.jsxs("div",{className:"my-8 border rounded-lg shadow-sm bg-card",children:[f.jsxs("div",{className:"p-4 md:p-6 cursor-pointer flex justify-between items-center",onClick:()=>$(!U),role:"button",tabIndex:0,onKeyDown:M=>(M.key==="Enter"||M.key===" ")&&$(!U),"aria-expanded":U,"aria-controls":"product-visualizer-content-area",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl md:text-2xl font-semibold",children:"Product Visualizer"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["See how ",f.jsx("span",{className:"font-medium text-primary",children:t.name})," looks in different settings."]})]}),f.jsx(q,{variant:"ghost",size:"icon","aria-label":U?"Collapse visualizer":"Expand visualizer",children:U?f.jsx(aE,{className:"h-6 w-6"}):f.jsx(Vm,{className:"h-6 w-6"})})]}),U&&f.jsxs("div",{id:"product-visualizer-content-area",className:"p-4 md:p-6 border-t",children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[f.jsxs("div",{className:"space-y-4 md:space-y-6",children:[f.jsxs("div",{children:[f.jsx(pe,{htmlFor:"visualizer-reference-image-upload",className:"text-md font-medium block mb-1",children:"1. Upload Reference Scene"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"E.g., a room, a model. (Max ~5MB recommended)"}),c?f.jsxs("div",{className:"relative group aspect-video rounded-md border overflow-hidden bg-muted/20",children:[f.jsx("img",{src:c,alt:"Reference scene preview",className:"w-full h-full object-contain"}),f.jsx(q,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition-opacity",onClick:F,"aria-label":"Remove reference image",children:f.jsx(Fa,{className:"h-4 w-4"})})]}):f.jsxs("label",{htmlFor:"visualizer-reference-image-input",className:"mt-1 flex flex-col justify-center items-center w-full h-40 md:h-48 px-6 py-5 border-2 border-dashed rounded-md cursor-pointer hover:border-primary transition-colors",children:[f.jsx(PD,{className:"mx-auto h-8 md:h-10 w-8 md:w-10 text-muted-foreground mb-2"}),f.jsx("span",{className:"font-semibold text-primary text-sm",children:"Click to upload image"}),f.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, GIF, WEBP"}),f.jsx(Se,{id:"visualizer-reference-image-input",type:"file",className:"sr-only",accept:"image/*",onChange:O})]})]}),d.length>0&&f.jsxs("div",{children:[f.jsx(pe,{className:"text-md font-medium block mb-1",children:"2. Add Other Products (Optional)"}),f.jsx(za,{className:"h-32 md:h-40 border rounded-md p-2",children:f.jsx("div",{className:"space-y-1.5",children:d.map(M=>f.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md cursor-pointer transition-all text-sm ${v.some(V=>V.id===M.id)?"bg-primary/10 ring-1 ring-primary":"hover:bg-muted/50"}`,onClick:()=>K(M),role:"checkbox","aria-checked":v.some(V=>V.id===M.id),tabIndex:0,onKeyDown:V=>(V.key==="Enter"||V.key===" ")&&K(M),children:[f.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[f.jsx("img",{src:M.image.src.medium,alt:M.name,className:"w-8 h-8 object-cover rounded flex-shrink-0"}),f.jsx("span",{className:"truncate",title:M.name,children:M.name})]}),v.some(V=>V.id===M.id)&&f.jsx(sE,{className:"h-4 w-4 text-primary flex-shrink-0"})]},M.id))})})]}),f.jsxs("div",{children:[f.jsx(pe,{htmlFor:"visualizer-product-color",className:"text-md font-medium block mb-1",children:"3. Main Product Color (Optional)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Se,{type:"color",id:"visualizer-product-color",value:T,onChange:M=>A(M.target.value),className:"w-12 h-10 p-1"}),f.jsx(Se,{type:"text",value:T,onChange:M=>A(M.target.value),placeholder:"#FFFFFF",className:"flex-grow h-10 text-sm"})]})]}),f.jsxs("div",{children:[f.jsx(pe,{htmlFor:"visualizer-custom-prompt",className:"text-md font-medium block mb-1",children:"4. Custom Instructions (Optional)"}),f.jsx(no,{id:"visualizer-custom-prompt",placeholder:"e.g., 'place the sofa by the window', 'make it a sunny day'",value:E,onChange:M=>b(M.target.value),rows:2,className:"resize-none text-sm"})]}),f.jsxs(q,{onClick:L,disabled:C||!a,className:"w-full py-2.5 text-sm md:text-base",size:"lg",children:[C?f.jsx(Me,{className:"mr-2 h-5 w-5 animate-spin"}):f.jsx(ja,{className:"mr-2 h-5 w-5"}),"Generate Visualization"]})]}),f.jsx("div",{className:"flex flex-col items-center justify-center border rounded-md p-2 md:p-4 bg-muted/30 min-h-[250px] md:min-h-[300px] lg:min-h-full relative",children:C?f.jsxs("div",{className:"text-center",children:[f.jsx(Me,{className:"h-12 w-12 animate-spin text-primary mb-3"}),f.jsx("p",{className:"text-muted-foreground font-medium",children:N||"Generating your scene..."})]}):y?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:y,alt:"Generated Product Visualization",className:"max-w-full max-h-[calc(100%-40px)] object-contain rounded-md"}),N&&!N.toLowerCase().includes("error")&&f.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center max-w-xs mx-auto",children:N}),f.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>D(!R),className:"absolute bottom-1 right-1 text-muted-foreground hover:text-primary h-auto p-1","aria-label":"Toggle prompt information",children:[f.jsx(cD,{className:"h-4 w-4 mr-1"})," ",f.jsx("span",{className:"text-xs",children:"Info"})]})]}):f.jsxs("div",{className:"text-center text-muted-foreground p-4",children:[N&&f.jsx("p",{className:`text-sm mb-2 ${N.toLowerCase().includes("error")||N.toLowerCase().includes("failed")?"text-destructive":""}`,children:N}),f.jsx(ja,{className:"h-12 w-12 mx-auto mb-3"}),f.jsx("p",{className:"font-medium",children:"Your product visualization will appear here."}),!y&&f.jsx("p",{className:"text-xs mt-1",children:'Upload a reference scene and click "Generate".'})]})})]}),R&&P&&!n&&f.jsxs("div",{className:"mt-4 p-3 border rounded-md bg-muted/50",children:[f.jsx(pe,{className:"text-xs font-semibold text-muted-foreground",children:"Technical Prompt Sent to AI:"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1 whitespace-pre-wrap",children:P})]}),f.jsx(Jo,{className:"mt-6 md:mt-8 mb-0"})]})]})},_G=()=>{var Ot,Pn,Hn,Vt,mo,go,pl,As,yd;const t=oS(),e=t.storeId,n=ee=>{if(typeof ee!="string"||ee.includes("://"))return!1;try{return btoa(atob(ee))===ee}catch{return!1}};let r=t.productId,o=r;if(n(r))try{o=atob(r)}catch(ee){console.error("Failed to decode Base64 productId:",r,ee)}const i=o,{getStoreById:s,getProductById:a,addToCart:l,updateProductImage:c,updateStore:u,isLoadingStores:d,viewMode:p}=lt(),v=p==="published",{toast:x}=vr(),y=Gn(),[S,C]=g.useState(null),[w,E]=g.useState(null),[b,T]=g.useState(1),[A,P]=g.useState(!1),[_,N]=g.useState(""),[I,R]=g.useState([]),[D,U]=g.useState(!1),[$,O]=g.useState(!1),[F,K]=g.useState(""),[L,M]=g.useState(!1),[V,z]=g.useState(!1),[H,ie]=g.useState(""),de=g.useCallback(ee=>new Promise((Te,G)=>{if(!ee)return G(new Error("Image source is undefined or null."));if(ee.startsWith("data:"))try{const W=ee.split(",");if(W.length<2)throw new Error("Invalid data URL structure.");const j=W[0],Y=W[1],Z=j.match(/:(.*?);/);if(!Z||!Z[1])throw new Error("Could not parse MIME type from data URL.");const Ce=Z[1];Te({base64ImageData:Y,mimeType:Ce})}catch(W){console.error("Error parsing data URL:",ee,W),G(new Error(`Invalid data URL format: ${W.message}`))}else{const W=new Image;W.crossOrigin="Anonymous",W.onload=()=>{const j=document.createElement("canvas");j.width=W.naturalWidth,j.height=W.naturalHeight,j.getContext("2d").drawImage(W,0,0);try{const An=j.toDataURL("image/png").split(",")[1];Te({base64ImageData:An,mimeType:"image/png"})}catch(Z){console.error("Canvas toDataURL failed:",Z),G(new Error("Canvas toDataURL failed, possibly due to CORS or tainted canvas. "+Z.message))}},W.onerror=j=>{console.error("Failed to load image from URL for conversion:",ee,j),G(new Error("Failed to load image from URL for conversion."))},W.src=ee}}),[]),ye=g.useCallback(async()=>{var ee,Te;if(!F.trim()||!w||!((Te=(ee=w.image)==null?void 0:ee.src)!=null&&Te.medium)){x({title:"Missing data",description:"Original image or edit prompt is missing.",variant:"destructive"});return}M(!0);try{throw console.warn("[ProductDetail] editImageWithGemini call is temporarily disabled due to build issues."),new Error("Image editing feature is temporarily disabled.")}catch(G){console.error("Error editing image (or feature disabled):",G),x({title:"Image Edit Failed",description:G.message,variant:"destructive"})}M(!1)},[w,F,e,i,c,x,de,O,K,M]);g.useEffect(()=>{if(d)return;console.log(`[ProductDetail] Attempting to load product. Store ID: ${e}, Product ID from URL: ${i}`);const ee=s(e);if(ee){C(ee),console.log("[ProductDetail] Store found:",ee.name);const Te=a(e,i);console.log("[ProductDetail] Product from getProductById:",Te?Te.name:"NOT FOUND",Te),Te?(E(Te),N(Te.name),ie(Te.video_url||"")):(x({title:"Product not found in store",description:`Product ID ${i} not found in store ${ee.name}.`,variant:"destructive"}),y(`/store/${e}`))}else x({title:"Store not found",description:`Could not find store with ID: ${e}`,variant:"destructive"}),y("/")},[e,i,s,a,y,x,d]);const ce=ee=>{const Te=parseInt(ee.target.value);Te>0&&T(Te)},X=()=>{l({...w,quantity:b},e)},le=async()=>{if(_.trim()){U(!0);try{const ee=await es(_,5,"square");R(ee)}catch(ee){x({title:"Image search failed",description:ee.message,variant:"destructive"})}U(!1)}},Ee=async()=>{if(_.trim()){U(!0);try{const ee=`Product image for: ${_}, ${(w==null?void 0:w.type)||(S==null?void 0:S.type)||"item"}`,Te=await a$(ee);R(G=>[{id:Date.now().toString(),src:{medium:Te.url,large:Te.url},alt:Te.alt,photographer:"Gemini AI"},...G.slice(0,4)]),x({title:"Image Generated",description:"Gemini AI generated an image."})}catch(ee){x({title:"Gemini image generation failed",description:ee.message,variant:"destructive"})}U(!1)}},fe=async ee=>{if(!S||!w)return;const Te=S.products.map(G=>G.id===i?{...G,video_url:ee}:G);try{await u(e,{products:Te}),ie(ee),x({title:"Product Video Generated",description:"The video has been added to the product."})}catch(G){console.error("Failed to update store with product video:",G),x({title:"Update Failed",description:"Could not save the product video.",variant:"destructive"})}},ne=ee=>{c(e,i,ee),P(!1),R([])};if(d||!S||!w)return f.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[f.jsx(Me,{className:"h-12 w-12 animate-spin text-primary"}),f.jsx("p",{className:"ml-4 text-muted-foreground",children:"Loading product details..."})]});const he=((Pn=(Ot=w.image)==null?void 0:Ot.src)==null?void 0:Pn.large)||((Vt=(Hn=w.image)==null?void 0:Hn.src)==null?void 0:Vt.medium)||`https://via.placeholder.com/600x600.png?text=${encodeURIComponent(w.name)}`,Ke=((mo=w.image)==null?void 0:mo.alt)||w.name,De=(As=(pl=(go=w.variants)==null?void 0:go.edges)==null?void 0:pl[0])==null?void 0:As.node,xt=(De==null?void 0:De.quantityAvailable)??w.stock??(w.availableForSale?1:0),Zt=((yd=S==null?void 0:S.theme)==null?void 0:yd.primaryColor)||"#000000";return f.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[f.jsx(H_,{store:S,isPublishedView:v}),f.jsxs(we.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8 md:py-12 flex-grow",children:[f.jsxs(q,{variant:"outline",onClick:()=>y(`/store/${e}`),className:"mb-6",children:[f.jsx(ns,{className:"mr-2 h-4 w-4"})," Back to Store"]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[f.jsxs(we.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"relative group",children:[f.jsx("img",{src:he,alt:Ke,className:"w-full h-auto aspect-square object-cover rounded-xl shadow-lg border"}),!v&&f.jsxs(f.Fragment,{children:[f.jsxs(q,{variant:"secondary",onClick:()=>P(!0),className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:[f.jsx(SD,{className:"mr-2 h-4 w-4"})," Change Image"]}),f.jsxs(q,{variant:"outline",size:"sm",onClick:()=>O(!0),className:"absolute top-16 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:[f.jsx(yD,{className:"mr-2 h-4 w-4"})," Edit Image"]}),f.jsxs(q,{variant:"outline",size:"sm",onClick:()=>z(!0),className:"absolute top-28 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:[f.jsx(AD,{className:"mr-2 h-4 w-4"})," Gen Video"]})]})]}),H&&f.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"md:col-span-2 lg:col-span-1 aspect-video rounded-xl overflow-hidden shadow-lg border relative mt-4 md:mt-0",children:f.jsx("video",{src:H,controls:!0,autoPlay:!1,loop:!0,playsInline:!0,className:"w-full h-full object-cover",poster:he,children:"Your browser does not support the video tag."},H)}),f.jsxs(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight text-foreground",children:w.name}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"flex items-center",children:[...Array(5)].map((ee,Te)=>f.jsx(uE,{className:`h-5 w-5 ${Te<Math.floor(w.rating)?"text-amber-400 fill-amber-400":"text-muted-foreground/30"}`},Te))}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",w.rating," reviews)"]}),f.jsx(Jo,{orientation:"vertical",className:"h-5"}),f.jsx(Pp,{variant:"outline",style:{borderColor:S.theme.primaryColor,color:S.theme.primaryColor},children:w.stock>0?`${w.stock} in stock`:"Out of Stock"})]}),f.jsxs("p",{className:"text-2xl lg:text-3xl font-semibold",style:{color:S.theme.primaryColor},children:[w.currencyCode||"USD"," ",w.price.toFixed(2)]}),f.jsx("div",{className:"prose prose-sm sm:prose dark:prose-invert max-w-none text-muted-foreground",children:f.jsx("p",{children:w.description})}),w.tags&&w.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:w.tags.map(ee=>f.jsx(Pp,{variant:"secondary",children:ee},ee))}),f.jsx(Jo,{}),f.jsxs("div",{className:"flex items-end gap-4 pt-4",children:[" ",f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"quantity",className:"text-sm",children:"Quantity"}),f.jsx(Se,{id:"quantity",type:"number",value:b,onChange:ce,min:"1",max:xt,className:"w-20 h-10 text-center",disabled:xt===0})]}),f.jsxs(q,{size:"lg",onClick:X,className:"flex-1 h-10",style:{backgroundColor:Zt,color:"white"},disabled:xt===0,children:[f.jsx(Zc,{className:"mr-2 h-5 w-5"}),xt===0?"Out of Stock":"Add to Cart"]})]}),w&&e&&f.jsx(TG,{product:w,storeId:e,isPublishedView:v})]})]})]}),f.jsx(q_,{store:S,isPublishedView:v}),!v&&f.jsxs(f.Fragment,{children:[f.jsx(as,{open:A,onOpenChange:P,children:f.jsxs(Wo,{className:"sm:max-w-2xl",children:[f.jsx(Ho,{children:f.jsx(Ko,{children:"Change Product Image"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Se,{placeholder:"Search Pexels or describe for AI...",value:_,onChange:ee=>N(ee.target.value)}),f.jsxs(q,{onClick:le,disabled:D||!_.trim(),children:[D&&I.length===0?f.jsx(Me,{className:"h-4 w-4 animate-spin"}):f.jsx(lD,{className:"h-4 w-4"})," ",f.jsx("span",{className:"ml-2 hidden sm:inline",children:"Pexels"})]}),f.jsxs(q,{onClick:Ee,variant:"outline",disabled:D||!_.trim(),children:[D&&I.length>0?f.jsx(Me,{className:"h-4 w-4 animate-spin"}):f.jsx(tu,{className:"h-4 w-4"})," ",f.jsx("span",{className:"ml-2 hidden sm:inline",children:"Gemini"})]})]}),D&&I.length===0&&f.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Searching for images..."}),I.length>0&&f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-80 overflow-y-auto",children:I.map(ee=>f.jsxs(we.div,{className:"relative aspect-square rounded-md overflow-hidden cursor-pointer group border-2 border-transparent hover:border-primary transition-all",onClick:()=>ne(ee),whileHover:{scale:1.05},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:[f.jsx("img",{src:ee.src.medium,alt:ee.alt||"Search result",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:f.jsx(PG,{className:"h-8 w-8 text-white"})}),f.jsx("p",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs p-1 truncate",children:ee.photographer||ee.alt})]},ee.id))})]}),f.jsx(qo,{children:f.jsx(mp,{asChild:!0,children:f.jsx(q,{type:"button",variant:"outline",children:"Cancel"})})})]})}),f.jsx(as,{open:$,onOpenChange:O,children:f.jsxs(Wo,{className:"sm:max-w-md",children:[f.jsx(Ho,{children:f.jsx(Ko,{children:"Edit Product Image"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[w&&w.image&&f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx("img",{src:he,alt:"Current product to edit",className:"h-20 w-20 object-cover rounded border"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Editing: ",w.name]})]}),f.jsx(pe,{htmlFor:"editPrompt",className:"text-left",children:"Edit Instruction:"}),f.jsx(no,{id:"editPrompt",placeholder:"e.g., 'make the background blue', 'add sunglasses to the person'",value:F,onChange:ee=>K(ee.target.value),rows:3,className:"resize-none"})]}),f.jsxs(qo,{children:[f.jsx(mp,{asChild:!0,children:f.jsx(q,{type:"button",variant:"outline",disabled:L,children:"Cancel"})}),f.jsxs(q,{onClick:ye,disabled:L||!F.trim(),children:[L?f.jsx(Me,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(tu,{className:"mr-2 h-4 w-4"}),"Apply Edit"]})]})]})}),w&&f.jsx(wG,{open:V,onOpenChange:z,product:w,onVideoGenerated:fe})]})]})},PG=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),AG=()=>{var P;const t=gs(),e=Gn(),{clearCart:n,getStoreById:r}=lt(),{toast:o}=vr(),[i,s]=g.useState([]),[a,l]=g.useState("Your"),[c,u]=g.useState(null),[d,p]=g.useState(null),[v,x]=g.useState(!1),[y,S]=g.useState({email:"",nameOnCard:"",cardNumber:"",expiryDate:"",cvc:"",address:"",city:"",postalCode:"",country:"United States"});g.useEffect(()=>{var _,N,I;if((_=t.state)!=null&&_.cart&&((N=t.state)!=null&&N.storeName)&&((I=t.state)!=null&&I.storeId)){s(t.state.cart),l(t.state.storeName),u(t.state.storeId);const R=r(t.state.storeId);p(R)}else o({title:"Cart is empty",description:"Redirecting to dashboard.",variant:"destructive"}),e("/")},[t.state,e,o,r]);const C=i.reduce((_,N)=>_+N.price*N.quantity,0),w=C>0?5:0,E=C*.08,b=C+w+E,T=_=>{const{name:N,value:I}=_.target;S(R=>({...R,[N]:I}))},A=async _=>{_.preventDefault(),x(!0),await new Promise(N=>setTimeout(N,2e3)),n(),o({title:"Order Placed Successfully!",description:`Thank you for your order from ${a}. Your items will be shipped soon.`,duration:5e3}),x(!1),e(`/preview/${c||""}`)};return i.length===0&&!v?f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-slate-900",children:[f.jsx(Bu,{className:"h-24 w-24 text-primary mb-6"}),f.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Cart is Empty"}),f.jsx("p",{className:"text-muted-foreground mb-8",children:"There's nothing to check out yet."}),f.jsx(q,{asChild:!0,children:f.jsxs(zo,{to:c?`/preview/${c}`:"/",children:[f.jsx(ns,{className:"mr-2 h-4 w-4"})," Continue Shopping"]})})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-gray-800 dark:to-slate-800 py-8 px-4",children:f.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-4xl",children:[f.jsxs(q,{variant:"ghost",onClick:()=>e(c?`/preview/${c}`:"/"),className:"mb-6 text-primary hover:text-primary/80",children:[f.jsx(ns,{className:"mr-2 h-4 w-4"})," Back to ",a]}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-8 text-gray-800 dark:text-gray-100",children:"Checkout"}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs(qt,{className:"md:col-span-1 h-fit sticky top-8 shadow-lg",children:[f.jsxs(Ln,{children:[f.jsx(jn,{className:"text-xl",children:"Order Summary"}),f.jsxs(cr,{children:["Review your items from ",a,"."]})]}),f.jsxs(Sn,{className:"space-y-4",children:[f.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 pr-2",children:i.map(_=>{var N,I;return f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img-replace",{src:((I=(N=_.image)==null?void 0:N.src)==null?void 0:I.tiny)||`https://via.placeholder.com/40x40.png?text=${_.name.substring(0,1)}`,alt:_.name,className:"w-10 h-10 rounded object-cover"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium line-clamp-1",children:_.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",_.quantity]})]})]}),f.jsxs("p",{className:"font-medium",children:["$",(_.price*_.quantity).toFixed(2)]})]},_.id)})}),f.jsx(Jo,{}),f.jsxs("div",{className:"space-y-1 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Subtotal:"}),f.jsxs("span",{children:["$",C.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Shipping:"}),f.jsxs("span",{children:["$",w.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Taxes (est.):"}),f.jsxs("span",{children:["$",E.toFixed(2)]})]})]}),f.jsx(Jo,{}),f.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[f.jsx("span",{children:"Total:"}),f.jsxs("span",{children:["$",b.toFixed(2)]})]})]})]}),f.jsxs("form",{onSubmit:A,className:"md:col-span-2 space-y-6",children:[f.jsxs(qt,{className:"shadow-lg",children:[f.jsx(Ln,{children:f.jsx(jn,{className:"text-xl",children:"Shipping Information"})}),f.jsxs(Sn,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[f.jsx(pe,{htmlFor:"email",children:"Email Address"}),f.jsx(Se,{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:y.email,onChange:T,required:!0})]}),f.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[f.jsx(pe,{htmlFor:"address",children:"Street Address"}),f.jsx(Se,{id:"address",name:"address",placeholder:"123 Main St",value:y.address,onChange:T,required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"city",children:"City"}),f.jsx(Se,{id:"city",name:"city",placeholder:"Anytown",value:y.city,onChange:T,required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"postalCode",children:"Postal Code"}),f.jsx(Se,{id:"postalCode",name:"postalCode",placeholder:"12345",value:y.postalCode,onChange:T,required:!0})]}),f.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[f.jsx(pe,{htmlFor:"country",children:"Country"}),f.jsx(Se,{id:"country",name:"country",value:y.country,onChange:T,required:!0})]})]})]}),f.jsxs(qt,{className:"shadow-lg",children:[f.jsxs(Ln,{children:[f.jsx(jn,{className:"text-xl",children:"Payment Details"}),f.jsxs(cr,{className:"flex items-center text-sm text-muted-foreground",children:[f.jsx(fD,{className:"h-3 w-3 mr-1.5"})," Secure Payment"]})]}),f.jsxs(Sn,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"nameOnCard",children:"Name on Card"}),f.jsx(Se,{id:"nameOnCard",name:"nameOnCard",placeholder:"John M. Doe",value:y.nameOnCard,onChange:T,required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"cardNumber",children:"Card Number"}),f.jsxs("div",{className:"relative",children:[f.jsx(Se,{id:"cardNumber",name:"cardNumber",placeholder:"   ",value:y.cardNumber,onChange:T,required:!0}),f.jsx(x0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"expiryDate",children:"Expiry Date"}),f.jsx(Se,{id:"expiryDate",name:"expiryDate",placeholder:"MM/YY",value:y.expiryDate,onChange:T,required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(pe,{htmlFor:"cvc",children:"CVC"}),f.jsx(Se,{id:"cvc",name:"cvc",placeholder:"123",value:y.cvc,onChange:T,required:!0})]})]})]})]}),f.jsxs(q,{type:"submit",size:"lg",className:"w-full text-lg",disabled:v,style:{backgroundColor:((P=d==null?void 0:d.theme)==null?void 0:P.primaryColor)||"#3B82F6"},children:[v?f.jsx(Me,{className:"mr-2 h-5 w-5 animate-spin"}):f.jsx(x0,{className:"mr-2 h-5 w-5"}),v?"Processing Payment...":`Pay $${b.toFixed(2)}`]})]})]})]})})};var I1,_e="colors",wt="sizes",Q="space",kG={gap:Q,gridGap:Q,columnGap:Q,gridColumnGap:Q,rowGap:Q,gridRowGap:Q,inset:Q,insetBlock:Q,insetBlockEnd:Q,insetBlockStart:Q,insetInline:Q,insetInlineEnd:Q,insetInlineStart:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,marginBlock:Q,marginBlockEnd:Q,marginBlockStart:Q,marginInline:Q,marginInlineEnd:Q,marginInlineStart:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,paddingBlock:Q,paddingBlockEnd:Q,paddingBlockStart:Q,paddingInline:Q,paddingInlineEnd:Q,paddingInlineStart:Q,top:Q,right:Q,bottom:Q,left:Q,scrollMargin:Q,scrollMarginTop:Q,scrollMarginRight:Q,scrollMarginBottom:Q,scrollMarginLeft:Q,scrollMarginX:Q,scrollMarginY:Q,scrollMarginBlock:Q,scrollMarginBlockEnd:Q,scrollMarginBlockStart:Q,scrollMarginInline:Q,scrollMarginInlineEnd:Q,scrollMarginInlineStart:Q,scrollPadding:Q,scrollPaddingTop:Q,scrollPaddingRight:Q,scrollPaddingBottom:Q,scrollPaddingLeft:Q,scrollPaddingX:Q,scrollPaddingY:Q,scrollPaddingBlock:Q,scrollPaddingBlockEnd:Q,scrollPaddingBlockStart:Q,scrollPaddingInline:Q,scrollPaddingInlineEnd:Q,scrollPaddingInlineStart:Q,fontSize:"fontSizes",background:_e,backgroundColor:_e,backgroundImage:_e,borderImage:_e,border:_e,borderBlock:_e,borderBlockEnd:_e,borderBlockStart:_e,borderBottom:_e,borderBottomColor:_e,borderColor:_e,borderInline:_e,borderInlineEnd:_e,borderInlineStart:_e,borderLeft:_e,borderLeftColor:_e,borderRight:_e,borderRightColor:_e,borderTop:_e,borderTopColor:_e,caretColor:_e,color:_e,columnRuleColor:_e,fill:_e,outline:_e,outlineColor:_e,stroke:_e,textDecorationColor:_e,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:wt,minBlockSize:wt,maxBlockSize:wt,inlineSize:wt,minInlineSize:wt,maxInlineSize:wt,width:wt,minWidth:wt,maxWidth:wt,height:wt,minHeight:wt,maxHeight:wt,flexBasis:wt,gridTemplateColumns:wt,gridTemplateRows:wt,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},NG=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,hl=()=>{const t=Object.create(null);return(e,n,...r)=>{const o=(i=>JSON.stringify(i,NG))(e);return o in t?t[o]:t[o]=n(e,...r)}},bc=Symbol.for("sxs.internal"),Bg=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),R1=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:IG}=Object.prototype,Ap=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),RG=/\s+(?![^()]*\))/,gi=t=>e=>t(...typeof e=="string"?String(e).split(RG):[e]),M1={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:gi((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:gi((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:gi((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:gi((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:gi((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:gi((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},Rf=/([\d.]+)([^]*)/,MG=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(o=>o.includes("&")?o.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(o)?`:is(${r})`:r):r+" "+o)),n),[]):e,$G=(t,e)=>t in DG&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,o,i)=>r+(o==="stretch"?`-moz-available${i};${Ap(t)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${Ap(t)}:${r}fit-content`)+i):String(e),DG={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},hr=t=>t?t+"-":"",K_=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,o,i,s,a)=>s=="$"==!!i?r:(o||s=="--"?"calc(":"")+"var(--"+(s==="$"?hr(e)+(a.includes("$")?"":hr(n))+a.replace(/\$/g,"-"):a)+")"+(o||s=="--"?"*"+(o||"")+(i||"1")+")":"")),LG=/\s*,\s*(?![^()]*\))/,jG=Object.prototype.toString,Di=(t,e,n,r,o)=>{let i,s,a;const l=(c,u,d)=>{let p,v;const x=y=>{for(p in y){const w=p.charCodeAt(0)===64,E=w&&Array.isArray(y[p])?y[p]:[y[p]];for(v of E){const b=/[A-Z]/.test(C=p)?C:C.replace(/-[^]/g,A=>A[1].toUpperCase()),T=typeof v=="object"&&v&&v.toString===jG&&(!r.utils[b]||!u.length);if(b in r.utils&&!T){const A=r.utils[b];if(A!==s){s=A,x(A(v)),s=null;continue}}else if(b in M1){const A=M1[b];if(A!==a){a=A,x(A(v)),a=null;continue}}if(w&&(S=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=S.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(A,P,_,N,I,R)=>{const D=Rf.test(P),U=.0625*(D?-1:1),[$,O]=D?[N,P]:[P,N];return"("+(_[0]==="="?"":_[0]===">"===D?"max-":"min-")+$+":"+(_[0]!=="="&&_.length===1?O.replace(Rf,(F,K,L)=>Number(K)+U*(_===">"?1:-1)+L):O)+(I?") and ("+(I[0]===">"?"min-":"max-")+$+":"+(I.length===1?R.replace(Rf,(F,K,L)=>Number(K)+U*(I===">"?-1:1)+L):R):"")+")"})),T){const A=w?d.concat(p):[...d],P=w?[...u]:MG(u,p.split(LG));i!==void 0&&o($1(...i)),i=void 0,l(v,P,A)}else i===void 0&&(i=[[],u,d]),p=w||p.charCodeAt(0)!==36?p:`--${hr(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,v=T?v:typeof v=="number"?v&&b in FG?String(v)+"px":String(v):K_($G(b,v??""),r.prefix,r.themeMap[b]),i[0].push(`${w?`${p} `:`${Ap(p)}:`}${v}`)}}var S,C};x(c),i!==void 0&&o($1(...i)),i=void 0};l(t,e,n)},$1=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,FG={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},D1=t=>String.fromCharCode(t+(t>25?39:97)),jo=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=D1(n%52)+r;return D1(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Ys=["themed","global","styled","onevar","resonevar","allvar","inline"],OG=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},VG=t=>{let e;const n=()=>{const{cssRules:o}=e.sheet;return[].map.call(o,(i,s)=>{const{cssText:a}=i;let l="";if(a.startsWith("--sxs"))return"";if(o[s-1]&&(l=o[s-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===i)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return i.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const o=Object(t).styleSheets||[];for(const a of o)if(OG(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const d=Object(c[l+1]);if(d.type!==4)continue;++l;const{cssText:p}=u;if(!p.startsWith("--sxs"))continue;const v=p.slice(14,-3).trim().split(/\s+/),x=Ys[v[0]];x&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[x]={group:d,index:l,cache:new Set(v)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,d){this.cssRules.splice(d,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:i,rules:s}=e;for(let a=Ys.length-1;a>=0;--a){const l=Ys[a];if(!s[l]){const c=Ys[a+1],u=s[c]?s[c].index:i.cssRules.length;i.insertRule("@media{}",u),i.insertRule(`--sxs{--sxs:${a}}`,u),s[l]={group:i.cssRules[u+1],index:u,cache:new Set([a])}}UG(s[l])}};return r(),e},UG=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Bs=Symbol(),BG=hl(),zG=(t,e)=>BG(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const o of n)if(o!=null)if(o[bc]){r.type==null&&(r.type=o[bc].type);for(const i of o[bc].composers)r.composers.add(i)}else o.constructor!==Object||o.$$typeof?r.type==null&&(r.type=o):r.composers.add(GG(o,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),WG(t,r,e)}),GG=({variants:t,compoundVariants:e,defaultVariants:n,...r},o)=>{const i=`${hr(o.prefix)}c-${jo(r)}`,s=[],a=[],l=Object.create(null),c=[];for(const p in n)l[p]=String(n[p]);if(typeof t=="object"&&t)for(const p in t){u=l,d=p,IG.call(u,d)||(l[p]="undefined");const v=t[p];for(const x in v){const y={[p]:String(x)};String(x)==="undefined"&&c.push(p);const S=v[x],C=[y,S,!R1(S)];s.push(C)}}var u,d;if(typeof e=="object"&&e)for(const p of e){let{css:v,...x}=p;v=typeof v=="object"&&v||{};for(const S in x)x[S]=String(x[S]);const y=[x,v,!R1(v)];a.push(y)}return[i,r,s,a,l,c]},WG=(t,e,n)=>{const[r,o,i,s]=HG(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(d=>{function p(){for(let v=0;v<p[Bs].length;v++){const[x,y]=p[Bs][v];d.rules[x].apply(y)}return p[Bs]=[],null}return p[Bs]=[],p.rules={},Ys.forEach(v=>p.rules[v]={apply:x=>p[Bs].push([v,x])}),p})(n):null,l=(a||n).rules,c=`.${r}${o.length>1?`:where(.${o.slice(1).join(".")})`:""}`,u=d=>{d=typeof d=="object"&&d||qG;const{css:p,...v}=d,x={};for(const C in i)if(delete v[C],C in d){let w=d[C];typeof w=="object"&&w?x[C]={"@initial":i[C],...w}:(w=String(w),x[C]=w!=="undefined"||s.has(C)?w:i[C])}else x[C]=i[C];const y=new Set([...o]);for(const[C,w,E,b]of e.composers){n.rules.styled.cache.has(C)||(n.rules.styled.cache.add(C),Di(w,[`.${C}`],[],t,P=>{l.styled.apply(P)}));const T=L1(E,x,t.media),A=L1(b,x,t.media,!0);for(const P of T)if(P!==void 0)for(const[_,N,I]of P){const R=`${C}-${jo(N)}-${_}`;y.add(R);const D=(I?n.rules.resonevar:n.rules.onevar).cache,U=I?l.resonevar:l.onevar;D.has(R)||(D.add(R),Di(N,[`.${R}`],[],t,$=>{U.apply($)}))}for(const P of A)if(P!==void 0)for(const[_,N]of P){const I=`${C}-${jo(N)}-${_}`;y.add(I),n.rules.allvar.cache.has(I)||(n.rules.allvar.cache.add(I),Di(N,[`.${I}`],[],t,R=>{l.allvar.apply(R)}))}}if(typeof p=="object"&&p){const C=`${r}-i${jo(p)}-css`;y.add(C),n.rules.inline.cache.has(C)||(n.rules.inline.cache.add(C),Di(p,[`.${C}`],[],t,w=>{l.inline.apply(w)}))}for(const C of String(d.className||"").trim().split(/\s+/))C&&y.add(C);const S=v.className=[...y].join(" ");return{type:e.type,className:S,selector:c,props:v,toString:()=>S,deferredInjector:a}};return Bg(u,{className:r,selector:c,[bc]:e,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},HG=t=>{let e="";const n=[],r={},o=[];for(const[i,,,,s,a]of t){e===""&&(e=i),n.push(i),o.push(...a);for(const l in s){const c=s[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,n,r,new Set(o)]},L1=(t,e,n,r)=>{const o=[];e:for(let[i,s,a]of t){if(a)continue;let l,c=0,u=!1;for(l in i){const d=i[l];let p=e[l];if(p!==d){if(typeof p!="object"||!p)continue e;{let v,x,y=0;for(const S in p){if(d===String(p[S])){if(S!=="@initial"){const C=S.slice(1);(x=x||[]).push(C in n?n[C]:S.replace(/^@media ?/,"")),u=!0}c+=y,v=!0}++y}if(x&&x.length&&(s={["@media "+x.join(", ")]:s}),!v)continue e}}}(o[c]=o[c]||[]).push([r?"cv":`${l}-${i[l]}`,s,u])}return o},qG={},KG=hl(),YG=(t,e)=>KG(t,()=>(...n)=>{const r=()=>{for(let o of n){o=typeof o=="object"&&o||{};let i=jo(o);if(!e.rules.global.cache.has(i)){if(e.rules.global.cache.add(i),"@import"in o){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(o["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,s++);delete o["@import"]}Di(o,[],[],t,s=>{e.rules.global.apply(s)})}}return""};return Bg(r,{toString:r})}),JG=hl(),XG=(t,e)=>JG(t,()=>n=>{const r=`${hr(t.prefix)}k-${jo(n)}`,o=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const i=[];Di(n,[],[],t,a=>i.push(a));const s=`@keyframes ${r}{${i.join("")}}`;e.rules.global.apply(s)}return r};return Bg(o,{get name(){return o()},toString:o})}),QG=class{constructor(e,n,r,o){this.token=e==null?"":String(e),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=o==null?"":String(o)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+hr(this.prefix)+hr(this.scale)+this.token}toString(){return this.computedValue}},ZG=hl(),eW=(t,e)=>ZG(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const o=`.${n=(n=typeof n=="string"?n:"")||`${hr(t.prefix)}t-${jo(r)}`}`,i={},s=[];for(const l in r){i[l]={};for(const c in r[l]){const u=`--${hr(t.prefix)}${l}-${c}`,d=K_(String(r[l][c]),t.prefix,l);i[l][c]=new QG(c,d,l,t.prefix),s.push(`${u}:${d}`)}}const a=()=>{if(s.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${s.join(";")}}`;e.rules.themed.apply(l)}return n};return{...i,get className(){return a()},selector:o,toString:a}}),tW=hl(),Y_=t=>{let e=!1;const n=tW(t,r=>{e=!0;const o="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",i=typeof r.media=="object"&&r.media||{},s=typeof r.root=="object"?r.root||null:globalThis.document||null,a=typeof r.theme=="object"&&r.theme||{},l={prefix:o,media:i,theme:a,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...kG},utils:typeof r.utils=="object"&&r.utils||{}},c=VG(s),u={css:zG(l,c),globalCss:YG(l,c),keyframes:XG(l,c),createTheme:eW(l,c),reset(){c.reset(),u.theme.toString()},theme:{},sheet:c,config:l,prefix:o,getCssText:c.toString,toString:c.toString};return String(u.theme=u.createTheme(a)),u});return e||n.reset(),n},J_=()=>I1||(I1=Y_()),nW=(...t)=>J_().createTheme(...t),wr=(...t)=>J_().css(...t),We={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},rW="supabase-auth-ui",oW={ROOT:"root",SIGN_IN:We.SIGN_IN,SIGN_UP:We.SIGN_UP,FORGOTTEN_PASSWORD:We.FORGOTTEN_PASSWORD,MAGIC_LINK:We.MAGIC_LINK,UPDATE_PASSWORD:We.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function si(t,e,n){var r,o;const i=[],s=oW[t];return i.push(n!=null&&n.prependedClassName?(n==null?void 0:n.prependedClassName)+"_"+s:rW+"_"+s),(r=n==null?void 0:n.className)!=null&&r[t]&&i.push((o=n==null?void 0:n.className)==null?void 0:o[t]),((n==null?void 0:n.extend)===void 0||(n==null?void 0:n.extend)===!0)&&i.push(e),i}function kp(t,e){let n;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(n=0;n<e.length;n++)t[n]=kp(t[n],e[n]);else for(n in e)t[n]=kp(t[n],e[n]);return t}return e}function Mf(t,...e){let n=e.length;for(let r=0;r<n;r++)t=kp(t,e[r]);return t}function iW(t,e){return t.replace(/{{(\w+)}}/g,(n,r)=>e.hasOwnProperty(r)?e[r]:n)}var sW={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const aW=wr({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Mo=({children:t,appearance:e,...n})=>{var r;const o=si("anchor",aW(),e);return k.createElement("a",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.anchor,className:o.join(" ")},t)},lW=wr({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),_s=({children:t,color:e="default",appearance:n,icon:r,loading:o=!1,...i})=>{var s;const a=si("button",lW({color:e}),n);return k.createElement("button",{...i,style:(s=n==null?void 0:n.style)==null?void 0:s.button,className:a.join(" "),disabled:o},r,t)},cW=wr({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),On=({children:t,appearance:e,...n})=>{var r;const o=si("container",cW({direction:n.direction,gap:n.gap}),e);return k.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.container,className:o.join(" ")},t)},uW=wr({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),dW=({children:t,appearance:e,...n})=>{var r;const o=si("divider",uW(),e);return k.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.divider,className:o.join(" ")})},fW=wr({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Yr=({children:t,appearance:e,...n})=>{var r;const o=si("input",fW({type:n.type==="password"?"password":"default"}),e);return k.createElement("input",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.input,className:o.join(" ")},t)},hW=wr({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Jr=({children:t,appearance:e,...n})=>{var r;const o=si("label",hW(),e);return k.createElement("label",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.label,className:o.join(" ")},t)},pW=wr({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),zn=({children:t,appearance:e,...n})=>{var r;const o=si("message",pW({color:n.color}),e);return k.createElement("span",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.message,className:o.join(" ")},t)};function X_({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:o,showLinks:i=!1}){var s;const[a,l]=g.useState(""),[c,u]=g.useState(""),[d,p]=g.useState(""),[v,x]=g.useState(!1),y=async C=>{var w,E;if(C.preventDefault(),u(""),p(""),x(!0),a.length===0){u((w=r==null?void 0:r.magic_link)==null?void 0:w.empty_email_address),x(!1);return}const{error:b}=await e.auth.signInWithOtp({email:a,options:{emailRedirectTo:n}});b?u(b.message):p((E=r==null?void 0:r.magic_link)==null?void 0:E.confirmation_text),x(!1)},S=r==null?void 0:r.magic_link;return k.createElement("form",{id:"auth-magic-link",onSubmit:y},k.createElement(On,{gap:"large",direction:"vertical",appearance:o},k.createElement("div",null,k.createElement(Jr,{htmlFor:"email",appearance:o},S==null?void 0:S.email_input_label),k.createElement(Yr,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:C=>{u&&u(""),l(C.target.value)},appearance:o})),k.createElement(_s,{color:"primary",type:"submit",loading:v,appearance:o},v?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),i&&k.createElement(Mo,{href:"#auth-sign-in",onClick:C=>{C.preventDefault(),t(We.SIGN_IN)},appearance:o},(s=r==null?void 0:r.sign_in)==null?void 0:s.link_text),d&&k.createElement(zn,{appearance:o},d),c&&k.createElement(zn,{color:"danger",appearance:o},c)))}const ut=wr({width:"21px",height:"21px"}),mW=({provider:t})=>t=="google"?gW():t=="facebook"?vW():t=="twitter"?yW():t=="apple"?xW():t=="github"?wW():t=="gitlab"?CW():t=="bitbucket"?SW():t=="discord"?EW():t=="azure"?bW():t=="keycloak"?TW():t=="linkedin"?_W():t=="notion"?PW():t=="slack"?AW():t=="spotify"?kW():t=="twitch"?NW():t=="workos"?IW():t=="kakao"?RW():null,gW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),k.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),k.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),k.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),vW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),k.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),yW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),xW=()=>k.createElement("svg",{className:ut(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",k.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),wW=()=>k.createElement("svg",{className:ut(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",k.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),CW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),k.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),k.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),k.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),k.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),k.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),k.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),SW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},k.createElement("defs",null,k.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},k.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),k.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),k.createElement("title",null,"Bitbucket-blue"),k.createElement("g",{id:"Layer_2","data-name":"Layer 2"},k.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},k.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),k.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),EW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),bW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},k.createElement("stop",{offset:"0",stopColor:"#114a8b"}),k.createElement("stop",{offset:"1",stopColor:"#0669bc"})),k.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),k.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),k.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},k.createElement("stop",{offset:"0",stopOpacity:".3"}),k.createElement("stop",{offset:".071",stopOpacity:".2"}),k.createElement("stop",{offset:".321",stopOpacity:".1"}),k.createElement("stop",{offset:".623",stopOpacity:".05"}),k.createElement("stop",{offset:"1",stopOpacity:"0"})),k.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),k.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},k.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),k.createElement("stop",{offset:"1",stopColor:"#2892df"})),k.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),TW=()=>k.createElement("svg",{className:ut(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),_W=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),k.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),PW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},k.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),k.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),k.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),AW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},k.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),k.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),k.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),k.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),k.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),k.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),k.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),k.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),kW=()=>k.createElement("svg",{className:ut(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),NW=()=>k.createElement("svg",{className:ut(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),k.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),k.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),k.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),IW=()=>k.createElement("svg",{className:ut(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),k.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),RW=()=>k.createElement("svg",{className:ut(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},k.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),k.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),k.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function MW({supabaseClient:t,socialLayout:e="vertical",providers:n=["github","google","azure"],providerScopes:r,queryParams:o,redirectTo:i,onlyThirdPartyProviders:s=!0,view:a="sign_in",i18n:l,appearance:c}){const[u,d]=g.useState(!1),[p,v]=g.useState(""),x=e==="vertical",y=a==="magic_link"?"sign_in":a,S=async w=>{d(!0);const{error:E}=await t.auth.signInWithOAuth({provider:w,options:{redirectTo:i,scopes:r==null?void 0:r[w],queryParams:o}});E&&v(E.message),d(!1)};function C(w){const E=w.toLowerCase();return w.charAt(0).toUpperCase()+E.slice(1)}return k.createElement(k.Fragment,null,n&&n.length>0&&k.createElement(k.Fragment,null,k.createElement(On,{gap:"large",direction:"vertical",appearance:c},k.createElement(On,{direction:x?"vertical":"horizontal",gap:x?"small":"medium",appearance:c},n.map(w=>{var E;return k.createElement(_s,{key:w,color:"default",loading:u,onClick:()=>S(w),appearance:c},k.createElement(mW,{provider:w}),x&&iW((E=l==null?void 0:l[y])==null?void 0:E.social_provider_text,{provider:C(w)}))}))),!s&&k.createElement(dW,{appearance:c})))}function j1({authView:t="sign_in",defaultEmail:e="",defaultPassword:n="",setAuthView:r=()=>{},setDefaultEmail:o=x=>{},setDefaultPassword:i=x=>{},supabaseClient:s,showLinks:a=!1,redirectTo:l,additionalData:c,magicLink:u,i18n:d,appearance:p,children:v}){var x,y,S,C;const w=g.useRef(!0),[E,b]=g.useState(e),[T,A]=g.useState(n),[P,_]=g.useState(""),[N,I]=g.useState(!1),[R,D]=g.useState("");g.useEffect(()=>(w.current=!0,b(e),A(n),()=>{w.current=!1}),[t]);const U=async F=>{var K;switch(F.preventDefault(),_(""),I(!0),t){case"sign_in":const{error:L}=await s.auth.signInWithPassword({email:E,password:T});L&&_(L.message);break;case"sign_up":let M={emailRedirectTo:l};c&&(M.data=c);const{data:{user:V,session:z},error:H}=await s.auth.signUp({email:E,password:T,options:M});H?_(H.message):V&&!z&&D((K=d==null?void 0:d.sign_up)==null?void 0:K.confirmation_text);break}w.current&&I(!1)},$=F=>{o(E),i(T),r(F)},O=d==null?void 0:d[t];return k.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:U,autoComplete:"on",style:{width:"100%"}},k.createElement(On,{direction:"vertical",gap:"large",appearance:p},k.createElement(On,{direction:"vertical",gap:"large",appearance:p},k.createElement("div",null,k.createElement(Jr,{htmlFor:"email",appearance:p},O==null?void 0:O.email_label),k.createElement(Yr,{id:"email",type:"email",name:"email",placeholder:O==null?void 0:O.email_input_placeholder,defaultValue:E,onChange:F=>b(F.target.value),autoComplete:"email",appearance:p})),k.createElement("div",null,k.createElement(Jr,{htmlFor:"password",appearance:p},O==null?void 0:O.password_label),k.createElement(Yr,{id:"password",type:"password",name:"password",placeholder:O==null?void 0:O.password_input_placeholder,defaultValue:T,onChange:F=>A(F.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:p})),v),k.createElement(_s,{type:"submit",color:"primary",loading:N,appearance:p},N?O==null?void 0:O.loading_button_label:O==null?void 0:O.button_label),a&&k.createElement(On,{direction:"vertical",gap:"small",appearance:p},t===We.SIGN_IN&&u&&k.createElement(Mo,{href:"#auth-magic-link",onClick:F=>{F.preventDefault(),r(We.MAGIC_LINK)},appearance:p},(x=d==null?void 0:d.magic_link)==null?void 0:x.link_text),t===We.SIGN_IN&&k.createElement(Mo,{href:"#auth-forgot-password",onClick:F=>{F.preventDefault(),r(We.FORGOTTEN_PASSWORD)},appearance:p},(y=d==null?void 0:d.forgotten_password)==null?void 0:y.link_text),t===We.SIGN_IN?k.createElement(Mo,{href:"#auth-sign-up",onClick:F=>{F.preventDefault(),$(We.SIGN_UP)},appearance:p},(S=d==null?void 0:d.sign_up)==null?void 0:S.link_text):k.createElement(Mo,{href:"#auth-sign-in",onClick:F=>{F.preventDefault(),$(We.SIGN_IN)},appearance:p},(C=d==null?void 0:d.sign_in)==null?void 0:C.link_text))),R&&k.createElement(zn,{appearance:p},R),P&&k.createElement(zn,{color:"danger",appearance:p},P))}function Q_({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:o,showLinks:i=!1}){var s;const[a,l]=g.useState(""),[c,u]=g.useState(""),[d,p]=g.useState(""),[v,x]=g.useState(!1),y=async C=>{var w;C.preventDefault(),u(""),p(""),x(!0);const{error:E}=await e.auth.resetPasswordForEmail(a,{redirectTo:n});E?u(E.message):p((w=r==null?void 0:r.forgotten_password)==null?void 0:w.confirmation_text),x(!1)},S=r==null?void 0:r.forgotten_password;return k.createElement("form",{id:"auth-forgot-password",onSubmit:y},k.createElement(On,{direction:"vertical",gap:"large",appearance:o},k.createElement(On,{gap:"large",direction:"vertical",appearance:o},k.createElement("div",null,k.createElement(Jr,{htmlFor:"email",appearance:o},S==null?void 0:S.email_label),k.createElement(Yr,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:C=>l(C.target.value),appearance:o})),k.createElement(_s,{type:"submit",color:"primary",loading:v,appearance:o},v?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),i&&k.createElement(Mo,{href:"#auth-sign-in",onClick:C=>{C.preventDefault(),t(We.SIGN_IN)},appearance:o},(s=r==null?void 0:r.sign_in)==null?void 0:s.link_text),d&&k.createElement(zn,{appearance:o},d),c&&k.createElement(zn,{color:"danger",appearance:o},c))))}function Z_({supabaseClient:t,i18n:e,appearance:n}){const[r,o]=g.useState(""),[i,s]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(!1),d=async v=>{var x;v.preventDefault(),s(""),l(""),u(!0);const{error:y}=await t.auth.updateUser({password:r});y?s(y.message):l((x=e==null?void 0:e.update_password)==null?void 0:x.confirmation_text),u(!1)},p=e==null?void 0:e.update_password;return k.createElement("form",{id:"auth-update-password",onSubmit:d},k.createElement(On,{gap:"large",direction:"vertical",appearance:n},k.createElement("div",null,k.createElement(Jr,{htmlFor:"password",appearance:n},p==null?void 0:p.password_label),k.createElement(Yr,{id:"password",name:"password",placeholder:p==null?void 0:p.password_input_placeholder,type:"password",autoFocus:!0,onChange:v=>o(v.target.value),appearance:n})),k.createElement(_s,{type:"submit",color:"primary",loading:c,appearance:n},c?p==null?void 0:p.loading_button_label:p==null?void 0:p.button_label),a&&k.createElement(zn,{appearance:n},a),i&&k.createElement(zn,{color:"danger",appearance:n},i)))}function $W({setAuthView:t=()=>{},supabaseClient:e,otpType:n="email",i18n:r,appearance:o,showLinks:i=!1}){var s;const[a,l]=g.useState(""),[c,u]=g.useState(""),[d,p]=g.useState(""),[v,x]=g.useState(""),[y,S]=g.useState(""),[C,w]=g.useState(!1),E=async T=>{T.preventDefault(),x(""),S(""),w(!0);let A={email:a,token:d,type:n};["sms","phone_change"].includes(n)&&(A={phone:c,token:d,type:n});const{error:P}=await e.auth.verifyOtp(A);P&&x(P.message),w(!1)},b=r==null?void 0:r.verify_otp;return k.createElement("form",{id:"auth-magic-link",onSubmit:E},k.createElement(On,{gap:"large",direction:"vertical",appearance:o},["sms","phone_change"].includes(n)?k.createElement("div",null,k.createElement(Jr,{htmlFor:"phone",appearance:o},b==null?void 0:b.phone_input_label),k.createElement(Yr,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:b==null?void 0:b.phone_input_placeholder,onChange:T=>u(T.target.value),appearance:o})):k.createElement("div",null,k.createElement(Jr,{htmlFor:"email",appearance:o},b==null?void 0:b.email_input_label),k.createElement(Yr,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:b==null?void 0:b.email_input_placeholder,onChange:T=>l(T.target.value),appearance:o})),k.createElement("div",null,k.createElement(Jr,{htmlFor:"token",appearance:o},b==null?void 0:b.token_input_label),k.createElement(Yr,{id:"token",name:"token",type:"text",placeholder:b==null?void 0:b.token_input_placeholder,onChange:T=>p(T.target.value),appearance:o})),k.createElement(_s,{color:"primary",type:"submit",loading:C,appearance:o},C?b==null?void 0:b.loading_button_label:b==null?void 0:b.button_label),i&&k.createElement(Mo,{href:"#auth-sign-in",onClick:T=>{T.preventDefault(),t(We.SIGN_IN)},appearance:o},(s=r==null?void 0:r.sign_in)==null?void 0:s.link_text),y&&k.createElement(zn,{appearance:o},y),v&&k.createElement(zn,{color:"danger",appearance:o},v)))}const eP=g.createContext({user:null,session:null}),DW=t=>{const{supabaseClient:e}=t,[n,r]=g.useState(null),[o,i]=g.useState((n==null?void 0:n.user)??null);g.useEffect(()=>{(async()=>{var l;const{data:c}=await e.auth.getSession();r(c.session),i(((l=c.session)==null?void 0:l.user)??null)})();const{data:a}=e.auth.onAuthStateChange(async(l,c)=>{r(c),i((c==null?void 0:c.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const s={session:n,user:o};return k.createElement(eP.Provider,{value:s,...t})},LW=()=>{const t=g.useContext(eP);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Ps({supabaseClient:t,socialLayout:e="vertical",providers:n,providerScopes:r,queryParams:o,view:i="sign_in",redirectTo:s,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:c=!0,appearance:u,theme:d="default",localization:p={variables:{}},otpType:v="email",additionalData:x,children:y}){const S=Mf(sW,p.variables??{}),[C,w]=g.useState(i),[E,b]=g.useState(""),[T,A]=g.useState(""),P=C==="sign_in"||C==="sign_up"||C==="magic_link";g.useEffect(()=>{var I,R;Y_({theme:Mf(((I=u==null?void 0:u.theme)==null?void 0:I.default)??{},((R=u==null?void 0:u.variables)==null?void 0:R.default)??{})})},[u]);const _=({children:I})=>{var R;return k.createElement("div",{className:d!=="default"?nW(Mf(u==null?void 0:u.theme[d],((R=u==null?void 0:u.variables)==null?void 0:R[d])??{})):""},P&&k.createElement(MW,{appearance:u,supabaseClient:t,providers:n,providerScopes:r,queryParams:o,socialLayout:e,redirectTo:s,onlyThirdPartyProviders:a,i18n:S,view:C}),!a&&I)};g.useEffect(()=>{const{data:I}=t.auth.onAuthStateChange(R=>{R==="PASSWORD_RECOVERY"?w("update_password"):R==="USER_UPDATED"&&w("sign_in")});return w(i),()=>I.subscription.unsubscribe()},[i]);const N={supabaseClient:t,setAuthView:w,defaultEmail:E,defaultPassword:T,setDefaultEmail:b,setDefaultPassword:A,redirectTo:s,magicLink:l,showLinks:c,i18n:S,appearance:u};switch(C){case We.SIGN_IN:return k.createElement(_,null,k.createElement(j1,{...N,authView:"sign_in"}));case We.SIGN_UP:return k.createElement(_,null,k.createElement(j1,{appearance:u,supabaseClient:t,authView:"sign_up",setAuthView:w,defaultEmail:E,defaultPassword:T,setDefaultEmail:b,setDefaultPassword:A,redirectTo:s,magicLink:l,showLinks:c,i18n:S,additionalData:x,children:y}));case We.FORGOTTEN_PASSWORD:return k.createElement(_,null,k.createElement(Q_,{appearance:u,supabaseClient:t,setAuthView:w,redirectTo:s,showLinks:c,i18n:S}));case We.MAGIC_LINK:return k.createElement(_,null,k.createElement(X_,{appearance:u,supabaseClient:t,setAuthView:w,redirectTo:s,showLinks:c,i18n:S}));case We.UPDATE_PASSWORD:return k.createElement(Z_,{appearance:u,supabaseClient:t,i18n:S});case We.VERIFY_OTP:return k.createElement($W,{appearance:u,supabaseClient:t,otpType:v,i18n:S});default:return null}}Ps.ForgottenPassword=Q_;Ps.UpdatePassword=Z_;Ps.MagicLink=X_;Ps.UserContextProvider=DW;Ps.useUser=LW;wr({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const jW={default:{colors:{brand:"hsl(var(--primary))",brandAccent:"hsl(var(--primary-foreground))",brandButtonText:"hsl(var(--primary-foreground))",defaultButtonBackground:"hsl(var(--background))",defaultButtonBackgroundHover:"hsl(var(--accent))",defaultButtonBorder:"hsl(var(--input))",defaultButtonText:"hsl(var(--foreground))",dividerBackground:"hsl(var(--border))",inputBackground:"hsl(var(--background))",inputBorder:"hsl(var(--input))",inputBorderHover:"hsl(var(--ring))",inputBorderFocus:"hsl(var(--ring))",inputText:"hsl(var(--foreground))",inputLabelText:"hsl(var(--foreground))",inputPlaceholder:"hsl(var(--muted-foreground))",messageText:"hsl(var(--foreground))",messageTextDanger:"hsl(var(--destructive-foreground))",anchorTextColor:"hsl(var(--primary))",anchorTextColorHover:"hsl(var(--primary))"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',buttonFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',inputFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',labelFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"'},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"var(--radius)",buttonBorderRadius:"var(--radius)",inputBorderRadius:"var(--radius)"}}};function FW(){return f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:f.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-card shadow-lg rounded-lg",children:[f.jsx("div",{children:f.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-foreground",children:"Sign in to your account"})}),f.jsx(Ps,{supabaseClient:xn,appearance:{theme:jW},providers:["google","facebook"],socialLayout:"vertical",theme:"dark"})]})})}const OW=()=>{const{isAuthenticated:t,userRole:e,loadingRole:n}=vg();return n?f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-slate-900",children:[f.jsx("p",{className:"text-xl",children:"Loading..."})," "]}):f.jsxs(UF,{children:[" ",f.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-slate-900",children:[f.jsxs(yN,{children:[f.jsx(Co,{path:"/",element:t?e==="admin"?f.jsx(tG,{}):f.jsx(eG,{}):f.jsx(qd,{to:"/auth",replace:!0})}),f.jsx(Co,{path:"/auth",element:t?f.jsx(qd,{to:"/",replace:!0}):f.jsx(FW,{})}),f.jsx(Co,{path:"/store/:storeId",element:f.jsx(yG,{})}),f.jsx(Co,{path:"/store/:storeId/product/:productId",element:f.jsx(_G,{})}),f.jsx(Co,{path:"/checkout",element:f.jsx(AG,{})}),f.jsx(Co,{path:"*",element:f.jsx(qd,{to:"/",replace:!0})})]}),f.jsx(LD,{})]})]})};$f.createRoot(document.getElementById("root")).render(f.jsx(k.StrictMode,{children:f.jsx(TN,{children:f.jsx(kF,{children:f.jsx(OW,{})})})}));export{F1 as g};
